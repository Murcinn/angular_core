(self.webpackChunkapp=self.webpackChunkapp||[]).push([[125],{125:(oe,Tt,T)=>{"use strict";T.r(Tt),T.d(Tt,{AppModule:()=>Rx});var et=T(1481),r=T(4650);class C{}class z{}const R="*";function v(n,e){return{type:7,name:n,definitions:e,options:{}}}function _(n,e=null){return{type:4,styles:e,timings:n}}function p(n,e=null){return{type:2,steps:n,options:e}}function V(n){return{type:6,styles:n,offset:null}}function E(n,e,t){return{type:0,name:n,styles:e,options:t}}function B(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function P(n){Promise.resolve().then(n)}class k{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){P(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class st{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,o=0;const s=this.players.length;0==s?P(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(o)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const ct="!";function q(n){return new r.vHH(3e3,!1)}function ie(){return typeof window<"u"&&typeof window.document<"u"}function pn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Mn(n){switch(n.length){case 0:return new k;case 1:return n[0];default:return new st(n)}}function N(n,e,t,i,o=new Map,s=new Map){const u=[],f=[];let y=-1,I=null;if(i.forEach(it=>{const mt=it.get("offset"),Mt=mt==y,At=Mt&&I||new Map;it.forEach((Ct,Ft)=>{let zt=Ft,Zt=Ct;if("offset"!==Ft)switch(zt=e.normalizePropertyName(zt,u),Zt){case ct:Zt=o.get(Ft);break;case R:Zt=s.get(Ft);break;default:Zt=e.normalizeStyleValue(Ft,zt,Zt,u)}At.set(zt,Zt)}),Mt||f.push(At),I=At,y=mt}),u.length)throw function ot(n){return new r.vHH(3502,!1)}();return f}function Un(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&tn(t,"start",n)));break;case"done":n.onDone(()=>i(t&&tn(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&tn(t,"destroy",n)))}}function tn(n,e,t){const s=kt(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function kt(n,e,t,i,o="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:o,totalTime:s,disabled:!!u}}function $e(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Sr(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ii=(n,e)=>!1,mn=(n,e,t)=>[],Ci=null;function Hn(n){const e=n.parentNode||n.host;return e===Ci?null:e}(pn()||typeof Element<"u")&&(ie()?(Ci=(()=>document.documentElement)(),ii=(n,e)=>{for(;e;){if(e===n)return!0;e=Hn(e)}return!1}):ii=(n,e)=>n.contains(e),mn=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Fn=null,ke=!1;const Cr=ii,Er=mn;let cn=(()=>{class n{validateStyleProperty(t){return function en(n){Fn||(Fn=function bo(){return typeof document<"u"?document.body:null}()||{},ke=!!Fn.style&&"WebkitAppearance"in Fn.style);let e=!0;return Fn.style&&!function fe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Fn.style,!e&&ke&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Fn.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Cr(t,i)}getParentElement(t){return Hn(t)}query(t,i,o){return Er(t,i,o)}computeStyle(t,i,o){return o||""}animate(t,i,o,s,u,f=[],y){return new k(o,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Ei=(()=>{class n{}return n.NOOP=new cn,n})();const xo=1e3,er="ng-enter",Mi="ng-leave",ri="ng-trigger",Vn=".ng-trigger",Ar="ng-animating",Fi=".ng-animating";function gn(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:be(parseFloat(e[1]),e[2])}function be(n,e){return"s"===e?n*xo:n}function nr(n,e,t){return n.hasOwnProperty("duration")?n:function wo(n,e,t){let o,s=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(q()),{duration:0,delay:0,easing:""};o=be(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(s=be(parseFloat(y),f[4]));const I=f[5];I&&(u=I)}else o=n;if(!t){let f=!1,y=e.length;o<0&&(e.push(function Et(){return new r.vHH(3100,!1)}()),f=!0),s<0&&(e.push(function Lt(){return new r.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,q())}return{duration:o,delay:s,easing:u}}(n,e,t)}function oi(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Mr(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function In(n,e=new Map,t){if(t)for(let[i,o]of t)e.set(i,o);for(let[i,o]of n)e.set(i,o);return e}function Co(n,e,t){return t?e+":"+t+";":""}function Eo(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Co(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Co(0,h(t),n.style[t]));n.setAttribute("style",e)}function _n(n,e,t){n.style&&(e.forEach((i,o)=>{const s=d(o);t&&!t.has(o)&&t.set(o,n.style[s]),n.style[s]=i}),pn()&&Eo(n))}function jn(n,e){n.style&&(e.forEach((t,i)=>{const o=d(i);n.style[o]=""}),pn()&&Eo(n))}function Ti(n){return Array.isArray(n)?1==n.length?n[0]:p(n):n}const Fr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ao(n){let e=[];if("string"==typeof n){let t;for(;t=Fr.exec(n);)e.push(t[1]);Fr.lastIndex=0}return e}function l(n,e,t){const i=n.toString(),o=i.replace(Fr,(s,u)=>{let f=e[u];return null==f&&(t.push(function he(n){return new r.vHH(3003,!1)}()),f=""),f.toString()});return o==i?n:o}function a(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const c=/-+([a-z0-9])/g;function d(n){return n.replace(c,(...e)=>e[1].toUpperCase())}function h(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function H(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ae(n){return new r.vHH(3004,!1)}()}}function L(n,e){return window.getComputedStyle(n)[e]}const vt="*";function F(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function $(n,e,t){if(":"==n[0]){const y=function tt(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function X(n){return new r.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function ee(n){return new r.vHH(3015,!1)}()),e;const o=i[1],s=i[2],u=i[3];e.push(yt(o,u));"<"==s[0]&&!(o==vt&&u==vt)&&e.push(yt(u,o))}(i,t,e)):t.push(n),t}const nt=new Set(["true","1"]),pt=new Set(["false","0"]);function yt(n,e){const t=nt.has(n)||pt.has(n),i=nt.has(e)||pt.has(e);return(o,s)=>{let u=n==vt||n==o,f=e==vt||e==s;return!u&&t&&"boolean"==typeof o&&(u=o?nt.has(n):pt.has(n)),!f&&i&&"boolean"==typeof s&&(f=s?nt.has(e):pt.has(e)),u&&f}}const St=new RegExp("s*:selfs*,?","g");function Xt(n,e,t,i){return new Vt(n).build(e,t,i)}class Vt{constructor(e){this._driver=e}build(e,t,i){const o=new pe(t);return this._resetContextStyleTimingState(o),H(this,Ti(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,o=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function ce(){return new r.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,I=y.name;I.toString().split(/\s*,\s*/).forEach(it=>{y.name=it,s.push(this.visitState(y,t))}),y.name=I}else if(1==f.type){const y=this.visitTransition(f,t);i+=y.queryCount,o+=y.depCount,u.push(y)}else t.errors.push(function m(){return new r.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:i,depCount:o,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=o||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{Ao(y).forEach(I=>{u.hasOwnProperty(I)||s.add(I)})})}),s.size&&(a(s.values()),t.errors.push(function S(n,e){return new r.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=H(this,Ti(e.animation),t);return{type:1,matchers:F(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:xe(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>H(this,i,t)),options:xe(e.options)}}visitGroup(e,t){const i=t.currentTime;let o=0;const s=e.steps.map(u=>{t.currentTime=i;const f=H(this,u,t);return o=Math.max(o,t.currentTime),f});return t.currentTime=o,{type:3,steps:s,options:xe(e.options)}}visitAnimate(e,t){const i=function Ue(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ve(nr(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=ve(0,0,"");return s.dynamic=!0,s.strValue=t,s}const o=nr(t,e);return ve(o.duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let o,s=e.styles?e.styles:V({});if(5==s.type)o=this.visitKeyframes(s,t);else{let u=e.styles,f=!1;if(!u){f=!0;const I={};i.easing&&(I.easing=i.easing),u=V(I)}t.currentTime+=i.duration+i.delay;const y=this.visitStyle(u,t);y.isEmptyStep=f,o=y}return t.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of o)"string"==typeof f?f===R?i.push(f):t.errors.push(new r.vHH(3002,!1)):i.push(Mr(f));let s=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!s))for(let y of f.values())if(y.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let o=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,y)=>{const I=t.collectedStyles.get(t.currentQuerySelector),it=I.get(y);let mt=!0;it&&(s!=o&&s>=it.startTime&&o<=it.endTime&&(t.errors.push(function dt(n,e,t,i,o){return new r.vHH(3010,!1)}()),mt=!1),s=it.startTime),mt&&I.set(y,{startTime:s,endTime:o}),t.options&&function Ps(n,e,t){const i=e.params||{},o=Ao(n);o.length&&o.forEach(s=>{i.hasOwnProperty(s)||t.push(function Wt(n){return new r.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gt(){return new r.vHH(3011,!1)}()),i;let s=0;const u=[];let f=!1,y=!1,I=0;const it=e.steps.map(Zt=>{const ue=this._makeStyleAst(Zt,t);let Ne=null!=ue.offset?ue.offset:function Ke(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ue.styles),Le=0;return null!=Ne&&(s++,Le=ue.offset=Ne),y=y||Le<0||Le>1,f=f||Le<I,I=Le,u.push(Le),ue});y&&t.errors.push(function bt(){return new r.vHH(3012,!1)}()),f&&t.errors.push(function Dt(){return new r.vHH(3200,!1)}());const mt=e.steps.length;let Mt=0;s>0&&s<mt?t.errors.push(function Bt(){return new r.vHH(3202,!1)}()):0==s&&(Mt=1/(mt-1));const At=mt-1,Ct=t.currentTime,Ft=t.currentAnimateTimings,zt=Ft.duration;return it.forEach((Zt,ue)=>{const Ne=Mt>0?ue==At?1:Mt*ue:u[ue],Le=Ne*zt;t.currentTime=Ct+Ft.delay+Le,Ft.duration=Le,this._validateStyleAst(Zt,t),Zt.offset=Ne,i.styles.push(Zt)}),i}visitReference(e,t){return{type:8,animation:H(this,Ti(e.animation),t),options:xe(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:xe(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:xe(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function de(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(St,"")),n=n.replace(/@\*/g,Vn).replace(/@\w+/g,t=>Vn+"-"+t.slice(1)).replace(/:animating/g,Fi),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,$e(t.collectedStyles,t.currentQuerySelector,new Map);const f=H(this,Ti(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:xe(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Kt(){return new r.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:nr(e.timings,t.errors,!0);return{type:12,animation:H(this,Ti(e.animation),t),timings:i,options:null}}}class pe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xe(n){return n?(n=oi(n)).params&&(n.params=function ge(n){return n?oi(n):null}(n.params)):n={},n}function ve(n,e,t){return{duration:n,delay:e,easing:t}}function we(n,e,t,i,o,s,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:o,delay:s,totalTime:o+s,easing:u,subTimeline:f}}class Ee{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const si=new RegExp(":enter","g"),ai=new RegExp(":leave","g");function Ii(n,e,t,i,o,s=new Map,u=new Map,f,y,I=[]){return(new Di).buildKeyframes(n,e,t,i,o,s,u,f,y,I)}class Di{buildKeyframes(e,t,i,o,s,u,f,y,I,it=[]){I=I||new Ee;const mt=new We(e,t,I,o,s,it,[]);mt.options=y;const Mt=y.delay?gn(y.delay):0;mt.currentTimeline.delayNextStep(Mt),mt.currentTimeline.setStyles([u],null,mt.errors,y),H(this,i,mt);const At=mt.timelines.filter(Ct=>Ct.containsAnimation());if(At.length&&f.size){let Ct;for(let Ft=At.length-1;Ft>=0;Ft--){const zt=At[Ft];if(zt.element===t){Ct=zt;break}}Ct&&!Ct.allowOnlyTimelineStyles()&&Ct.setStyles([f],null,mt.errors,y)}return At.length?At.map(Ct=>Ct.buildKeyframes()):[we(t,[],[],[],0,Mt,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const o=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,o,o.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const o of e){const s=o?.delay;if(s){const u="number"==typeof s?s:gn(l(s,o?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const u=null!=i.duration?gn(i.duration):null,f=null!=i.delay?gn(i.delay):null;return 0!==u&&e.forEach(y=>{const I=t.appendInstructionToTimeline(y,u,f);s=Math.max(s,I.duration+I.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),H(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let o=t;const s=e.options;if(s&&(s.params||s.delay)&&(o=t.createSubContext(s),o.transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ze);const u=gn(s.delay);o.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>H(this,u,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let o=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?gn(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);s&&f.delayNextStep(s),H(this,u,f),o=Math.max(o,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return nr(t.params?l(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),o.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,o=t.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=o&&o.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,o=t.currentTimeline.duration,s=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*s),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(o+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,o=e.options||{},s=o.delay?gn(o.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ze);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((I,it)=>{t.currentQueryIndex=it;const mt=t.createSubContext(e.options,I);s&&mt.delayNextStep(s),I===t.element&&(y=mt.currentTimeline),H(this,e.animation,mt),mt.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,mt.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,o=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),f=u*(t.currentQueryTotal-1);let y=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":y=f-y;break;case"full":y=i.currentStaggerTime}const it=t.currentTimeline;y&&it.delayNextStep(y);const mt=it.currentTime;H(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=o.currentTime-mt+(o.startTime-i.currentTimeline.startTime)}}const Ze={};class We{constructor(e,t,i,o,s,u,f,y){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=s,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ze,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new zn(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let o=this.options;null!=i.duration&&(o.duration=gn(i.duration)),null!=i.delay&&(o.delay=gn(i.delay));const s=i.params;if(s){let u=o.params;u||(u=this.options.params={}),Object.keys(s).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=l(s[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(o=>{i[o]=t[o]})}}return e}createSubContext(e=null,t,i){const o=t||this.element,s=new We(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ze,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Pi(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,o,s,u){let f=[];if(o&&f.push(this.element),e.length>0){e=(e=e.replace(si,"."+this._enterClassName)).replace(ai,"."+this._leaveClassName);let I=this._driver.query(this.element,e,1!=i);0!==i&&(I=i<0?I.slice(I.length+i,I.length):I.slice(0,i)),f.push(...I)}return!s&&0==f.length&&u.push(function te(n){return new r.vHH(3014,!1)}()),f}}class zn{constructor(e,t,i,o){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new zn(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||R),this._currentKeyframe.set(t,R);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,o){t&&this._previousKeyframe.set("easing",t);const s=o&&o.params||{},u=function Ni(n,e){const t=new Map;let i;return n.forEach(o=>{if("*"===o){i=i||e.keys();for(let s of i)t.set(s,R)}else In(o,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of u){const I=l(y,s,i);this._pendingStyles.set(f,I),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??R),this._updateStyle(f,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const o=this._styleSummary.get(i);(!o||t.time>o.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((f,y)=>{const I=In(f,new Map,this._backFill);I.forEach((it,mt)=>{it===ct?e.add(mt):it===R&&t.add(mt)}),i||I.set("offset",y/this.duration),o.push(I)});const s=e.size?a(e.values()):[],u=t.size?a(t.values()):[];if(i){const f=o[0],y=new Map(f);f.set("offset",0),y.set("offset",1),o=[f,y]}return we(this.element,o,s,u,this.duration,this.startTime,this.easing,!1)}}class Pi extends zn{constructor(e,t,i,o,s,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=i+t,f=t/u,y=In(e[0]);y.set("offset",0),s.push(y);const I=In(e[0]);I.set("offset",Oi(f)),s.push(I);const it=e.length-1;for(let mt=1;mt<=it;mt++){let Mt=In(e[mt]);const At=Mt.get("offset");Mt.set("offset",Oi((t+At*i)/u)),s.push(Mt)}i=u,t=0,o="",e=s}return we(this.element,e,this.preStyleProps,this.postStyleProps,i,t,o,!0)}}function Oi(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class qn{}const Gn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class kn extends qn{normalizePropertyName(e,t){return d(e)}normalizeStyleValue(e,t,i,o){let s="";const u=i.toString().trim();if(Gn.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&o.push(function It(n,e){return new r.vHH(3005,!1)}())}return u+s}}function me(n,e,t,i,o,s,u,f,y,I,it,mt,Mt){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:s,toState:i,toStyles:u,timelines:f,queriedElements:y,preStyleProps:I,postStyleProps:it,totalTime:mt,errors:Mt}}const un={};class Yn{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,o){return function Tr(n,e,t,i,o){return n.some(s=>s(e,t,i,o))}(this.ast.matchers,e,t,i,o)}buildStyles(e,t,i){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,i):new Map}build(e,t,i,o,s,u,f,y,I,it){const mt=[],Mt=this.ast.options&&this.ast.options.params||un,Ct=this.buildStyles(i,f&&f.params||un,mt),Ft=y&&y.params||un,zt=this.buildStyles(o,Ft,mt),Zt=new Set,ue=new Map,Ne=new Map,Le="void"===o,wr={params:$n(Ft,Mt),delay:this.ast.options?.delay},Ln=it?[]:Ii(e,t,this.ast.animation,s,u,Ct,zt,wr,I,mt);let an=0;if(Ln.forEach(ei=>{an=Math.max(ei.duration+ei.delay,an)}),mt.length)return me(t,this._triggerName,i,o,Le,Ct,zt,[],[],ue,Ne,an,mt);Ln.forEach(ei=>{const ni=ei.element,Vh=$e(ue,ni,new Set);ei.preStyleProps.forEach(Xi=>Vh.add(Xi));const yo=$e(Ne,ni,new Set);ei.postStyleProps.forEach(Xi=>yo.add(Xi)),ni!==t&&Zt.add(ni)});const ti=a(Zt.values());return me(t,this._triggerName,i,o,Le,Ct,zt,Ln,ti,ue,Ne,an)}}function $n(n,e){const t=oi(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Kn{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,o=oi(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!==u&&(o[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,f)=>{u&&(u=l(u,o,t));const y=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,y,u,t),i.set(f,u)})}),i}}class Ns{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(o=>{this.states.set(o.name,new Kn(o.style,o.options&&o.options.params||{},i))}),xl(this.states,"true","1"),xl(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new Yn(e,o,this.states))}),this.fallbackTransition=function Fo(n,e,t){return new Yn(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,o){return this.transitionFactories.find(u=>u.match(e,t,i,o))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function xl(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Gh=new Ee;class Yh{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=[],s=Xt(this._driver,t,i,o);if(i.length)throw function ht(n){return new r.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const o=e.element,s=N(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(o,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const o=[],s=this._animations.get(e);let u;const f=new Map;if(s?(u=Ii(this._driver,t,s,er,Mi,new Map,new Map,i,Gh,o),u.forEach(it=>{const mt=$e(f,it.element,new Map);it.postStyleProps.forEach(Mt=>mt.set(Mt,null))})):(o.push(function xt(){return new r.vHH(3300,!1)}()),u=[]),o.length)throw function Rt(n){return new r.vHH(3504,!1)}();f.forEach((it,mt)=>{it.forEach((Mt,At)=>{it.set(At,this._driver.computeStyle(mt,At,R))})});const I=Mn(u.map(it=>{const mt=f.get(it.element);return this._buildPlayer(it,new Map,mt)}));return this._playersById.set(e,I),I.onDestroy(()=>this.destroy(e)),this.players.push(I),I}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Yt(n){return new r.vHH(3301,!1)}();return t}listen(e,t,i,o){const s=kt(t,"","","");return Un(this._getPlayer(e),i,s,o),()=>{}}command(e,t,i,o){if("register"==i)return void this.register(e,o[0]);if("create"==i)return void this.create(e,t,o[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const wl="ng-animate-queued",Ls="ng-animate-disabled",Jh=[],Sl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yn="__ng_removed";class Bs{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function nf(n){return n??null}(i?e.value:e),i){const s=oi(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(o=>{null==i[o]&&(i[o]=t[o])})}}}const kr="void",Us=new Bs(kr);class Qh{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,bn(t,this._hostClassName)}listen(e,t,i,o){if(!this._triggers.has(t))throw function le(n,e){return new r.vHH(3302,!1)}();if(null==i||0==i.length)throw function ne(n){return new r.vHH(3303,!1)}();if(!function rf(n){return"start"==n||"done"==n}(i))throw function ye(n,e){return new r.vHH(3400,!1)}();const s=$e(this._elementListeners,e,[]),u={name:t,phase:i,callback:o};s.push(u);const f=$e(this._engine.statesByElement,e,new Map);return f.has(t)||(bn(e,ri),bn(e,ri+"-"+t),f.set(t,Us)),()=>{this._engine.afterFlush(()=>{const y=s.indexOf(u);y>=0&&s.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Be(n){return new r.vHH(3401,!1)}();return t}trigger(e,t,i,o=!0){const s=this._getTrigger(t),u=new Hs(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(bn(e,ri),bn(e,ri+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const I=new Bs(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&y&&I.absorbOptions(y.options),f.set(t,I),y||(y=Us),I.value!==kr&&y.value===I.value){if(!function lf(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++){const s=t[o];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(y.params,I.params)){const Ft=[],zt=s.matchStyles(y.value,y.params,Ft),Zt=s.matchStyles(I.value,I.params,Ft);Ft.length?this._engine.reportError(Ft):this._engine.afterFlush(()=>{jn(e,zt),_n(e,Zt)})}return}const Mt=$e(this._engine.playersByElement,e,[]);Mt.forEach(Ft=>{Ft.namespaceId==this.id&&Ft.triggerName==t&&Ft.queued&&Ft.destroy()});let At=s.matchTransition(y.value,I.value,e,I.params),Ct=!1;if(!At){if(!o)return;At=s.fallbackTransition,Ct=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:At,fromState:y,toState:I,player:u,isFallbackTransition:Ct}),Ct||(bn(e,wl),u.onStart(()=>{ir(e,wl)})),u.onDone(()=>{let Ft=this.players.indexOf(u);Ft>=0&&this.players.splice(Ft,1);const zt=this._engine.playersByElement.get(e);if(zt){let Zt=zt.indexOf(u);Zt>=0&&zt.splice(Zt,1)}}),this.players.push(u),Mt.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Vn,!0);i.forEach(o=>{if(o[yn])return;const s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(u=>u.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,i,o){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const f=[];if(s.forEach((y,I)=>{if(u.set(I,y.value),this._triggers.has(I)){const it=this.trigger(e,I,kr,o);it&&f.push(it)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Mn(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const o=new Set;t.forEach(s=>{const u=s.name;if(o.has(u))return;o.add(u);const y=this._triggers.get(u).fallbackTransition,I=i.get(u)||Us,it=new Bs(kr),mt=new Hs(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:y,fromState:I,toState:it,player:mt,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)o=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[yn];(!s||s===Sl)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){bn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(f=>{if(f.name==i.triggerName){const y=kt(s,i.triggerName,i.fromState.value,i.toState.value);y._data=e,Un(i.player,f.phase,y,f.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(i)}),this._queue=[],t.sort((i,o)=>{const s=i.transition.ast.depCount,u=o.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class tf{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Qh(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const y=o.get(f);if(y){const I=i.indexOf(y);i.splice(I+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return o.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let o=this._namespaceLookup[e];o&&o.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let o of i.values())if(o.namespaceId){const s=this._fetchNamespace(o.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,o){if(To(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,o),!0}return!1}insertNode(e,t,i,o){if(!To(t))return;const s=t[yn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bn(e,Ls)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ir(e,Ls))}removeNode(e,t,i,o){if(To(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,i,o,s){this.collectedLeaveElements.push(t),t[yn]={namespaceId:e,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,o,s){return To(t)?this._fetchNamespace(e).listen(t,i,o,s):()=>{}}_buildInstruction(e,t,i,o,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,o,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Vn,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Fi,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Mn(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[yn];if(t&&t.setForRemoval){if(e[yn]=Sl,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ls)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)bn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Mn(t).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(e){throw function Ye(n){return new r.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Ee,o=[],s=new Map,u=[],f=new Map,y=new Map,I=new Map,it=new Set;this.disabledNodes.forEach(Ht=>{it.add(Ht);const qt=this.driver.query(Ht,".ng-animate-queued",!0);for(let $t=0;$t<qt.length;$t++)it.add(qt[$t])});const mt=this.bodyNode,Mt=Array.from(this.statesByElement.keys()),At=Al(Mt,this.collectedEnterElements),Ct=new Map;let Ft=0;At.forEach((Ht,qt)=>{const $t=er+Ft++;Ct.set(qt,$t),Ht.forEach(se=>bn(se,$t))});const zt=[],Zt=new Set,ue=new Set;for(let Ht=0;Ht<this.collectedLeaveElements.length;Ht++){const qt=this.collectedLeaveElements[Ht],$t=qt[yn];$t&&$t.setForRemoval&&(zt.push(qt),Zt.add(qt),$t.hasAnimation?this.driver.query(qt,".ng-star-inserted",!0).forEach(se=>Zt.add(se)):ue.add(qt))}const Ne=new Map,Le=Al(Mt,Array.from(Zt));Le.forEach((Ht,qt)=>{const $t=Mi+Ft++;Ne.set(qt,$t),Ht.forEach(se=>bn(se,$t))}),e.push(()=>{At.forEach((Ht,qt)=>{const $t=Ct.get(qt);Ht.forEach(se=>ir(se,$t))}),Le.forEach((Ht,qt)=>{const $t=Ne.get(qt);Ht.forEach(se=>ir(se,$t))}),zt.forEach(Ht=>{this.processLeaveNode(Ht)})});const wr=[],Ln=[];for(let Ht=this._namespaceList.length-1;Ht>=0;Ht--)this._namespaceList[Ht].drainQueuedTransitions(t).forEach($t=>{const se=$t.player,je=$t.element;if(wr.push(se),this.collectedEnterElements.length){const Qe=je[yn];if(Qe&&Qe.setForMove){if(Qe.previousTriggersValues&&Qe.previousTriggersValues.has($t.triggerName)){const Qi=Qe.previousTriggersValues.get($t.triggerName),An=this.statesByElement.get($t.element);if(An&&An.has($t.triggerName)){const Ds=An.get($t.triggerName);Ds.value=Qi,An.set($t.triggerName,Ds)}}return void se.destroy()}}const Bn=!mt||!this.driver.containsElement(mt,je),hn=Ne.get(je),Si=Ct.get(je),Se=this._buildInstruction($t,i,Si,hn,Bn);if(Se.errors&&Se.errors.length)return void Ln.push(Se);if(Bn)return se.onStart(()=>jn(je,Se.fromStyles)),se.onDestroy(()=>_n(je,Se.toStyles)),void o.push(se);if($t.isFallbackTransition)return se.onStart(()=>jn(je,Se.fromStyles)),se.onDestroy(()=>_n(je,Se.toStyles)),void o.push(se);const qh=[];Se.timelines.forEach(Qe=>{Qe.stretchStartingKeyframe=!0,this.disabledNodes.has(Qe.element)||qh.push(Qe)}),Se.timelines=qh,i.append(je,Se.timelines),u.push({instruction:Se,player:se,element:je}),Se.queriedElements.forEach(Qe=>$e(f,Qe,[]).push(se)),Se.preStyleProps.forEach((Qe,Qi)=>{if(Qe.size){let An=y.get(Qi);An||y.set(Qi,An=new Set),Qe.forEach((Ds,bl)=>An.add(bl))}}),Se.postStyleProps.forEach((Qe,Qi)=>{let An=I.get(Qi);An||I.set(Qi,An=new Set),Qe.forEach((Ds,bl)=>An.add(bl))})});if(Ln.length){const Ht=[];Ln.forEach(qt=>{Ht.push(function jt(n,e){return new r.vHH(3505,!1)}())}),wr.forEach(qt=>qt.destroy()),this.reportError(Ht)}const an=new Map,ti=new Map;u.forEach(Ht=>{const qt=Ht.element;i.has(qt)&&(ti.set(qt,qt),this._beforeAnimationBuild(Ht.player.namespaceId,Ht.instruction,an))}),o.forEach(Ht=>{const qt=Ht.element;this._getPreviousPlayers(qt,!1,Ht.namespaceId,Ht.triggerName,null).forEach(se=>{$e(an,qt,[]).push(se),se.destroy()})});const ei=zt.filter(Ht=>Fl(Ht,y,I)),ni=new Map;El(ni,this.driver,ue,I,R).forEach(Ht=>{Fl(Ht,y,I)&&ei.push(Ht)});const yo=new Map;At.forEach((Ht,qt)=>{El(yo,this.driver,new Set(Ht),y,ct)}),ei.forEach(Ht=>{const qt=ni.get(Ht),$t=yo.get(Ht);ni.set(Ht,new Map([...Array.from(qt?.entries()??[]),...Array.from($t?.entries()??[])]))});const Xi=[],jh=[],zh={};u.forEach(Ht=>{const{element:qt,player:$t,instruction:se}=Ht;if(i.has(qt)){if(it.has(qt))return $t.onDestroy(()=>_n(qt,se.toStyles)),$t.disabled=!0,$t.overrideTotalTime(se.totalTime),void o.push($t);let je=zh;if(ti.size>1){let hn=qt;const Si=[];for(;hn=hn.parentNode;){const Se=ti.get(hn);if(Se){je=Se;break}Si.push(hn)}Si.forEach(Se=>ti.set(Se,je))}const Bn=this._buildAnimation($t.namespaceId,se,an,s,yo,ni);if($t.setRealPlayer(Bn),je===zh)Xi.push($t);else{const hn=this.playersByElement.get(je);hn&&hn.length&&($t.parentPlayer=Mn(hn)),o.push($t)}}else jn(qt,se.fromStyles),$t.onDestroy(()=>_n(qt,se.toStyles)),jh.push($t),it.has(qt)&&o.push($t)}),jh.forEach(Ht=>{const qt=s.get(Ht.element);if(qt&&qt.length){const $t=Mn(qt);Ht.setRealPlayer($t)}}),o.forEach(Ht=>{Ht.parentPlayer?Ht.syncPlayerEvents(Ht.parentPlayer):Ht.destroy()});for(let Ht=0;Ht<zt.length;Ht++){const qt=zt[Ht],$t=qt[yn];if(ir(qt,Mi),$t&&$t.hasAnimation)continue;let se=[];if(f.size){let Bn=f.get(qt);Bn&&Bn.length&&se.push(...Bn);let hn=this.driver.query(qt,Fi,!0);for(let Si=0;Si<hn.length;Si++){let Se=f.get(hn[Si]);Se&&Se.length&&se.push(...Se)}}const je=se.filter(Bn=>!Bn.destroyed);je.length?sf(this,qt,je):this.processLeaveNode(qt)}return zt.length=0,Xi.forEach(Ht=>{this.players.push(Ht),Ht.onDone(()=>{Ht.destroy();const qt=this.players.indexOf(Ht);this.players.splice(qt,1)}),Ht.play()}),Xi}elementContainsData(e,t){let i=!1;const o=t[yn];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,o,s){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const y=!s||s==kr;f.forEach(I=>{I.queued||!y&&I.triggerName!=o||u.push(I)})}}return(i||o)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||o&&o!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const s=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const I=y.element,it=I!==s,mt=$e(i,I,[]);this._getPreviousPlayers(I,it,u,f,t.toState).forEach(At=>{const Ct=At.getRealPlayer();Ct.beforeDestroy&&Ct.beforeDestroy(),At.destroy(),mt.push(At)})}jn(s,t.fromStyles)}_buildAnimation(e,t,i,o,s,u){const f=t.triggerName,y=t.element,I=[],it=new Set,mt=new Set,Mt=t.timelines.map(Ct=>{const Ft=Ct.element;it.add(Ft);const zt=Ft[yn];if(zt&&zt.removedBeforeQueried)return new k(Ct.duration,Ct.delay);const Zt=Ft!==y,ue=function af(n){const e=[];return Ml(n,e),e}((i.get(Ft)||Jh).map(an=>an.getRealPlayer())).filter(an=>!!an.element&&an.element===Ft),Ne=s.get(Ft),Le=u.get(Ft),wr=N(0,this._normalizer,0,Ct.keyframes,Ne,Le),Ln=this._buildPlayer(Ct,wr,ue);if(Ct.subTimeline&&o&&mt.add(Ft),Zt){const an=new Hs(e,f,Ft);an.setRealPlayer(Ln),I.push(an)}return Ln});I.forEach(Ct=>{$e(this.playersByQueriedElement,Ct.element,[]).push(Ct),Ct.onDone(()=>function ef(n,e,t){let i=n.get(e);if(i){if(i.length){const o=i.indexOf(t);i.splice(o,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,Ct.element,Ct))}),it.forEach(Ct=>bn(Ct,Ar));const At=Mn(Mt);return At.onDestroy(()=>{it.forEach(Ct=>ir(Ct,Ar)),_n(y,t.toStyles)}),mt.forEach(Ct=>{$e(o,Ct,[]).push(At)}),At}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new k(e.duration,e.delay)}}class Hs{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new k,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(o=>Un(e,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$e(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function To(n){return n&&1===n.nodeType}function Cl(n,e){const t=n.style.display;return n.style.display=e??"none",t}function El(n,e,t,i,o){const s=[];t.forEach(y=>s.push(Cl(y)));const u=[];i.forEach((y,I)=>{const it=new Map;y.forEach(mt=>{const Mt=e.computeStyle(I,mt,o);it.set(mt,Mt),(!Mt||0==Mt.length)&&(I[yn]=Xh,u.push(I))}),n.set(I,it)});let f=0;return t.forEach(y=>Cl(y,s[f++])),u}function Al(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=1,o=new Set(e),s=new Map;function u(f){if(!f)return i;let y=s.get(f);if(y)return y;const I=f.parentNode;return y=t.has(I)?I:o.has(I)?i:u(I),s.set(f,y),y}return e.forEach(f=>{const y=u(f);y!==i&&t.get(y).push(f)}),t}function bn(n,e){n.classList?.add(e)}function ir(n,e){n.classList?.remove(e)}function sf(n,e,t){Mn(t).onDone(()=>n.processLeaveNode(e))}function Ml(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof st?Ml(i.players,e):e.push(i)}}function Fl(n,e,t){const i=t.get(n);if(!i)return!1;let o=e.get(n);return o?i.forEach(s=>o.add(s)):e.set(n,i),t.delete(n),!0}class ko{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new tf(e,t,i),this._timelineEngine=new Yh(e,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,o,s){const u=e+"-"+o;let f=this._triggerCache[u];if(!f){const y=[],I=[],it=Xt(this._driver,s,y,I);if(y.length)throw function Q(n,e){return new r.vHH(3404,!1)}();f=function Os(n,e,t){return new Ns(n,e,t)}(o,it,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,o,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,o){this._transitionEngine.insertNode(e,t,i,o)}onRemove(e,t,i,o){this._transitionEngine.removeNode(e,t,o||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,o){if("@"==i.charAt(0)){const[s,u]=Sr(i);this._timelineEngine.command(s,t,u,o)}else this._transitionEngine.trigger(e,t,i,o)}listen(e,t,i,o,s){if("@"==i.charAt(0)){const[u,f]=Sr(i);return this._timelineEngine.listen(u,t,f,s)}return this._transitionEngine.listen(e,t,i,o,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uf=(()=>{class n{constructor(t,i,o){this._element=t,this._startStyles=i,this._endStyles=o,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&_n(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_n(this._element,this._initialStyles),this._endStyles&&(_n(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(jn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jn(this._element,this._endStyles),this._endStyles=null),_n(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Vs(n){let e=null;return n.forEach((t,i)=>{(function df(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Tl{constructor(e,t,i,o){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&e.set(o,this._finished?i:L(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class hf{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Cr(e,t)}getParentElement(e){return Hn(e)}query(e,t,i){return Er(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,o,s,u=[]){const y={duration:i,delay:o,fill:0==o?"both":"forwards"};s&&(y.easing=s);const I=new Map,it=u.filter(At=>At instanceof Tl);(function b(n,e){return 0===n||0===e})(i,o)&&it.forEach(At=>{At.currentSnapshot.forEach((Ct,Ft)=>I.set(Ft,Ct))});let mt=function Ce(n){return n.length?n[0]instanceof Map?n:n.map(e=>Mr(e)):[]}(t).map(At=>In(At));mt=function M(n,e,t){if(t.size&&e.length){let i=e[0],o=[];if(t.forEach((s,u)=>{i.has(u)||o.push(u),i.set(u,s)}),o.length)for(let s=1;s<e.length;s++){let u=e[s];o.forEach(f=>u.set(f,L(n,f)))}}return e}(e,mt,I);const Mt=function cf(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Vs(e[0]),e.length>1&&(i=Vs(e[e.length-1]))):e instanceof Map&&(t=Vs(e)),t||i?new uf(n,t,i):null}(e,mt);return new Tl(e,mt,y,Mt)}}var Nt=T(6895);let ff=(()=>{class n extends C{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?p(t):t;return kl(this._renderer,null,i,"register",[o]),new pf(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.FYo),r.LFG(Nt.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class pf extends z{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new mf(this._id,e,t||{},this._renderer)}}class mf{constructor(e,t,i,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return kl(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function kl(n,e,t,i,o){return n.setProperty(e,`@@${t}:${i}`,o)}const Rl="@.disabled";let gf=(()=>{class n{constructor(t,i,o){this.delegate=t,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const f=u?.parentNode(s);f&&u.removeChild(f,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let it=this._rendererCache.get(s);return it||(it=new Il("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,it)),it}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=it=>{Array.isArray(it)?it.forEach(y):this.engine.registerTrigger(u,f,t,it.name,it)};return i.data.animation.forEach(y),new _f(this,f,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,o){t>=0&&t<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,f]=s;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.FYo),r.LFG(ko),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Il{constructor(e,t,i,o){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,o=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,o){this.delegate.setAttribute(e,t,i,o)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,o){this.delegate.setStyle(e,t,i,o)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Rl?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _f extends Il{constructor(e,t,i,o,s){super(t,i,o,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Rl?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const o=function vf(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function yf(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,o,s,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}const Dl=[{provide:C,useClass:ff},{provide:qn,useFactory:function xf(){return new kn}},{provide:ko,useClass:(()=>{class n extends ko{constructor(t,i,o,s){super(t.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Nt.K0),r.LFG(Ei),r.LFG(qn),r.LFG(r.z2F))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:r.FYo,useFactory:function wf(n,e,t){return new gf(n,e,t)},deps:[et.se,ko,r.R0b]}],js=[{provide:Ei,useFactory:()=>new hf},{provide:r.QbO,useValue:"BrowserAnimations"},...Dl],Pl=[{provide:Ei,useClass:cn},{provide:r.QbO,useValue:"NoopAnimations"},...Dl];let zs,Sf=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Pl:js}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:js,imports:[et.b2]}),n})();try{zs=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zs=!1}let rr,qe=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,Nt.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zs)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.Lbi))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ol=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Nl(){if(rr)return rr;if("object"!=typeof document||!document)return rr=new Set(Ol),rr;let n=document.createElement("input");return rr=new Set(Ol.filter(e=>(n.setAttribute("type",e),n.type===e))),rr}let Rr,Io,Li,qs;function or(n){return function Cf(){if(null==Rr&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rr=!0}))}finally{Rr=Rr||!1}return Rr}()?n:!!n.capture}function Ll(){if(null==Li){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Li=!1,Li;if("scrollBehavior"in document.documentElement.style)Li=!0;else{const n=Element.prototype.scrollTo;Li=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Li}function Ir(){if("object"!=typeof document||!document)return 0;if(null==Io){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Io=0,0===n.scrollLeft&&(n.scrollLeft=1,Io=0===n.scrollLeft?1:2),n.remove()}return Io}function li(n){return n.composedPath?n.composedPath()[0]:n.target}function Gs(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var re=T(7579);class xn extends re.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var sr=T(3269),Ae=T(2076);function Ut(...n){const e=(0,sr.yG)(n);return(0,Ae.D)(n,e)}var He=T(4482),Ie=T(5403);function wn(n,e){return(0,He.e)((t,i)=>{let o=0;t.subscribe((0,Ie.x)(i,s=>n.call(e,s,o++)&&i.next(s)))})}function Bl(n){return wn((e,t)=>n<=t)}var ar=T(4671);function Df(n,e){return n===e}var Bi=T(8421),Pf=T(5032);function ci(n){return(0,He.e)((e,t)=>{(0,Bi.Xf)(n).subscribe((0,Ie.x)(t,()=>t.complete(),Pf.Z)),!t.closed&&e.subscribe(t)})}function Zn(n){return null!=n&&"false"!=`${n}`}function Do(n){return Array.isArray(n)?n:[n]}function De(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wn(n){return n instanceof r.SBq?n.nativeElement:n}var rn=T(9751);const{isArray:Lf}=Array,{getPrototypeOf:Bf,prototype:Uf,keys:Hf}=Object;function Ul(n){if(1===n.length){const e=n[0];if(Lf(e))return{args:e,keys:null};if(function Vf(n){return n&&"object"==typeof n&&Bf(n)===Uf}(e)){const t=Hf(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Gt=T(4004);const{isArray:jf}=Array;function Ys(n){return(0,Gt.U)(e=>function zf(n,e){return jf(e)?n(...e):n(e)}(n,e))}function Hl(n,e){return n.reduce((t,i,o)=>(t[i]=e[o],t),{})}var qf=T(9672);function Po(...n){const e=(0,sr.yG)(n),t=(0,sr.jO)(n),{args:i,keys:o}=Ul(n);if(0===i.length)return(0,Ae.D)([],e);const s=new rn.y(function Gf(n,e,t=ar.y){return i=>{Vl(e,()=>{const{length:o}=n,s=new Array(o);let u=o,f=o;for(let y=0;y<o;y++)Vl(e,()=>{const I=(0,Ae.D)(n[y],e);let it=!1;I.subscribe((0,Ie.x)(i,mt=>{s[y]=mt,it||(it=!0,f--),f||i.next(t(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,o?u=>Hl(o,u):ar.y));return t?s.pipe(Ys(t)):s}function Vl(n,e,t){n?(0,qf.f)(t,n,e):e()}var Dr=T(8189);function Oo(...n){return function Yf(){return(0,Dr.J)(1)}()((0,Ae.D)(n,(0,sr.yG)(n)))}var Sn=T(515);function Dn(n){return n<=0?()=>Sn.E:(0,He.e)((e,t)=>{let i=0;e.subscribe((0,Ie.x)(t,o=>{++i<=n&&(t.next(o),n<=i&&t.complete())}))})}var ui=T(727);class $f extends ui.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const No={setInterval(n,e,...t){const{delegate:i}=No;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=No;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Kf=T(8737);class $s extends $f{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return No.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&No.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,i=!1;try{this.work(e)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Kf.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Ks={now:()=>(Ks.delegate||Date).now(),delegate:void 0};class Pr{constructor(e,t=Pr.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Pr.now=Ks.now;class Zs extends Pr{constructor(e,t=Pr.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Ws=new Zs($s),Zf=Ws;function jl(n,e=Ws){return(0,He.e)((t,i)=>{let o=null,s=null,u=null;const f=()=>{if(o){o.unsubscribe(),o=null;const I=s;s=null,i.next(I)}};function y(){const I=u+n,it=e.now();if(it<I)return o=this.schedule(void 0,I-it),void i.add(o);f()}t.subscribe((0,Ie.x)(i,I=>{s=I,u=e.now(),o||(o=e.schedule(y,n),i.add(o))},()=>{f(),i.complete()},void 0,()=>{s=o=null}))})}function Or(...n){const e=(0,sr.yG)(n);return(0,He.e)((t,i)=>{(e?Oo(n,t,e):Oo(n,t)).subscribe(i)})}const zl=new Set;let lr,Wf=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xf}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Jf(n){if(!zl.has(n))try{lr||(lr=document.createElement("style"),lr.setAttribute("type","text/css"),document.head.appendChild(lr)),lr.sheet&&(lr.sheet.insertRule(`@media ${n} {body{ }}`,0),zl.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(qe))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xf(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Qf=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new re.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ql(Do(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){let s=Po(ql(Do(t)).map(u=>this._registerQuery(u).observable));return s=Oo(s.pipe(Dn(1)),s.pipe(Bl(1),jl(0))),s.pipe((0,Gt.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:y,query:I})=>{f.matches=f.matches||y,f.breakpoints[I]=y}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new rn.y(u=>{const f=y=>this._zone.run(()=>u.next(y));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Or(i),(0,Gt.U)(({matches:u})=>({query:t,matches:u})),ci(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Wf),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ql(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Kl(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Zl(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const ap=new r.OlP("cdk-input-modality-detector-options"),lp={ignoreKeys:[18,17,224,91,16]},cr=or({passive:!0,capture:!0});let cp=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,o,s){this._platform=t,this._mostRecentTarget=null,this._modality=new xn(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=li(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Kl(u)?"keyboard":"mouse"),this._mostRecentTarget=li(u))},this._onTouchstart=u=>{Zl(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=li(u))},this._options={...lp,...s},this.modalityDetected=this._modality.pipe(Bl(1)),this.modalityChanged=this.modalityDetected.pipe(function If(n,e=ar.y){return n=n??Df,(0,He.e)((t,i)=>{let o,s=!0;t.subscribe((0,Ie.x)(i,u=>{const f=e(u);(s||!n(o,f))&&(s=!1,o=f,i.next(u))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,cr),o.addEventListener("mousedown",this._onMousedown,cr),o.addEventListener("touchstart",this._onTouchstart,cr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,cr),document.removeEventListener("mousedown",this._onMousedown,cr),document.removeEventListener("touchstart",this._onTouchstart,cr))}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(qe),r.LFG(r.R0b),r.LFG(Nt.K0),r.LFG(ap,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dp=new r.OlP("cdk-focus-monitor-default-options"),Lo=or({passive:!0,capture:!0});let hp=(()=>{class n{constructor(t,i,o,s,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new re.x,this._rootNodeFocusAndBlurListener=f=>{for(let I=li(f);I;I=I.parentElement)"focus"===f.type?this._onFocus(f,I):this._onBlur(f,I)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const o=Wn(t);if(!this._platform.isBrowser||1!==o.nodeType)return Ut(null);const s=function Af(n){if(function Ef(){if(null==qs){const n=typeof document<"u"?document.head:null;qs=!(!n||!n.createShadowRoot&&!n.attachShadow)}return qs}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(o)||this._getDocument(),u=this._elementInfo.get(o);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new re.x,rootNode:s};return this._elementInfo.set(o,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Wn(t),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(t,i,o){const s=Wn(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([f,y])=>this._originChanged(f,i,y)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const o=this._elementInfo.get(i),s=li(t);!o||!o.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),o)}_onBlur(t,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Lo),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Lo)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ci(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Lo),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Lo),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,o){this._setClasses(t,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((o,s)=>{(s===t||o.checkChildren&&s.contains(t))&&i.push([s,o])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.R0b),r.LFG(qe),r.LFG(cp),r.LFG(Nt.K0,8),r.LFG(dp,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jl="cdk-high-contrast-black-on-white",Xl="cdk-high-contrast-white-on-black",Js="cdk-high-contrast-active";let fp=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,r.f3M)(Qf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Js,Jl,Xl),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Js,Jl):2===i&&t.add(Js,Xl)}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(qe),r.LFG(Nt.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pp=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function mp(){return(0,r.f3M)(Nt.K0)}}),gp=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Nr=(()=>{class n{constructor(t){this.value="ltr",this.change=new r.vpe,t&&(this.value=function _p(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?gp.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(pp,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const yp=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function vp(){return!0}});let Pe=(()=>{class n{constructor(t,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Gs()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(fp),r.LFG(yp,8),r.LFG(Nt.K0))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Lr,Lr]}),n})();function bp(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Zn(e)}constructor(...e){super(...e),this._disabled=!1}}}function Xs(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function xp(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Zn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function wp(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let Cp=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ec=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Pe,Pe]}),n})();class Ep{constructor(e,t,i,o=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const nc=or({passive:!0,capture:!0});class Ap{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=li(e);t&&this._events.get(e.type)?.forEach((i,o)=>{(o===t||o.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,o){const s=this._events.get(t);if(s){const u=s.get(i);u?u.add(o):s.set(i,new Set([o]))}else this._events.set(t,new Map([[i,new Set([o])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,nc)})}removeHandler(e,t,i){const o=this._events.get(e);if(!o)return;const s=o.get(t);s&&(s.delete(i),0===s.size&&o.delete(t),0===o.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,nc)))}}const ic={enterDuration:225,exitDuration:150},rc=or({passive:!0,capture:!0}),oc=["mousedown","touchstart"],sc=["mouseup","mouseleave","touchend","touchcancel"];class Ur{constructor(e,t,i,o){this._target=e,this._ngZone=t,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Wn(i))}fadeInRipple(e,t,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...ic,...i.animation};i.centered&&(e=o.left+o.width/2,t=o.top+o.height/2);const u=i.radius||function Fp(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),o=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+o*o)}(e,t,o),f=e-o.left,y=t-o.top,I=s.enterDuration,it=document.createElement("div");it.classList.add("mat-ripple-element"),it.style.left=f-u+"px",it.style.top=y-u+"px",it.style.height=2*u+"px",it.style.width=2*u+"px",null!=i.color&&(it.style.backgroundColor=i.color),it.style.transitionDuration=`${I}ms`,this._containerElement.appendChild(it);const mt=window.getComputedStyle(it),At=mt.transitionDuration,Ct="none"===mt.transitionProperty||"0s"===At||"0s, 0s"===At||0===o.width&&0===o.height,Ft=new Ep(this,it,i,Ct);it.style.transform="scale3d(1, 1, 1)",Ft.state=0,i.persistent||(this._mostRecentTransientRipple=Ft);let zt=null;return!Ct&&(I||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Zt=()=>this._finishRippleTransition(Ft),ue=()=>this._destroyRipple(Ft);it.addEventListener("transitionend",Zt),it.addEventListener("transitioncancel",ue),zt={onTransitionEnd:Zt,onTransitionCancel:ue}}),this._activeRipples.set(Ft,zt),(Ct||!I)&&this._finishRippleTransition(Ft),Ft}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...ic,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Wn(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,oc.forEach(i=>{Ur._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{sc.forEach(t=>{this._triggerElement.addEventListener(t,this,rc)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Kl(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Zl(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(oc.forEach(t=>Ur._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&sc.forEach(t=>e.removeEventListener(t,this,rc)))}}Ur._eventManager=new Ap;const Tp=new r.OlP("mat-ripple-global-options");let Qs=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,o,s,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ur(this,i,t,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,o){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(qe),r.Y36(Tp,8),r.Y36(r.QbO,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&r.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ac=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Pe,Pe]}),n})();const kp=["*"],Op=new r.OlP("MAT_CARD_CONFIG");let di=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Op,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&r.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:kp,decls:1,vars:0,template:function(t,i){1&t&&(r.F$t(),r.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),Bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),Uo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),ta=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Pe,Nt.ez,Pe]}),n})();const Hr=(0,T(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function lc(n){return new rn.y(e=>{(0,Bi.Xf)(n()).subscribe(e)})}var Kp=T(9635),Rn=T(576);function hi(n,e){const t=(0,Rn.m)(n)?n:()=>n,i=o=>o.error(t());return new rn.y(e?o=>e.schedule(i,0,o):i)}function ea(){return(0,He.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Ie.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,s=t;t=null,o&&(!s||o===s)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class cc extends rn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,He.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ui.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ie.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ui.w0.EMPTY)}return e}refCount(){return ea()(this)}}function on(n,e){return(0,He.e)((t,i)=>{let o=null,s=0,u=!1;const f=()=>u&&!o&&i.complete();t.subscribe((0,Ie.x)(i,y=>{o?.unsubscribe();let I=0;const it=s++;(0,Bi.Xf)(n(y,it)).subscribe(o=(0,Ie.x)(i,mt=>i.next(e?e(y,mt,it,I++):mt),()=>{o=null,f()}))},()=>{u=!0,f()}))})}var Je=T(5577);function Ho(n){return(0,He.e)((e,t)=>{let i=!1;e.subscribe((0,Ie.x)(t,o=>{i=!0,t.next(o)},()=>{i||t.next(n),t.complete()}))})}function uc(n=Zp){return(0,He.e)((e,t)=>{let i=!1;e.subscribe((0,Ie.x)(t,o=>{i=!0,t.next(o)},()=>i?t.complete():t.error(n())))})}function Zp(){return new Hr}function fi(n,e){const t=arguments.length>=2;return i=>i.pipe(n?wn((o,s)=>n(o,s,i)):ar.y,Dn(1),t?Ho(e):uc(()=>new Hr))}function pi(n,e){return(0,Rn.m)(e)?(0,Je.z)(n,e,1):(0,Je.z)(n,1)}function Me(n,e,t){const i=(0,Rn.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,He.e)((o,s)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let f=!0;o.subscribe((0,Ie.x)(s,y=>{var I;null===(I=i.next)||void 0===I||I.call(i,y),s.next(y)},()=>{var y;f=!1,null===(y=i.complete)||void 0===y||y.call(i),s.complete()},y=>{var I;f=!1,null===(I=i.error)||void 0===I||I.call(i,y),s.error(y)},()=>{var y,I;f&&(null===(y=i.unsubscribe)||void 0===y||y.call(i)),null===(I=i.finalize)||void 0===I||I.call(i)}))}):ar.y}function Cn(n){return(0,He.e)((e,t)=>{let s,i=null,o=!1;i=e.subscribe((0,Ie.x)(t,void 0,void 0,u=>{s=(0,Bi.Xf)(n(u,Cn(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):o=!0})),o&&(i.unsubscribe(),i=null,s.subscribe(t))})}function dc(n,e){return(0,He.e)(function Wp(n,e,t,i,o){return(s,u)=>{let f=t,y=e,I=0;s.subscribe((0,Ie.x)(u,it=>{const mt=I++;y=f?n(y,it,mt):(f=!0,it),i&&u.next(y)},o&&(()=>{f&&u.next(y),u.complete()})))}}(n,e,arguments.length>=2,!0))}function na(n){return n<=0?()=>Sn.E:(0,He.e)((e,t)=>{let i=[];e.subscribe((0,Ie.x)(t,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)t.next(o);t.complete()},void 0,()=>{i=null}))})}function hc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?wn((o,s)=>n(o,s,i)):ar.y,na(1),t?Ho(e):uc(()=>new Hr))}function Vr(n){return(0,He.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Jt="primary",jr=Symbol("RouteTitle");class Qp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ur(n){return new Qp(n)}function tm(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const o={};for(let s=0;s<i.length;s++){const u=i[s],f=n[s];if(u.startsWith(":"))o[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function Pn(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let o;for(let s=0;s<t.length;s++)if(o=t[s],!fc(n[o],e[o]))return!1;return!0}function fc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((o,s)=>i[s]===o)}return n===e}function pc(n){return Array.prototype.concat.apply([],n)}function mc(n){return n.length>0?n[n.length-1]:null}function Ge(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function mi(n){return(0,r.CqO)(n)?n:(0,r.QGY)(n)?(0,Ae.D)(Promise.resolve(n)):Ut(n)}const Vo=!1,nm={exact:function vc(n,e,t){if(!Ui(n.segments,e.segments)||!jo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!vc(n.children[i],e.children[i],t))return!1;return!0},subset:yc},gc={exact:function im(n,e){return Pn(n,e)},subset:function rm(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fc(n[t],e[t]))},ignored:()=>!0};function _c(n,e,t){return nm[t.paths](n.root,e.root,t.matrixParams)&&gc[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function yc(n,e,t){return bc(n,e,e.segments,t)}function bc(n,e,t,i){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ui(o,t)||e.hasChildren()||!jo(o,t,i))}if(n.segments.length===t.length){if(!Ui(n.segments,t)||!jo(n.segments,t,i))return!1;for(const o in e.children)if(!n.children[o]||!yc(n.children[o],e.children[o],i))return!1;return!0}{const o=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ui(n.segments,o)&&jo(n.segments,o,i)&&n.children[Jt])&&bc(n.children[Jt],e,s,i)}}function jo(n,e,t){return e.every((i,o)=>gc[t](n[o].parameters,i.parameters))}class gi{constructor(e=new Qt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return am.serialize(this)}}class Qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ge(t,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zo(this)}}class zr{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ur(this.parameters)),this._parameterMap}toString(){return Sc(this)}}function Ui(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let qr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return new ia},providedIn:"root"}),n})();class ia{parse(e){const t=new gm(e);return new gi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Gr(e.root,!0)}`,i=function um(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(o=>`${qo(t)}=${qo(o)}`).join("&"):`${qo(t)}=${qo(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function lm(n){return encodeURI(n)}(e.fragment)}`:""}`}}const am=new ia;function zo(n){return n.segments.map(e=>Sc(e)).join("/")}function Gr(n,e){if(!n.hasChildren())return zo(n);if(e){const t=n.children[Jt]?Gr(n.children[Jt],!1):"",i=[];return Ge(n.children,(o,s)=>{s!==Jt&&i.push(`${s}:${Gr(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function sm(n,e){let t=[];return Ge(n.children,(i,o)=>{o===Jt&&(t=t.concat(e(i,o)))}),Ge(n.children,(i,o)=>{o!==Jt&&(t=t.concat(e(i,o)))}),t}(n,(i,o)=>o===Jt?[Gr(n.children[Jt],!1)]:[`${o}:${Gr(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${zo(n)}/${t[0]}`:`${zo(n)}/(${t.join("//")})`}}function xc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qo(n){return xc(n).replace(/%3B/gi,";")}function ra(n){return xc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Go(n){return decodeURIComponent(n)}function wc(n){return Go(n.replace(/\+/g,"%20"))}function Sc(n){return`${ra(n.path)}${function cm(n){return Object.keys(n).map(e=>`;${ra(e)}=${ra(n[e])}`).join("")}(n.parameters)}`}const dm=/^[^\/()?;=#]+/;function Yo(n){const e=n.match(dm);return e?e[0]:""}const hm=/^[^=?&#]+/,pm=/^[^&#]+/;class gm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Jt]=new Qt(e,t)),i}parseSegment(){const e=Yo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new r.vHH(4009,Vo);return this.capture(e),new zr(Go(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Yo(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=Yo(this.remaining);o&&(i=o,this.capture(i))}e[Go(t)]=Go(i)}parseQueryParam(e){const t=function fm(n){const e=n.match(hm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function mm(n){const e=n.match(pm);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const o=wc(t),s=wc(i);if(e.hasOwnProperty(o)){let u=e[o];Array.isArray(u)||(u=[u],e[o]=u),u.push(s)}else e[o]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Yo(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new r.vHH(4010,Vo);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Jt);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[Jt]:new Qt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new r.vHH(4011,Vo)}}function oa(n){return n.segments.length>0?new Qt([],{[Jt]:n}):n}function $o(n){const e={};for(const i of Object.keys(n.children)){const s=$o(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function _m(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new Qt(n.segments.concat(e.segments),e.children)}return n}(new Qt(n.segments,e))}function Hi(n){return n instanceof gi}const sa=!1;function vm(n,e,t,i,o){if(0===t.length)return dr(e.root,e.root,e.root,i,o);const s=function Fc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Mc(!0,0,n);let e=0,t=!1;const i=n.reduce((o,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return Ge(s.outlets,(y,I)=>{f[I]="string"==typeof y?y.split("/"):y}),[...o,{outlets:f}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===u?(s.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&o.push(f))}),o):[...o,s]},[]);return new Mc(t,e,i)}(t);return s.toRoot()?dr(e.root,e.root,new Qt([],{}),i,o):function u(y){const I=function bm(n,e,t,i){if(n.isAbsolute)return new hr(e.root,!0,0);if(-1===i)return new hr(t,t===e.root,0);return function Tc(n,e,t){let i=n,o=e,s=t;for(;s>o;){if(s-=o,i=i.parent,!i)throw new r.vHH(4005,sa&&"Invalid number of '../'");o=i.segments.length}return new hr(i,!1,o-s)}(t,i+(Yr(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,y),it=I.processChildren?fr(I.segmentGroup,I.index,s.commands):aa(I.segmentGroup,I.index,s.commands);return dr(e.root,I.segmentGroup,it,i,o)}(n.snapshot?._lastPathIndex)}function Yr(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $r(n){return"object"==typeof n&&null!=n&&n.outlets}function dr(n,e,t,i,o){let u,s={};i&&Ge(i,(y,I)=>{s[I]=Array.isArray(y)?y.map(it=>`${it}`):`${y}`}),u=n===e?t:Ac(n,e,t);const f=oa($o(u));return new gi(f,s,o)}function Ac(n,e,t){const i={};return Ge(n.children,(o,s)=>{i[s]=o===e?t:Ac(o,e,t)}),new Qt(n.segments,i)}class Mc{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Yr(i[0]))throw new r.vHH(4003,sa&&"Root segment cannot have matrix parameters");const o=i.find($r);if(o&&o!==mc(i))throw new r.vHH(4004,sa&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hr{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function aa(n,e,t){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return fr(n,e,t);const i=function wm(n,e,t){let i=0,o=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=t.length)return s;const u=n.segments[o],f=t[i];if($r(f))break;const y=`${f}`,I=i<t.length-1?t[i+1]:null;if(o>0&&void 0===y)break;if(y&&I&&"object"==typeof I&&void 0===I.outlets){if(!Rc(y,I,u))return s;i+=2}else{if(!Rc(y,{},u))return s;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,e,t),o=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Qt(n.segments.slice(0,i.pathIndex),{});return s.children[Jt]=new Qt(n.segments.slice(i.pathIndex),n.children),fr(s,0,o)}return i.match&&0===o.length?new Qt(n.segments,{}):i.match&&!n.hasChildren()?la(n,e,t):i.match?fr(n,0,o):la(n,e,t)}function fr(n,e,t){if(0===t.length)return new Qt(n.segments,{});{const i=function xm(n){return $r(n[0])?n[0].outlets:{[Jt]:n}}(t),o={};if(!i[Jt]&&n.children[Jt]&&1===n.numberOfChildren&&0===n.children[Jt].segments.length){const s=fr(n.children[Jt],e,t);return new Qt(n.segments,s.children)}return Ge(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(o[u]=aa(n.children[u],e,s))}),Ge(n.children,(s,u)=>{void 0===i[u]&&(o[u]=s)}),new Qt(n.segments,o)}}function la(n,e,t){const i=n.segments.slice(0,e);let o=0;for(;o<t.length;){const s=t[o];if($r(s)){const y=Sm(s.outlets);return new Qt(i,y)}if(0===o&&Yr(t[0])){i.push(new zr(n.segments[e].path,kc(t[0]))),o++;continue}const u=$r(s)?s.outlets[Jt]:`${s}`,f=o<t.length-1?t[o+1]:null;u&&f&&Yr(f)?(i.push(new zr(u,kc(f))),o+=2):(i.push(new zr(u,{})),o++)}return new Qt(i,{})}function Sm(n){const e={};return Ge(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=la(new Qt([],{}),0,t))}),e}function kc(n){const e={};return Ge(n,(t,i)=>e[i]=`${t}`),e}function Rc(n,e,t){return n==t.path&&Pn(e,t.parameters)}const Kr="imperative";class On{constructor(e,t){this.id=e,this.url=t}}class ca extends On{constructor(e,t,i="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends On{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ko extends On{constructor(e,t,i,o){super(e,t),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zo extends On{constructor(e,t,i,o){super(e,t),this.reason=i,this.code=o,this.type=16}}class ua extends On{constructor(e,t,i,o){super(e,t),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cm extends On{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Em extends On{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Am extends On{constructor(e,t,i,o,s){super(e,t),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mm extends On{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fm extends On{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class km{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rm{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Im{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pm{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ic{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Lm=(()=>{class n{createUrlTree(t,i,o,s,u,f){return vm(t||i.root,o,s,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Um=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:function(e){return Lm.\u0275fac(e)},providedIn:"root"}),n})();class Dc{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=da(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=da(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ha(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return ha(e,this._root).map(t=>t.value)}}function da(n,e){if(n===e.value)return e;for(const t of e.children){const i=da(n,t);if(i)return i}return null}function ha(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ha(n,t);if(i.length)return i.unshift(e),i}return[]}class Jn{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pr(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Pc extends Dc{constructor(e,t){super(e),this.snapshot=t,fa(this,e)}toString(){return this.snapshot.toString()}}function Oc(n,e){const t=function Hm(n,e){const u=new Wo([],{},{},"",{},Jt,e,null,n.root,-1,{});return new Lc("",new Jn(u,[]))}(n,e),i=new xn([new zr("",{})]),o=new xn({}),s=new xn({}),u=new xn({}),f=new xn(""),y=new ji(i,o,u,f,s,Jt,e,t.root);return y.snapshot=t.root,new Pc(new Jn(y,[]),t)}class ji{constructor(e,t,i,o,s,u,f,y){this.url=e,this.params=t,this.queryParams=i,this.fragment=o,this.data=s,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,Gt.U)(I=>I[jr]))??Ut(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(e=>ur(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(e=>ur(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nc(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const o=t[i],s=t[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(s.component)break;i--}}return function Vm(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Wo{get title(){return this.data?.[jr]}constructor(e,t,i,o,s,u,f,y,I,it,mt){this.url=e,this.params=t,this.queryParams=i,this.fragment=o,this.data=s,this.outlet=u,this.component=f,this.routeConfig=y,this._urlSegment=I,this._lastPathIndex=it,this._resolve=mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ur(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lc extends Dc{constructor(e,t){super(t),this.url=e,fa(this,t)}toString(){return Bc(this._root)}}function fa(n,e){e.value._routerState=n,e.children.forEach(t=>fa(n,t))}function Bc(n){const e=n.children.length>0?` { ${n.children.map(Bc).join(", ")} } `:"";return`${n.value}${e}`}function pa(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pn(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pn(e.params,t.params)||n.params.next(t.params),function em(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pn(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pn(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ma(n,e){const t=Pn(n.params,e.params)&&function om(n,e){return Ui(n,e)&&n.every((t,i)=>Pn(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ma(n.parent,e.parent))}function Zr(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const o=function zm(n,e,t){return e.children.map(i=>{for(const o of t.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return Zr(n,i,o);return Zr(n,i)})}(n,e,t);return new Jn(i,o)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Zr(n,f)),u}}const i=function qm(n){return new ji(new xn(n.url),new xn(n.params),new xn(n.queryParams),new xn(n.fragment),new xn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(s=>Zr(n,s));return new Jn(i,o)}}const ga="ngNavigationCancelingError";function Uc(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Hi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Hc(!1,0,e);return o.url=t,o.navigationBehaviorOptions=i,o}function Hc(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ga]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Vc(n){return jc(n)&&Hi(n.url)}function jc(n){return n&&n[ga]}class Gm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Wr,this.attachRef=null}}let Wr=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const o=this.getOrCreateContext(t);o.outlet=i,this.contexts.set(t,o)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Gm,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jo=!1;let _a=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.attachEvents=new r.vpe,this.detachEvents=new r.vpe,this.parentContexts=(0,r.f3M)(Wr),this.location=(0,r.f3M)(r.s_b),this.changeDetector=(0,r.f3M)(r.sBO),this.environmentInjector=(0,r.f3M)(r.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:o}=t.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r.vHH(4012,Jo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r.vHH(4012,Jo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r.vHH(4012,Jo);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new r.vHH(4013,Jo);this._activatedRoute=t;const o=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new Ym(t,f,o.injector);if(i&&function $m(n){return!!n.resolveComponentFactory}(i)){const I=i.resolveComponentFactory(u);this.activated=o.createComponent(I,o.length,y)}else this.activated=o.createComponent(u,{index:o.length,injector:y,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[r.TTD]}),n})();class Ym{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ji?this.route:e===Wr?this.childContexts:this.parent.get(e,t)}}let va=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[r.jDz],decls:1,vars:0,template:function(t,i){1&t&&r._UZ(0,"router-outlet")},dependencies:[_a],encapsulation:2}),n})();function zc(n,e){return n.providers&&!n._injector&&(n._injector=(0,r.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ba(n){const e=n.children&&n.children.map(ba),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=va),t}function En(n){return n.outlet||Jt}function qc(n,e){const t=n.filter(i=>En(i)===e);return t.push(...n.filter(i=>En(i)!==e)),t}function Jr(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Xm{constructor(e,t,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),pa(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const o=pr(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,o[u],i),delete o[u]}),Ge(o,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const o=e.value,s=t?t.value:null;if(o===s)if(o.component){const u=i.getContext(o.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),o=i&&e.value.component?i.children:t,s=pr(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],o);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),o=i&&e.value.component?i.children:t,s=pr(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const o=pr(t);e.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],i),this.forwardEvent(new Pm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Im(e.value.snapshot))}activateRoutes(e,t,i){const o=e.value,s=t?t.value:null;if(pa(o),o===s)if(o.component){const u=i.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(o.component){const u=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const f=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),pa(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=Jr(o.snapshot),y=f?.get(r._Vd)??null;u.attachRef=null,u.route=o,u.resolver=y,u.injector=f,u.outlet&&u.outlet.activateWith(o,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Gc{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xo{constructor(e,t){this.component=e,this.route=t}}function Qm(n,e,t){const i=n._root;return Xr(i,e?e._root:null,t,[i.value])}function mr(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,r.Z0I)(n)?e.get(n):n:i}function Xr(n,e,t,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=pr(e);return n.children.forEach(u=>{(function eg(n,e,t,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const y=function ng(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ui(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ui(n.url,e.url)||!Pn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ma(n,e)||!Pn(n.queryParams,e.queryParams);default:return!ma(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);y?o.canActivateChecks.push(new Gc(i)):(s.data=u.data,s._resolvedData=u._resolvedData),Xr(n,e,s.component?f?f.children:null:t,i,o),y&&f&&f.outlet&&f.outlet.isActivated&&o.canDeactivateChecks.push(new Xo(f.outlet.component,u))}else u&&Qr(e,f,o),o.canActivateChecks.push(new Gc(i)),Xr(n,null,s.component?f?f.children:null:t,i,o)})(u,s[u.value.outlet],t,i.concat([u.value]),o),delete s[u.value.outlet]}),Ge(s,(u,f)=>Qr(u,t.getContext(f),o)),o}function Qr(n,e,t){const i=pr(n),o=n.value;Ge(i,(s,u)=>{Qr(s,o.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Xo(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function to(n){return"function"==typeof n}function xa(n){return n instanceof Hr||"EmptyError"===n?.name}const Qo=Symbol("INITIAL_VALUE");function gr(){return on(n=>Po(n.map(e=>e.pipe(Dn(1),Or(Qo)))).pipe((0,Gt.U)(e=>{for(const t of e)if(!0!==t){if(t===Qo)return Qo;if(!1===t||t instanceof gi)return t}return!0}),wn(e=>e!==Qo),Dn(1)))}function Yc(n){return(0,Kp.z)(Me(e=>{if(Hi(e))throw Uc(0,e)}),(0,Gt.U)(e=>!0===e))}const wa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $c(n,e,t,i,o){const s=Sa(n,e,t);return s.matched?function yg(n,e,t,i){const o=e.canMatch;return o&&0!==o.length?Ut(o.map(u=>{const f=mr(u,n);return mi(function lg(n){return n&&to(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(gr(),Yc()):Ut(!0)}(i=zc(e,i),e,t).pipe((0,Gt.U)(u=>!0===u?s:{...wa})):Ut(s)}function Sa(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...wa}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||tm)(t,n,e);if(!o)return{...wa};const s={};Ge(o.posParams,(f,y)=>{s[y]=f.path});const u=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:u,positionalParamSegments:o.posParams??{}}}function ts(n,e,t,i){if(t.length>0&&function wg(n,e,t){return t.some(i=>es(n,e,i)&&En(i)!==Jt)}(n,t,i)){const s=new Qt(e,function xg(n,e,t,i){const o={};o[Jt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&En(s)!==Jt){const u=new Qt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,o[En(s)]=u}return o}(n,e,i,new Qt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function Sg(n,e,t){return t.some(i=>es(n,e,i))}(n,t,i)){const s=new Qt(n.segments,function bg(n,e,t,i,o){const s={};for(const u of i)if(es(n,t,u)&&!o[En(u)]){const f=new Qt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,s[En(u)]=f}return{...o,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new Qt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function es(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Kc(n,e,t,i){return!!(En(n)===i||i!==Jt&&es(e,t,n))&&("**"===n.path||Sa(e,n,t).matched)}function Zc(n,e,t){return 0===e.length&&!n.children[t]}const ns=!1;class is{constructor(e){this.segmentGroup=e||null}}class Wc{constructor(e){this.urlTree=e}}function eo(n){return hi(new is(n))}function Jc(n){return hi(new Wc(n))}class Mg{constructor(e,t,i,o,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=o,this.config=s,this.allowRedirects=!0}apply(){const e=ts(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Jt).pipe((0,Gt.U)(s=>this.createUrlTree($o(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cn(s=>{if(s instanceof Wc)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof is?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Jt).pipe((0,Gt.U)(o=>this.createUrlTree($o(o),e.queryParams,e.fragment))).pipe(Cn(o=>{throw o instanceof is?this.noMatchError(o):o}))}noMatchError(e){return new r.vHH(4002,ns)}createUrlTree(e,t,i){const o=oa(e);return new gi(o,t,i)}expandSegmentGroup(e,t,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Gt.U)(s=>new Qt([],s))):this.expandSegment(e,i,t,i.segments,o,!0)}expandChildren(e,t,i){const o=[];for(const s of Object.keys(i.children))"primary"===s?o.unshift(s):o.push(s);return(0,Ae.D)(o).pipe(pi(s=>{const u=i.children[s],f=qc(t,s);return this.expandSegmentGroup(e,f,u,s).pipe((0,Gt.U)(y=>({segment:y,outlet:s})))}),dc((s,u)=>(s[u.outlet]=u.segment,s),{}),hc())}expandSegment(e,t,i,o,s,u){return(0,Ae.D)(i).pipe(pi(f=>this.expandSegmentAgainstRoute(e,t,i,f,o,s,u).pipe(Cn(I=>{if(I instanceof is)return Ut(null);throw I}))),fi(f=>!!f),Cn((f,y)=>{if(xa(f))return Zc(t,o,s)?Ut(new Qt([],{})):eo(t);throw f}))}expandSegmentAgainstRoute(e,t,i,o,s,u,f){return Kc(o,t,s,u)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,s,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,o,s,u):eo(t):eo(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,o,s,u){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,o,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,o,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,o){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Jc(s):this.lineralizeSegments(i,s).pipe((0,Je.z)(u=>{const f=new Qt(u,{});return this.expandSegment(e,f,t,u,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,o,s,u){const{matched:f,consumedSegments:y,remainingSegments:I,positionalParamSegments:it}=Sa(t,o,s);if(!f)return eo(t);const mt=this.applyRedirectCommands(y,o.redirectTo,it);return o.redirectTo.startsWith("/")?Jc(mt):this.lineralizeSegments(o,mt).pipe((0,Je.z)(Mt=>this.expandSegment(e,t,i,Mt.concat(I),u,!1)))}matchSegmentAgainstRoute(e,t,i,o,s){return"**"===i.path?(e=zc(i,e),i.loadChildren?(i._loadedRoutes?Ut({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Gt.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new Qt(o,{})))):Ut(new Qt(o,{}))):$c(t,i,o,e).pipe(on(({matched:u,consumedSegments:f,remainingSegments:y})=>u?this.getChildConfig(e=i._injector??e,i,o).pipe((0,Je.z)(it=>{const mt=it.injector??e,Mt=it.routes,{segmentGroup:At,slicedSegments:Ct}=ts(t,f,y,Mt),Ft=new Qt(At.segments,At.children);if(0===Ct.length&&Ft.hasChildren())return this.expandChildren(mt,Mt,Ft).pipe((0,Gt.U)(Ne=>new Qt(f,Ne)));if(0===Mt.length&&0===Ct.length)return Ut(new Qt(f,{}));const zt=En(i)===s;return this.expandSegment(mt,Ft,Mt,Ct,zt?Jt:s,!0).pipe((0,Gt.U)(ue=>new Qt(f.concat(ue.segments),ue.children)))})):eo(t)))}getChildConfig(e,t,i){return t.children?Ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function vg(n,e,t,i){const o=e.canLoad;return void 0===o||0===o.length?Ut(!0):Ut(o.map(u=>{const f=mr(u,n);return mi(function rg(n){return n&&to(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(gr(),Yc())}(e,t,i).pipe((0,Je.z)(o=>o?this.configLoader.loadChildren(e,t).pipe(Me(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Eg(n){return hi(Hc(ns,3))}())):Ut({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],o=t.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return Ut(i);if(o.numberOfChildren>1||!o.children[Jt])return e.redirectTo,hi(new r.vHH(4e3,ns));o=o.children[Jt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,o){const s=this.createSegmentGroup(e,t.root,i,o);return new gi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Ge(e,(o,s)=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);i[s]=t[f]}else i[s]=o}),i}createSegmentGroup(e,t,i,o){const s=this.createSegments(e,t.segments,i,o);let u={};return Ge(t.children,(f,y)=>{u[y]=this.createSegmentGroup(e,f,i,o)}),new Qt(s,u)}createSegments(e,t,i,o){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,o):this.findOrReturn(s,i))}findPosParam(e,t,i){const o=i[t.path.substring(1)];if(!o)throw new r.vHH(4001,ns);return o}findOrReturn(e,t){let i=0;for(const o of t){if(o.path===e.path)return t.splice(i),o;i++}return e}}class Tg{}class Ig{constructor(e,t,i,o,s,u,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=o,this.url=s,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=ts(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe((0,Gt.U)(t=>{if(null===t)return null;const i=new Wo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Jn(i,t),s=new Lc(this.url,o);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=Nc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,o)}processChildren(e,t,i){return(0,Ae.D)(Object.keys(i.children)).pipe(pi(o=>{const s=i.children[o],u=qc(t,o);return this.processSegmentGroup(e,u,s,o)}),dc((o,s)=>o&&s?(o.push(...s),o):null),function Jp(n,e=!1){return(0,He.e)((t,i)=>{let o=0;t.subscribe((0,Ie.x)(i,s=>{const u=n(s,o++);(u||e)&&i.next(s),!u&&i.complete()}))})}(o=>null!==o),Ho(null),hc(),(0,Gt.U)(o=>{if(null===o)return null;const s=Qc(o);return function Dg(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,o,s){return(0,Ae.D)(t).pipe(pi(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,o,s)),fi(u=>!!u),Cn(u=>{if(xa(u))return Zc(i,o,s)?Ut([]):Ut(null);throw u}))}processSegmentAgainstRoute(e,t,i,o,s){if(t.redirectTo||!Kc(t,i,o,s))return Ut(null);let u;if("**"===t.path){const f=o.length>0?mc(o).parameters:{},y=eu(i)+o.length;u=Ut({snapshot:new Wo(o,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nu(t),En(t),t.component??t._loadedComponent??null,t,tu(i),y,iu(t)),consumedSegments:[],remainingSegments:[]})}else u=$c(i,t,o,e).pipe((0,Gt.U)(({matched:f,consumedSegments:y,remainingSegments:I,parameters:it})=>{if(!f)return null;const mt=eu(i)+y.length;return{snapshot:new Wo(y,it,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nu(t),En(t),t.component??t._loadedComponent??null,t,tu(i),mt,iu(t)),consumedSegments:y,remainingSegments:I}}));return u.pipe(on(f=>{if(null===f)return Ut(null);const{snapshot:y,consumedSegments:I,remainingSegments:it}=f;e=t._injector??e;const mt=t._loadedInjector??e,Mt=function Pg(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:At,slicedSegments:Ct}=ts(i,I,it,Mt.filter(zt=>void 0===zt.redirectTo));if(0===Ct.length&&At.hasChildren())return this.processChildren(mt,Mt,At).pipe((0,Gt.U)(zt=>null===zt?null:[new Jn(y,zt)]));if(0===Mt.length&&0===Ct.length)return Ut([new Jn(y,[])]);const Ft=En(t)===s;return this.processSegment(mt,Mt,At,Ct,Ft?Jt:s).pipe((0,Gt.U)(zt=>null===zt?null:[new Jn(y,zt)]))}))}}function Og(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Qc(n){const e=[],t=new Set;for(const i of n){if(!Og(i)){e.push(i);continue}const o=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...i.children),t.add(o)):e.push(i)}for(const i of t){const o=Qc(i.children);e.push(new Jn(i.value,o))}return e.filter(i=>!t.has(i))}function tu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function eu(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function nu(n){return n.data||{}}function iu(n){return n.resolve||{}}function ru(n){return"string"==typeof n.title||null===n.title}function Ca(n){return on(e=>{const t=n(e);return t?(0,Ae.D)(t).pipe((0,Gt.U)(()=>e)):Ut(e)})}const _r=new r.OlP("ROUTES");let Ea=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,r.f3M)(r.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=mi(t.loadComponent()).pipe((0,Gt.U)(su),Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Vr(()=>{this.componentLoaders.delete(t)})),o=new cc(i,()=>new re.x).pipe(ea());return this.componentLoaders.set(t,o),o}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ut({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Gt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let y,I,it=!1;Array.isArray(f)?I=f:(y=f.create(t).injector,I=pc(y.get(_r,[],r.XFs.Self|r.XFs.Optional)));return{routes:I.map(ba),injector:y}}),Vr(()=>{this.childrenLoaders.delete(i)})),u=new cc(s,()=>new re.x).pipe(ea());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return mi(t()).pipe((0,Gt.U)(su),(0,Je.z)(i=>i instanceof r.YKP||Array.isArray(i)?Ut(i):(0,Ae.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function su(n){return function zg(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let os=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new re.x,this.configLoader=(0,r.f3M)(Ea),this.environmentInjector=(0,r.f3M)(r.lqb),this.urlSerializer=(0,r.f3M)(qr),this.rootContexts=(0,r.f3M)(Wr),this.navigationId=0,this.afterPreactivation=()=>Ut(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new km(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Tm(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new xn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kr,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wn(i=>0!==i.id),(0,Gt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),on(i=>{let o=!1,s=!1;return Ut(i).pipe(Me(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),on(u=>{const f=t.browserUrlTree.toString(),y=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!y&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const it="";return this.events.next(new Zo(u.id,t.serializeUrl(i.rawUrl),it,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),Sn.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return au(u.source)&&(t.browserUrlTree=u.extractedUrl),Ut(u).pipe(on(it=>{const mt=this.transitions?.getValue();return this.events.next(new ca(it.id,this.urlSerializer.serialize(it.extractedUrl),it.source,it.restoredState)),mt!==this.transitions?.getValue()?Sn.E:Promise.resolve(it)}),function Fg(n,e,t,i){return on(o=>function Ag(n,e,t,i,o){return new Mg(n,e,t,i,o).apply()}(n,e,t,o.extractedUrl,i).pipe((0,Gt.U)(s=>({...o,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Me(it=>{this.currentNavigation={...this.currentNavigation,finalUrl:it.urlAfterRedirects},i.urlAfterRedirects=it.urlAfterRedirects}),function Lg(n,e,t,i,o){return(0,Je.z)(s=>function Rg(n,e,t,i,o,s,u="emptyOnly"){return new Ig(n,e,t,i,o,u,s).recognize().pipe(on(f=>null===f?function kg(n){return new rn.y(e=>e.error(n))}(new Tg):Ut(f)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,o).pipe((0,Gt.U)(u=>({...s,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Me(it=>{if(i.targetSnapshot=it.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!it.extras.skipLocationChange){const Mt=t.urlHandlingStrategy.merge(it.urlAfterRedirects,it.rawUrl);t.setBrowserUrl(Mt,it)}t.browserUrlTree=it.urlAfterRedirects}const mt=new Cm(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot);this.events.next(mt)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:it,extractedUrl:mt,source:Mt,restoredState:At,extras:Ct}=u,Ft=new ca(it,this.urlSerializer.serialize(mt),Mt,At);this.events.next(Ft);const zt=Oc(mt,this.rootComponentType).snapshot;return Ut(i={...u,targetSnapshot:zt,urlAfterRedirects:mt,extras:{...Ct,skipLocationChange:!1,replaceUrl:!1}})}{const it="";return this.events.next(new Zo(u.id,t.serializeUrl(i.extractedUrl),it,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),Sn.E}}),Me(u=>{const f=new Em(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,Gt.U)(u=>i={...u,guards:Qm(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function ug(n,e){return(0,Je.z)(t=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?Ut({...t,guardsResult:!0}):function dg(n,e,t,i){return(0,Ae.D)(n).pipe((0,Je.z)(o=>function _g(n,e,t,i,o){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ut(s.map(f=>{const y=Jr(e)??o,I=mr(f,y);return mi(function ag(n){return n&&to(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,i):y.runInContext(()=>I(n,e,t,i))).pipe(fi())})).pipe(gr()):Ut(!0)}(o.component,o.route,t,e,i)),fi(o=>!0!==o,!0))}(u,i,o,n).pipe((0,Je.z)(f=>f&&function ig(n){return"boolean"==typeof n}(f)?function hg(n,e,t,i){return(0,Ae.D)(e).pipe(pi(o=>Oo(function pg(n,e){return null!==n&&e&&e(new Rm(n)),Ut(!0)}(o.route.parent,i),function fg(n,e){return null!==n&&e&&e(new Dm(n)),Ut(!0)}(o.route,i),function gg(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function tg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>lc(()=>Ut(u.guards.map(y=>{const I=Jr(u.node)??t,it=mr(y,I);return mi(function sg(n){return n&&to(n.canActivateChild)}(it)?it.canActivateChild(i,n):I.runInContext(()=>it(i,n))).pipe(fi())})).pipe(gr())));return Ut(s).pipe(gr())}(n,o.path,t),function mg(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ut(!0);const o=i.map(s=>lc(()=>{const u=Jr(e)??t,f=mr(s,u);return mi(function og(n){return n&&to(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(fi())}));return Ut(o).pipe(gr())}(n,o.route,t))),fi(o=>!0!==o,!0))}(i,s,n,e):Ut(f)),(0,Gt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),Me(u=>{if(i.guardsResult=u.guardsResult,Hi(u.guardsResult))throw Uc(0,u.guardsResult);const f=new Am(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),wn(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Ca(u=>{if(u.guards.canActivateChecks.length)return Ut(u).pipe(Me(f=>{const y=new Mm(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),on(f=>{let y=!1;return Ut(f).pipe(function Bg(n,e){return(0,Je.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=t;if(!o.length)return Ut(t);let s=0;return(0,Ae.D)(o).pipe(pi(u=>function Ug(n,e,t,i){const o=n.routeConfig,s=n._resolve;return void 0!==o?.title&&!ru(o)&&(s[jr]=o.title),function Hg(n,e,t,i){const o=function Vg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return Ut({});const s={};return(0,Ae.D)(o).pipe((0,Je.z)(u=>function jg(n,e,t,i){const o=Jr(e)??i,s=mr(n,o);return mi(s.resolve?s.resolve(e,t):o.runInContext(()=>s(e,t)))}(n[u],e,t,i).pipe(fi(),Me(f=>{s[u]=f}))),na(1),function Xp(n){return(0,Gt.U)(()=>n)}(s),Cn(u=>xa(u)?Sn.E:hi(u)))}(s,n,e,i).pipe((0,Gt.U)(u=>(n._resolvedData=u,n.data=Nc(n,t).resolve,o&&ru(o)&&(n.data[jr]=o.title),null)))}(u.route,i,n,e)),Me(()=>s++),na(1),(0,Je.z)(u=>s===o.length?Ut(t):Sn.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),Me(f=>{const y=new Fm(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}))}),Ca(u=>{const f=y=>{const I=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(y.routeConfig).pipe(Me(it=>{y.component=it}),(0,Gt.U)(()=>{})));for(const it of y.children)I.push(...f(it));return I};return Po(f(u.targetSnapshot.root)).pipe(Ho(),Dn(1))}),Ca(()=>this.afterPreactivation()),(0,Gt.U)(u=>{const f=function jm(n,e,t){const i=Zr(n,e._root,t?t._root:void 0);return new Pc(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:f}}),Me(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,Gt.U)(i=>(new Xm(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),Dn(1),Me({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Vi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Vr(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Cn(u=>{if(s=!0,jc(u)){Vc(u)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new Ko(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),Vc(u)){const y=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),I={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||au(i.source)};t.scheduleNavigation(y,Kr,null,I,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new ua(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(u))}catch(y){i.reject(y)}}return Sn.E}))}))}cancelNavigationTransition(t,i,o){const s=new Ko(t.id,this.urlSerializer.serialize(t.extractedUrl),i,o);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function au(n){return n!==Kr}let lu=(()=>{class n{buildTitle(t){let i,o=t.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Jt);return i}getResolvedTitleForRoute(t){return t.data[jr]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return(0,r.f3M)(qg)},providedIn:"root"}),n})(),qg=(()=>{class n extends lu{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(et.Dx))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return(0,r.f3M)($g)},providedIn:"root"}),n})();class Yg{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let $g=(()=>{class n extends Yg{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ss=new r.OlP("",{providedIn:"root",factory:()=>({})});let Zg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return(0,r.f3M)(Wg)},providedIn:"root"}),n})(),Wg=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jg(n){throw n}function Xg(n,e,t){return e.parse("/")}const Qg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},t_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ve=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,r.f3M)(r.c2e),this.isNgZoneEnabled=!1,this.options=(0,r.f3M)(ss,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Jg,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Xg,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,r.f3M)(Zg),this.routeReuseStrategy=(0,r.f3M)(Gg),this.urlCreationStrategy=(0,r.f3M)(Um),this.titleStrategy=(0,r.f3M)(lu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=pc((0,r.f3M)(_r,{optional:!0})??[]),this.navigationTransitions=(0,r.f3M)(os),this.urlSerializer=(0,r.f3M)(qr),this.location=(0,r.f3M)(Nt.Ye),this.isNgZoneEnabled=(0,r.f3M)(r.R0b)instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new gi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Oc(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Kr,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,o){const s={replaceUrl:!0},u=o?.navigationId?o:null;if(o){const y={...o};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(s.state=y)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(ba),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:o,queryParams:s,fragment:u,queryParamsHandling:f,preserveFragment:y}=i,I=y?this.currentUrlTree.fragment:u;let it=null;switch(f){case"merge":it={...this.currentUrlTree.queryParams,...s};break;case"preserve":it=this.currentUrlTree.queryParams;break;default:it=s||null}return null!==it&&(it=this.removeEmptyProps(it)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,it,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const o=Hi(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Kr,null,i)}navigate(t,i={skipLocationChange:!1}){return function e_(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new r.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return i}isActive(t,i){let o;if(o=!0===i?{...Qg}:!1===i?{...t_}:i,Hi(t))return _c(this.currentUrlTree,t,o);const s=this.parseUrl(t);return _c(this.currentUrlTree,s,o)}removeEmptyProps(t){return Object.keys(t).reduce((i,o)=>{const s=t[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(t,i,o,s,u){if(this.disposed)return Promise.resolve(!1);let f,y,I,it;return u?(f=u.resolve,y=u.reject,I=u.promise):I=new Promise((mt,Mt)=>{f=mt,y=Mt}),it="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:it,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:f,reject:y,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(mt=>Promise.reject(mt))}setBrowserUrl(t,i){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",u)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(o,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_i=(()=>{class n{constructor(t,i,o,s,u,f){this.router=t,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=u,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new re.x;const y=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(I=>{I instanceof Vi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,r.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,r.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,r.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,o,s,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||o||s||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,r.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,t,i):o.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Ve),r.Y36(ji),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Nt.S$))},n.\u0275dir=r.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&r.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&r.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[r.TTD]}),n})(),cu=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,o,s,u){this.router=t,this.element=i,this.renderer=o,this.cdr=s,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new r.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof Vi&&this.update()})}ngAfterContentInit(){Ut(this.links.changes,Ut(null)).pipe((0,Dr.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Ae.D)(t).pipe((0,Dr.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function n_(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Ve),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(_i,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,o){if(1&t&&r.Suo(o,_i,5),2&t){let s;r.iGM(s=r.CRH())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[r.TTD]}),n})();class uu{}let i_=(()=>{class n{constructor(t,i,o,s,u){this.router=t,this.injector=o,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(wn(t=>t instanceof Vi),pi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,r.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,f=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(f,s.children??s._loadedRoutes))}return(0,Ae.D)(o).pipe((0,Dr.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ut(null);const s=o.pipe((0,Je.z)(u=>null===u?Ut(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Ae.D)([s,u]).pipe((0,Dr.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Ve),r.LFG(r.Sil),r.LFG(r.lqb),r.LFG(uu),r.LFG(Ea))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ma=new r.OlP("");let du=(()=>{class n{constructor(t,i,o,s,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ca?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ic&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ic(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){r.$Z()},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();var dn=(()=>((dn=dn||{})[dn.COMPLETE=0]="COMPLETE",dn[dn.FAILED=1]="FAILED",dn[dn.REDIRECTING=2]="REDIRECTING",dn))();const vr=!1;function vi(n,e){return{\u0275kind:n,\u0275providers:e}}const Fa=new r.OlP("",{providedIn:"root",factory:()=>!1});function fu(){const n=(0,r.f3M)(r.zs3);return e=>{const t=n.get(r.z2F);if(e!==t.components[0])return;const i=n.get(Ve),o=n.get(pu);1===n.get(Ta)&&i.initialNavigation(),n.get(mu,null,r.XFs.Optional)?.setUpPreloading(),n.get(Ma,null,r.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const pu=new r.OlP(vr?"bootstrap done indicator":"",{factory:()=>new re.x}),Ta=new r.OlP(vr?"initial navigation":"",{providedIn:"root",factory:()=>1});function l_(){let n=[];return n=vr?[{provide:r.Xts,multi:!0,useFactory:()=>{const e=(0,r.f3M)(Ve);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Om(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],vi(1,n)}const mu=new r.OlP(vr?"router preloader":"");function c_(n){return vi(0,[{provide:mu,useExisting:i_},{provide:uu,useExisting:n}])}const no=!1,gu=new r.OlP(no?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),u_=[Nt.Ye,{provide:qr,useClass:ia},Ve,Wr,{provide:ji,useFactory:function hu(n){return n.routerState.root},deps:[Ve]},Ea,no?{provide:Fa,useValue:!0}:[]];function d_(){return new r.PXZ("Router",Ve)}let ln=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[u_,no&&i?.enableTracing?l_().\u0275providers:[],{provide:_r,multi:!0,useValue:t},{provide:gu,useFactory:m_,deps:[[Ve,new r.FiY,new r.tp0]]},{provide:ss,useValue:i||{}},i?.useHash?{provide:Nt.S$,useClass:Nt.Do}:{provide:Nt.S$,useClass:Nt.b0},{provide:Ma,useFactory:()=>{const n=(0,r.f3M)(Nt.EM),e=(0,r.f3M)(r.R0b),t=(0,r.f3M)(ss),i=(0,r.f3M)(os),o=(0,r.f3M)(qr);return t.scrollOffset&&n.setOffset(t.scrollOffset),new du(o,i,n,e,t)}},i?.preloadingStrategy?c_(i.preloadingStrategy).\u0275providers:[],{provide:r.PXZ,multi:!0,useFactory:d_},i?.initialNavigation?g_(i):[],[{provide:_u,useFactory:fu},{provide:r.tb,multi:!0,useExisting:_u}]]}}static forChild(t){return{ngModule:n,providers:[{provide:_r,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(gu,8))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[va]}),n})();function m_(n){if(no&&n)throw new r.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function g_(n){return["disabled"===n.initialNavigation?vi(3,[{provide:r.ip1,multi:!0,useFactory:()=>{const e=(0,r.f3M)(Ve);return()=>{e.setUpLocationChangeListener()}}},{provide:Ta,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?vi(2,[{provide:Ta,useValue:0},{provide:r.ip1,multi:!0,deps:[r.zs3],useFactory:e=>{const t=e.get(Nt.V_,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const o=e.get(Ve),s=e.get(pu);(function r_(n,e){n.events.pipe(wn(t=>t instanceof Vi||t instanceof Ko||t instanceof ua||t instanceof Zo),(0,Gt.U)(t=>t instanceof Vi||t instanceof Zo?dn.COMPLETE:t instanceof Ko&&(0===t.code||1===t.code)?dn.REDIRECTING:dn.FAILED),wn(t=>t!==dn.REDIRECTING),Dn(1)).subscribe(()=>{e()})})(o,()=>{i(!0)}),e.get(os).afterPreactivation=()=>(i(!0),s.closed?Ut(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const _u=new r.OlP(no?"Router Initializer":"");function vu(n,e,t,i,o,s,u){try{var f=n[s](u),y=f.value}catch(I){return void t(I)}f.done?e(y):Promise.resolve(y).then(i,o)}function yu(n){return function(){var e=this,t=arguments;return new Promise(function(i,o){var s=n.apply(e,t);function u(y){vu(s,i,o,u,f,"next",y)}function f(y){vu(s,i,o,u,f,"throw",y)}u(void 0)})}}var v_=T(5497);class bu extends re.x{constructor(e=1/0,t=1/0,i=Ks){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:u}=this;t||(i.push(e),!o&&i.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:o}=this,s=o.slice();for(let u=0;u<s.length&&!e.closed;u+=i?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:o}=this,s=(o?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!o){const u=t.now();let f=0;for(let y=1;y<i.length&&i[y]<=u;y+=2)f=y;f&&i.splice(0,f+1)}}}class y_{static getClientSettings(){return{authority:AppConfig.IdentityUrl,client_id:"insig_spa",redirect_uri:`${AppConfig.ClientUrl}/auth-callback`,response_type:"code",scope:"openid profile email insigapi.read",automaticSilentRenew:!0,silent_redirect_uri:`${AppConfig.ClientUrl}/assets/silent-refresh.html`}}}class as{}class ka{}class Xn{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const o=t.slice(0,i),s=o.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let o;if(o="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),o.length>0){const s=t.toLowerCase();this.headers.set(s,o),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xn;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xn?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...i),this.headers.set(t,o);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===s.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class b_{encodeKey(e){return xu(e)}encodeValue(e){return xu(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const w_=/%(\d[a-f0-9])/gi,S_={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xu(n){return encodeURIComponent(n).replace(w_,(e,t)=>S_[t]??e)}function ls(n){return`${n}`}class yi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new b_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function x_(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[u,f]=-1==s?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,s)),e.decodeValue(o.slice(s+1))],y=t.get(u)||[];y.push(f),t.set(u,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],o=Array.isArray(i)?i.map(ls):[ls(i)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const o=e[i];Array.isArray(o)?o.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new yi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ls(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const o=i.indexOf(ls(e.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class E_{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function wu(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Su(n){return typeof Blob<"u"&&n instanceof Blob}function Cu(n){return typeof FormData<"u"&&n instanceof FormData}class io{constructor(e,t,i,o){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function A_(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,s=o):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Xn),this.context||(this.context=new E_),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new yi,this.urlWithParams=t}serializeBody(){return null===this.body?null:wu(this.body)||Su(this.body)||Cu(this.body)||function M_(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Cu(this.body)?null:Su(this.body)?this.body.type||null:wu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,I=e.params||this.params;const it=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((mt,Mt)=>mt.set(Mt,e.setHeaders[Mt]),y)),e.setParams&&(I=Object.keys(e.setParams).reduce((mt,Mt)=>mt.set(Mt,e.setParams[Mt]),I)),new io(t,i,s,{params:I,headers:y,context:it,reportProgress:f,responseType:o,withCredentials:u})}}var Oe=(()=>((Oe=Oe||{})[Oe.Sent=0]="Sent",Oe[Oe.UploadProgress=1]="UploadProgress",Oe[Oe.ResponseHeader=2]="ResponseHeader",Oe[Oe.DownloadProgress=3]="DownloadProgress",Oe[Oe.Response=4]="Response",Oe[Oe.User=5]="User",Oe))();class Ra{constructor(e,t=200,i="OK"){this.headers=e.headers||new Xn,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ia extends Ra{constructor(e={}){super(e),this.type=Oe.ResponseHeader}clone(e={}){return new Ia({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cs extends Ra{constructor(e={}){super(e),this.type=Oe.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new cs({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Da extends Ra{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Pa(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ro=(()=>{class n{constructor(t){this.handler=t}request(t,i,o={}){let s;if(t instanceof io)s=t;else{let y,I;y=o.headers instanceof Xn?o.headers:new Xn(o.headers),o.params&&(I=o.params instanceof yi?o.params:new yi({fromObject:o.params})),s=new io(t,i,void 0!==o.body?o.body:null,{headers:y,context:o.context,params:I,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const u=Ut(s).pipe(pi(y=>this.handler.handle(y)));if(t instanceof io||"events"===o.observe)return u;const f=u.pipe(wn(y=>y instanceof cs));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe((0,Gt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,Gt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,Gt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,Gt.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new yi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,o={}){return this.request("PATCH",t,Pa(o,i))}post(t,i,o={}){return this.request("POST",t,Pa(o,i))}put(t,i,o={}){return this.request("PUT",t,Pa(o,i))}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(as))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function Eu(n,e){return e(n)}function F_(n,e){return(t,i)=>e.intercept(t,{handle:o=>n(o,i)})}const us=new r.OlP("HTTP_INTERCEPTORS"),oo=new r.OlP("HTTP_INTERCEPTOR_FNS");function k_(){let n=null;return(e,t)=>(null===n&&(n=((0,r.f3M)(us,{optional:!0})??[]).reduceRight(F_,Eu)),n(e,t))}let Au=(()=>{class n extends as{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(oo)));this.chain=i.reduceRight((o,s)=>function T_(n,e,t){return(i,o)=>t.runInContext(()=>e(i,s=>n(s,o)))}(o,s,this.injector),Eu)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(ka),r.LFG(r.lqb))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const P_=/^\)\]\}',?\n/;let Fu=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new rn.y(i=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((At,Ct)=>o.setRequestHeader(At,Ct.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const At=t.detectContentTypeHeader();null!==At&&o.setRequestHeader("Content-Type",At)}if(t.responseType){const At=t.responseType.toLowerCase();o.responseType="json"!==At?At:"text"}const s=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const At=o.statusText||"OK",Ct=new Xn(o.getAllResponseHeaders()),Ft=function O_(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return u=new Ia({headers:Ct,status:o.status,statusText:At,url:Ft}),u},y=()=>{let{headers:At,status:Ct,statusText:Ft,url:zt}=f(),Zt=null;204!==Ct&&(Zt=typeof o.response>"u"?o.responseText:o.response),0===Ct&&(Ct=Zt?200:0);let ue=Ct>=200&&Ct<300;if("json"===t.responseType&&"string"==typeof Zt){const Ne=Zt;Zt=Zt.replace(P_,"");try{Zt=""!==Zt?JSON.parse(Zt):null}catch(Le){Zt=Ne,ue&&(ue=!1,Zt={error:Le,text:Zt})}}ue?(i.next(new cs({body:Zt,headers:At,status:Ct,statusText:Ft,url:zt||void 0})),i.complete()):i.error(new Da({error:Zt,headers:At,status:Ct,statusText:Ft,url:zt||void 0}))},I=At=>{const{url:Ct}=f(),Ft=new Da({error:At,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Ct||void 0});i.error(Ft)};let it=!1;const mt=At=>{it||(i.next(f()),it=!0);let Ct={type:Oe.DownloadProgress,loaded:At.loaded};At.lengthComputable&&(Ct.total=At.total),"text"===t.responseType&&o.responseText&&(Ct.partialText=o.responseText),i.next(Ct)},Mt=At=>{let Ct={type:Oe.UploadProgress,loaded:At.loaded};At.lengthComputable&&(Ct.total=At.total),i.next(Ct)};return o.addEventListener("load",y),o.addEventListener("error",I),o.addEventListener("timeout",I),o.addEventListener("abort",I),t.reportProgress&&(o.addEventListener("progress",mt),null!==s&&o.upload&&o.upload.addEventListener("progress",Mt)),o.send(s),i.next({type:Oe.Sent}),()=>{o.removeEventListener("error",I),o.removeEventListener("abort",I),o.removeEventListener("load",y),o.removeEventListener("timeout",I),t.reportProgress&&(o.removeEventListener("progress",mt),null!==s&&o.upload&&o.upload.removeEventListener("progress",Mt)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Nt.JF))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Oa=new r.OlP("XSRF_ENABLED"),Tu=new r.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ku=new r.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ru{}let B_=(()=>{class n{constructor(t,i,o){this.doc=t,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Nt.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Nt.K0),r.LFG(r.Lbi),r.LFG(Tu))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function U_(n,e){const t=n.url.toLowerCase();if(!(0,r.f3M)(Oa)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,r.f3M)(Ru).getToken(),o=(0,r.f3M)(ku);return null!=i&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,i)})),e(n)}var Fe=(()=>((Fe=Fe||{})[Fe.Interceptors=0]="Interceptors",Fe[Fe.LegacyInterceptors=1]="LegacyInterceptors",Fe[Fe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Fe[Fe.NoXsrfProtection=3]="NoXsrfProtection",Fe[Fe.JsonpSupport=4]="JsonpSupport",Fe[Fe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Fe))();function yr(n,e){return{\u0275kind:n,\u0275providers:e}}function H_(...n){const e=[ro,Fu,Au,{provide:as,useExisting:Au},{provide:ka,useExisting:Fu},{provide:oo,useValue:U_,multi:!0},{provide:Oa,useValue:!0},{provide:Ru,useClass:B_}];for(const t of n)e.push(...t.\u0275providers);return(0,r.MR2)(e)}const Iu=new r.OlP("LEGACY_INTERCEPTOR_FN");let Na=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[H_(yr(Fe.LegacyInterceptors,[{provide:Iu,useFactory:k_},{provide:oo,useExisting:Iu,multi:!0}]))]}),n})(),zi=(()=>{class n{constructor(t,i){this._http=t,this._router=i,this._identityUrl=AppConfig.IdentityUrl,this._userManager=new v_.UserManager(y_.getClientSettings()),this._authStatusSource=new bu,this.authStatus$=this._authStatusSource.asObservable(),this._userManager.getUser().then(o=>{o&&!o.expired?(this._user=o,this._authStatusSource.next(this.isAuthenticated())):this._userManager.signinSilent().then(s=>{this._user=s,this._authStatusSource.next(this.isAuthenticated())}).catch(()=>{this._authStatusSource.next(!1)})}),this._userManager.events.addUserLoaded(o=>{this._user!==o&&(this._user=o)}),this._userManager.events.addUserSignedOut(()=>{this._userManager.removeUser().then(()=>{this._user=null,this._authStatusSource.next(!1),this._router.navigate(["logout"])})})}get isAuthenticated$(){return(0,Ae.D)(this._userManager.getUser()).pipe(on(t=>t&&!t.expired?Ut(!0):(0,Ae.D)(this._userManager.signinSilent()).pipe((0,Gt.U)(i=>(this._user=i,!!i)))),Cn(()=>Ut(!1)))}get name(){return this._user?.profile.name}register(t){return this._http.post(`${this._identityUrl}/register`,t)}login(){return this._userManager.signinRedirect({state:window.location.href})}manageAccount(){window.location.href=`${this._identityUrl}/Manage/Index?ReturnUrl=${encodeURIComponent(AppConfig.ClientUrl)}`}isAuthenticated(){return!!this._user&&!this._user.expired}completeAuthentication(){var t=this;return yu(function*(){yield t._userManager.signinRedirectCallback().then(i=>{t._user=i,t._router.navigate([new URL(i.state).searchParams.get("redirect")||"/"]),t._authStatusSource.next(t.isAuthenticated())})})()}signout(){this._userManager.signoutRedirect()}getAuthorizationToken(){return this._userManager.getUser().then(t=>t&&!t.expired?`${t.token_type} ${t.access_token}`:null)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(ro),r.LFG(Ve))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function j_(n,e){1&n&&(r.TgZ(0,"mat-card",1)(1,"section",2)(2,"div")(3,"h1"),r._uU(4," Oops! "),r.qZA()(),r.TgZ(5,"div")(6,"p"),r._uU(7,"There was an error, please try to "),r.TgZ(8,"a",3),r._uU(9,"login again"),r.qZA(),r._uU(10,"."),r.qZA()()()())}const z_=[{path:"auth-callback",component:(()=>{class n{constructor(t,i){this._authService=t,this._router=i,this.error=!1}ngOnInit(){var t=this;return yu(function*(){t._router.url.indexOf("error")>=0?t.error=!0:yield t._authService.completeAuthentication()})()}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(zi),r.Y36(Ve))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-auth-callback"]],decls:1,vars:1,consts:[["appearance","outlined",4,"ngIf"],["appearance","outlined"],[1,"auth-callback"],["routerLink","/login"]],template:function(t,i){1&t&&r.YNc(0,j_,11,0,"mat-card",0),2&t&&r.Q6J("ngIf",i.error)},dependencies:[Nt.O5,_i,di],styles:[".auth-callback[_ngcontent-%COMP%]{display:block;padding:60px 80px}.auth-callback[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;padding:0;font-size:80px;line-height:80px;text-transform:uppercase}mat-card[_ngcontent-%COMP%]{max-width:800px;margin:2em auto;text-align:center}"]}),n})()}];let q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ln.forChild(z_),ln]}),n})(),G_=(()=>{class n{static forRoot(){return{ngModule:n,providers:[zi]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Nt.ez,q_,ta]}),n})();var Y_=T(3532);function La(n=0,e,t=Zf){let i=-1;return null!=e&&((0,Y_.K)(e)?t=e:i=e),new rn.y(o=>{let s=function $_(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){o.closed||(o.next(u++),0<=i?this.schedule(void 0,i):o.complete())},s)})}var Du=T(3099);function Z_(n,e){if(1&n&&(r.TgZ(0,"div",3),r._UZ(1,"div",4),r.qZA()),2&n){const t=r.oxw(2);r.xp6(1),r.Udp("width",t.diameter)("height",t.diameter)}}function W_(n,e){if(1&n&&r._UZ(0,"div",5),2&n){const t=r.oxw().ngIf,i=r.oxw();r.Udp("background",i.color)("height",i.height)("width",t+"%")}}function J_(n,e){if(1&n&&(r.ynx(0),r.YNc(1,Z_,2,4,"div",1),r.YNc(2,W_,1,6,"div",2),r.BQk()),2&n){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.includeSpinner),r.xp6(1),r.Q6J("ngIf",t.includeBar)}}class X_{constructor(e={}){this.config=e,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new re.x,this._value$=null,this.timer$=t=>{let i=Ut(t);switch(t.action){case"start":case"increment":case"set":"start"===t.action&&0===this.config.latencyThreshold&&0===t.value&&(t.value=t.initialValue),this.requests>0&&(i=La(this.config.latencyThreshold,250).pipe((0,Gt.U)(o=>({...t,value:0===o?this.state.value||t.initialValue:this._increment()}))));break;case"complete":case"stop":i=0===t.value?Ut({...t}):La(0,500).pipe(Dn(2),(0,Gt.U)(o=>({value:0===o?100:0})))}return i.pipe((0,Gt.U)(o=>({...o,action:"set"})),Me(o=>this.next(o,!1)))},this.config={latencyThreshold:0,...e}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(Or(this.state),on(e=>this.timer$(e)),function K_(n,e,t){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):i=n??1/0,(0,Du.B)({connector:()=>new bu(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(),(0,Gt.U)(e=>e.value))}start(e=2){this.disabled||this.next({action:"start",initialValue:e})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(e){this.next({action:"set",value:e})}increment(e=0){this.next({action:"increment",value:e})}next(e,t=!0){switch(e.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":e.value=this._increment(e.value)}this.state={...this.state,action:null,...e},t&&this.stream$.next(this.state)}_increment(e=0){const t=this.state.value;return t>=99&&(e=0),0===e&&(e=t>=0&&t<25?3*Math.random()+3:t>=25&&t<65?3*Math.random():t>=65&&t<90?2*Math.random():t>=90&&t<99?.5:0),e+t}}const Q_=new r.OlP("LOADING_BAR_CONFIG");let Pu=(()=>{class n{constructor(t,i={},o){this.platformId=t,this.config=i,this.zone=o,this.refs={},this.streams$=new re.x,this.value$=this.streams$.pipe(Or(null),on(()=>Po(Object.keys(this.refs).map(s=>this.refs[s].value$))),function tv(n){return n?e=>new rn.y(t=>e.subscribe(i=>n.run(()=>t.next(i)),i=>n.run(()=>t.error(i)),()=>n.run(()=>t.complete()))):e=>e}(this.zone),(0,Gt.U)(s=>Math.max(0,...s)))}get progress$(){return this.value$}start(t=2){this.useRef().start(t)}set(t){this.useRef().set(t)}increment(t){this.useRef().increment(t)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(t="default"){return this.refs[t]||(this.refs[t]=new X_(this.config),this.streams$.next(),(0,Nt.NF)(this.platformId)||this.refs[t].disable()),this.refs[t]}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.Lbi),r.LFG(Q_,8),r.LFG(r.R0b,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ev=(()=>{class n{constructor(t){this.loader=t,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Pu))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(t,i){2&t&&(r.uIk("fixed",i.fixed),r.Udp("color",i.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(t,i){1&t&&(r.YNc(0,J_,3,2,"ng-container",0),r.ALo(1,"async")),2&t&&r.Q6J("ngIf",null!=i.value?i.value:r.lcZ(1,1,i.value$))},dependencies:[Nt.O5,Nt.Ov],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0px}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@-webkit-keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0}),n})(),Ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Nt.ez]]}),n})();const nv=new class C_{constructor(e){this.defaultValue=e}}(()=>!1);let iv=(()=>{class n{constructor(t){this.loader=t}intercept(t,i){if(t.headers.has("ignoreLoadingBar"))return i.handle(t.clone({headers:t.headers.delete("ignoreLoadingBar")}));if(!0===t.context.get(nv))return i.handle(t);let o=!1;const s=this.loader.useRef("http");return i.handle(t).pipe(Me(()=>{o||(s.start(),o=!0)}),Vr(()=>o&&s.complete()))}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Pu))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),rv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:us,useClass:iv,multi:!0}],imports:[[Na,Ou],Na,Ou]}),n})();const Nu=["mat-button",""],Lu=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Bu=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],av=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],lv=Xs(bp(xp(class{constructor(n){this._elementRef=n}})));let Uu=(()=>{class n extends lv{constructor(t,i,o,s){super(t),this._platform=i,this._ngZone=o,this._animationMode=s,this._focusMonitor=(0,r.f3M)(hp),this._isFab=!1;const u=t.nativeElement.classList;for(const f of av)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(y=>{u.add(y)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){r.$Z()},n.\u0275dir=r.lG2({type:n,viewQuery:function(t,i){if(1&t&&r.Gf(Qs,5),2&t){let o;r.iGM(o=r.CRH())&&(i.ripple=o.first)}},features:[r.qOj]}),n})(),uv=(()=>{class n extends Uu{constructor(t,i,o,s){super(t,i,o,s),this._haltDisabledEvents=u=>{this.disabled&&(u.preventDefault(),u.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){r.$Z()},n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})(),Ba=(()=>{class n extends Uu{constructor(t,i,o,s){super(t,i,o,s)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(qe),r.Y36(r.R0b),r.Y36(r.QbO,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(r.uIk("disabled",i.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:Nu,ngContentSelectors:Bu,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(r.F$t(Lu),r._UZ(0,"span",0),r.Hsn(1),r.TgZ(2,"span",1),r.Hsn(3,1),r.qZA(),r.Hsn(4,2),r._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(r.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),r.xp6(6),r.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Qs],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),dv=(()=>{class n extends uv{constructor(t,i,o,s){super(t,i,o,s)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(qe),r.Y36(r.R0b),r.Y36(r.QbO,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(t,i){2&t&&(r.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[r.qOj],attrs:Nu,ngContentSelectors:Bu,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(r.F$t(Lu),r._UZ(0,"span",0),r.Hsn(1),r.TgZ(2,"span",1),r.Hsn(3,1),r.qZA(),r.Hsn(4,2),r._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(r.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),r.xp6(6),r.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Qs],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Hu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Pe,ac,Pe]}),n})();const fv=["*",[["mat-toolbar-row"]]],pv=["*","mat-toolbar-row"],mv=Xs(class{constructor(n){this._elementRef=n}});let gv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),_v=(()=>{class n extends mv{constructor(t,i,o){super(t),this._platform=i,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(qe),r.Y36(Nt.K0))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,o){if(1&t&&r.Suo(o,gv,5),2&t){let s;r.iGM(s=r.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&r.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:pv,decls:2,vars:0,template:function(t,i){1&t&&(r.F$t(fv),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Vu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Pe,Pe]}),n})();function ju(...n){const e=(0,sr.jO)(n),{args:t,keys:i}=Ul(n),o=new rn.y(s=>{const{length:u}=t;if(!u)return void s.complete();const f=new Array(u);let y=u,I=u;for(let it=0;it<u;it++){let mt=!1;(0,Bi.Xf)(t[it]).subscribe((0,Ie.x)(s,Mt=>{mt||(mt=!0,I--),f[it]=Mt},()=>y--,void 0,()=>{(!y||!mt)&&(I||s.next(i?Hl(i,f):f),s.complete())}))}});return e?o.pipe(Ys(e)):o}const vv=["*"];let ds;function so(n){return function yv(){if(void 0===ds&&(ds=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(ds=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ds}()?.createHTML(n)||n}function zu(n){return Error(`Unable to find icon with the name "${n}"`)}function qu(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Gu(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class qi{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let hs=(()=>{class n{constructor(t,i,o,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(t,i,o){return this.addSvgIconInNamespace("",t,i,o)}addSvgIconLiteral(t,i,o){return this.addSvgIconLiteralInNamespace("",t,i,o)}addSvgIconInNamespace(t,i,o,s){return this._addSvgIconConfig(t,i,new qi(o,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,o,s){const u=this._sanitizer.sanitize(r.q3G.HTML,o);if(!u)throw Gu(o);const f=so(u);return this._addSvgIconConfig(t,i,new qi("",f,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,o){return this._addSvgIconSetConfig(t,new qi(i,null,o))}addSvgIconSetLiteralInNamespace(t,i,o){const s=this._sanitizer.sanitize(r.q3G.HTML,i);if(!s)throw Gu(i);const u=so(s);return this._addSvgIconSetConfig(t,new qi("",u,o))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t);if(!i)throw qu(t);const o=this._cachedIconsByUrl.get(i);return o?Ut(fs(o)):this._loadSvgIconFromConfig(new qi(t,null)).pipe(Me(s=>this._cachedIconsByUrl.set(i,s)),(0,Gt.U)(s=>fs(s)))}getNamedSvgIcon(t,i=""){const o=Yu(i,t);let s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):hi(zu(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ut(fs(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Gt.U)(i=>fs(i)))}_getSvgFromIconSetConfigs(t,i){const o=this._extractIconWithNameFromAnySet(t,i);return o?Ut(o):ju(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Cn(f=>{const I=`Loading icon set URL: ${this._sanitizer.sanitize(r.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(I)),Ut(null)})))).pipe((0,Gt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw zu(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let o=i.length-1;o>=0;o--){const s=i[o];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(s),f=this._extractSvgIconFromSet(u,t,s.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Me(i=>t.svgText=i),(0,Gt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ut(null):this._fetchIcon(t).pipe(Me(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,o){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,o);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),o);const f=this._svgElementFromString(so("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,o)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){const i=this._svgElementFromString(so("<svg></svg>")),o=t.attributes;for(let s=0;s<o.length;s++){const{name:u,value:f}=o[s];"id"!==u&&i.setAttribute(u,f)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:o}=t,s=o?.withCredentials??!1;if(!this._httpClient)throw function bv(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,i);if(!u)throw qu(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const y=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,Gt.U)(I=>so(I)),Vr(()=>this._inProgressUrlFetches.delete(u)),(0,Du.B)());return this._inProgressUrlFetches.set(u,y),y}_addSvgIconConfig(t,i,o){return this._svgIconConfigs.set(Yu(t,i),o),this}_addSvgIconSetConfig(t,i){const o=this._iconSetConfigs.get(t);return o?o.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let o=0;o<this._resolvers.length;o++){const s=this._resolvers[o](i,t);if(s)return wv(s)?new qi(s.url,null,s.options):new qi(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(ro,8),r.LFG(et.H7),r.LFG(Nt.K0,8),r.LFG(r.qLn))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fs(n){return n.cloneNode(!0)}function Yu(n,e){return n+":"+e}function wv(n){return!(!n.url||!n.options)}const Sv=Xs(class{constructor(n){this._elementRef=n}}),Cv=new r.OlP("MAT_ICON_DEFAULT_OPTIONS"),Ev=new r.OlP("mat-icon-location",{providedIn:"root",factory:function Av(){const n=(0,r.f3M)(Nt.K0),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),$u=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Mv=$u.map(n=>`[${n}]`).join(", "),Fv=/^url\(['"]?#(.*?)['"]?\)$/;let Ua=(()=>{class n extends Sv{get inline(){return this._inline}set inline(t){this._inline=Zn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,o,s,u,f){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ui.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),o||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=t.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>t.classList.remove(o)),i.forEach(o=>t.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((o,s)=>{o.forEach(u=>{s.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Mv),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)$u.forEach(u=>{const f=i[s],y=f.getAttribute(u),I=y?y.match(Fv):null;if(I){let it=o.get(f);it||(it=[],o.set(f,it)),it.push({name:u,value:I[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,o]=this._splitIconName(t);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(Dn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(hs),r.$8M("aria-hidden"),r.Y36(Ev),r.Y36(r.qLn),r.Y36(Cv,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(r.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),r.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:vv,decls:1,vars:0,template:function(t,i){1&t&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Ku=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Pe,Pe]}),n})();function Tv(n,e){1&n&&(r.TgZ(0,"nav")(1,"a",9)(2,"mat-icon"),r._uU(3,"security"),r.qZA(),r._uU(4," Login "),r.qZA(),r.TgZ(5,"a",10)(6,"mat-icon"),r._uU(7,"call_made"),r.qZA(),r._uU(8," Register "),r.qZA()())}function kv(n,e){1&n&&(r.TgZ(0,"a",11)(1,"mat-icon"),r._uU(2,"mood"),r.qZA(),r._uU(3," Sample "),r.qZA())}function Rv(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"a",8),r.NdJ("click",function(){r.CHM(t);const o=r.oxw();return r.KtG(o.manageAccount())}),r.TgZ(1,"mat-icon"),r._uU(2,"account_circle"),r.qZA(),r._uU(3," Manage Account "),r.qZA()}}const Zu=function(){return{exact:!0}};let Iv=(()=>{class n{constructor(t){this._authService=t,this.title="Sample App"}signout(){this._authService.signout()}manageAccount(){this._authService.manageAccount()}ngOnInit(){this.authStatus$=this._authService.authStatus$}getUserName(){return this._authService.name}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(zi))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-navbar"]],decls:23,vars:15,consts:[[1,"mat-elevation-z6","navbar"],["routerLink","/",1,"nav-title"],[1,"fill-remaining-space"],["mat-button","","routerLinkActive","menu-item-active","routerLink","/restaurants",3,"routerLinkActiveOptions"],["mat-button","","routerLinkActive","menu-item-active","routerLink","/",3,"routerLinkActiveOptions"],[4,"ngIf"],["mat-button","","routerLinkActive","menu-item-active","routerLink","/sample",4,"ngIf"],["mat-button","","routerLinkActive","menu-item-active",3,"click",4,"ngIf"],["mat-button","","routerLinkActive","menu-item-active",3,"click"],["mat-button","","routerLinkActive","menu-item-active","routerLink","/login"],["mat-button","","routerLinkActive","menu-item-active","routerLink","/register"],["mat-button","","routerLinkActive","menu-item-active","routerLink","/sample"]],template:function(t,i){1&t&&(r.TgZ(0,"mat-toolbar",0)(1,"a",1),r._uU(2),r.qZA(),r._UZ(3,"span",2),r.TgZ(4,"a",3)(5,"mat-icon"),r._uU(6,"fastfood"),r.qZA(),r._uU(7," Restaurants "),r.qZA(),r.TgZ(8,"a",4)(9,"mat-icon"),r._uU(10,"home"),r.qZA(),r._uU(11," Home "),r.qZA(),r.YNc(12,Tv,9,0,"nav",5),r.ALo(13,"async"),r.TgZ(14,"nav"),r.YNc(15,kv,4,0,"a",6),r.ALo(16,"async"),r.YNc(17,Rv,4,0,"a",7),r.ALo(18,"async"),r.TgZ(19,"a",8),r.NdJ("click",function(){return i.signout()}),r.TgZ(20,"mat-icon"),r._uU(21,"exit_to_app"),r.qZA(),r._uU(22),r.qZA()()()),2&t&&(r.xp6(2),r.Oqu(i.title),r.xp6(2),r.Q6J("routerLinkActiveOptions",r.DdM(13,Zu)),r.xp6(4),r.Q6J("routerLinkActiveOptions",r.DdM(14,Zu)),r.xp6(4),r.Q6J("ngIf",!1===r.lcZ(13,7,i.authStatus$)),r.xp6(3),r.Q6J("ngIf",r.lcZ(16,9,i.authStatus$)),r.xp6(2),r.Q6J("ngIf",r.lcZ(18,11,i.authStatus$)),r.xp6(5),r.hij(" Signout ",i.getUserName()," "))},dependencies:[Nt.O5,_i,cu,dv,_v,Ua,Nt.Ov],styles:["mat-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:2}.nav-title[_ngcontent-%COMP%]{color:inherit;text-decoration:none;margin-left:25px}.nav-title[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})(),Dv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[["height","3px","color","black"],[1,"margin-top-100"]],template:function(t,i){1&t&&(r._UZ(0,"ngx-loading-bar",0)(1,"app-navbar"),r.TgZ(2,"div",1),r._UZ(3,"router-outlet"),r.qZA())},dependencies:[Iv,_a,ev],encapsulation:2}),n})();const Wu=["toast-component",""];function Pv(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){r.CHM(t);const o=r.oxw();return r.KtG(o.remove())}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA()()}}function Ov(n,e){if(1&n&&(r.ynx(0),r._uU(1),r.BQk()),2&n){const t=r.oxw(2);r.xp6(1),r.hij("[",t.duplicatesCount+1,"]")}}function Nv(n,e){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,Ov,2,1,"ng-container",4),r.qZA()),2&n){const t=r.oxw();r.Tol(t.options.titleClass),r.uIk("aria-label",t.title),r.xp6(1),r.hij(" ",t.title," "),r.xp6(1),r.Q6J("ngIf",t.duplicatesCount)}}function Lv(n,e){if(1&n&&r._UZ(0,"div",7),2&n){const t=r.oxw();r.Tol(t.options.messageClass),r.Q6J("innerHTML",t.message,r.oJD)}}function Bv(n,e){if(1&n&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&n){const t=r.oxw();r.Tol(t.options.messageClass),r.uIk("aria-label",t.message),r.xp6(1),r.hij(" ",t.message," ")}}function Uv(n,e){if(1&n&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&n){const t=r.oxw();r.xp6(1),r.Udp("width",t.width+"%")}}class Yv{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class $v{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Kv{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new re.x,this._activate=new re.x,this._manualClose=new re.x,this._resetTimeout=new re.x,this._countDuplicate=new re.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class ps{constructor(e,t,i,o,s,u){this.toastId=e,this.config=t,this.message=i,this.title=o,this.toastType=s,this.toastRef=u,this._onTap=new re.x,this._onAction=new re.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Xu=new r.OlP("ToastConfig");class Zv extends $v{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let o;return o=i.create(e.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Wv{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Jv=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Nt.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xv=(()=>{class n{constructor(t,i,o,s){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=o,this._document=s,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(t),o.classList.add("toast-container"),i?i.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(t){return new Zv(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Wv(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Jv),r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(Nt.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),br=(()=>{class n{constructor(t,i,o,s,u){this.overlay=i,this._injector=o,this.sanitizer=s,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,o={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(o))}success(t,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(o))}error(t,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(o))}info(t,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(o))}warning(t,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(o))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(t="",i="",o,s){const{includeTitleDuplicates:u}=this.toastrConfig;for(const f of this.toasts)if((!u||u&&f.title===t)&&f.message===i)return f.toastRef.onDuplicate(o,s),f;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,o,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,o,s)):this._buildNotification(t,i,o,s)}_buildNotification(t,i,o,s){if(!s.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(o,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let I=i;i&&s.enableHtml&&(I=this.sanitizer.sanitize(r.q3G.HTML,i));const it=new Kv(y),mt=new ps(this.index,s,I,o,t,it),At=r.zs3.create({providers:[{provide:ps,useValue:mt}],parent:this._injector}),Ct=new Yv(s.toastComponent,At),Ft=y.attach(Ct,s.newestOnTop);it.componentInstance=Ft.instance;const zt={toastId:this.index,title:o||"",message:i||"",toastRef:it,onShown:it.afterActivate(),onHidden:it.afterClosed(),onTap:mt.onTap(),onAction:mt.onAction(),portal:Ft};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{zt.toastRef.activate()})),this.toasts.push(zt),zt}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Xu),r.LFG(Xv),r.LFG(r.zs3),r.LFG(et.H7),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qv={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(t,i,o){this.toastrService=t,this.toastPackage=i,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(br),r.Y36(ps),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&r.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(r.d8E("@flyInOut",i.state),r.Tol(i.toastClasses),r.Udp("display",i.displayStyle))},attrs:Wu,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(r.YNc(0,Pv,3,0,"button",0),r.YNc(1,Nv,3,5,"div",1),r.YNc(2,Lv,1,3,"div",2),r.YNc(3,Bv,2,4,"div",3),r.YNc(4,Uv,2,2,"div",4)),2&t&&(r.Q6J("ngIf",i.options.closeButton),r.xp6(1),r.Q6J("ngIf",i.title),r.xp6(1),r.Q6J("ngIf",i.message&&i.options.enableHtml),r.xp6(1),r.Q6J("ngIf",i.message&&!i.options.enableHtml),r.xp6(1),r.Q6J("ngIf",i.options.progressBar))},dependencies:[Nt.O5],encapsulation:2,data:{animation:[v("flyInOut",[E("inactive",V({opacity:0})),E("active",V({opacity:1})),E("removed",V({opacity:0})),B("inactive => active",_("{{ easeTime }}ms {{ easing }}")),B("active => removed",_("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let ty=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:Xu,useValue:{default:Qv,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Nt.ez]}),n})();const Qu={1:"Password has been changed successfully",2:"Password change has been canceled"},ey=[{path:"",component:(()=>{class n{constructor(t,i){this._route=t,this._toastrService=i}ngOnInit(){const t=+(this._route.snapshot.queryParamMap.get("resultCode")||"");switch(t){case 1:this._toastrService.success(Qu[t]);break;case 2:this._toastrService.warning(Qu[t])}}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(ji),r.Y36(br))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-home"]],decls:61,vars:0,consts:[["appearance","outlined"]],template:function(t,i){1&t&&(r.TgZ(0,"mat-card",0)(1,"h1"),r._uU(2,"Authorization Project:"),r.qZA(),r.TgZ(3,"ul")(4,"li"),r._uU(5,".NET 7.0"),r.qZA(),r.TgZ(6,"li"),r._uU(7,"IdentityServer4"),r.qZA(),r.TgZ(8,"li"),r._uU(9,"Authorization Code Flow + PKCE"),r.qZA(),r.TgZ(10,"li"),r._uU(11,"Database - Microsoft SQL Server"),r.qZA(),r.TgZ(12,"li"),r._uU(13,"Email verification (after registering)"),r.qZA(),r.TgZ(14,"li"),r._uU(15,"Phone number verification (in Manage Account)"),r.qZA()(),r.TgZ(16,"h1"),r._uU(17,"API Project:"),r.qZA(),r.TgZ(18,"ul")(19,"li"),r._uU(20,".NET 7.0"),r.qZA(),r.TgZ(21,"li"),r._uU(22,"CQRS + Dispatcher"),r.qZA(),r.TgZ(23,"li"),r._uU(24,"Custom Query Builder for Dapper"),r.qZA(),r.TgZ(25,"li"),r._uU(26,"Prepared for Domain-driven design"),r.qZA(),r.TgZ(27,"li"),r._uU(28,"IoC Container Autofac"),r.qZA(),r.TgZ(29,"li"),r._uU(30,"Database - Microsoft SQL Server"),r.qZA()(),r.TgZ(31,"h1"),r._uU(32,"Angular Project:"),r.qZA(),r.TgZ(33,"ul")(34,"li"),r._uU(35,".NET 7.0"),r.qZA(),r.TgZ(36,"li"),r._uU(37,"Angular 11"),r.qZA(),r.TgZ(38,"li"),r._uU(39,"Authorization (oidc-client.js)"),r.qZA(),r.TgZ(40,"li"),r._uU(41,"Silent refresh"),r.qZA(),r.TgZ(42,"li"),r._uU(43,"Angular Material"),r.qZA(),r.TgZ(44,"li"),r._uU(45,"Toasts"),r.qZA(),r.TgZ(46,"li"),r._uU(47,"Directive for input validation errors"),r.qZA(),r.TgZ(48,"li"),r._uU(49,"Secured API calls (Encoding URI)"),r.qZA()(),r.TgZ(50,"h1"),r._uU(51,"Other:"),r.qZA(),r.TgZ(52,"ul")(53,"li"),r._uU(54,"Domain tests"),r.qZA(),r.TgZ(55,"li"),r._uU(56,"Integration API tests"),r.qZA(),r.TgZ(57,"li"),r._uU(58,"Serilog"),r.qZA(),r.TgZ(59,"li"),r._uU(60,"HTTP security headers"),r.qZA()()())},dependencies:[di],encapsulation:2}),n})(),pathMatch:"full"},{path:"not-found",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-page-not-found"]],decls:13,vars:0,consts:[["appearance","outlined"],[1,"not-found"],["routerLink","/"]],template:function(t,i){1&t&&(r.TgZ(0,"mat-card",0)(1,"section",1)(2,"div")(3,"h1"),r._uU(4," 404 ERROR "),r.qZA()(),r.TgZ(5,"div")(6,"p"),r._uU(7,"For some reason the page you requested could not be found on server."),r.qZA(),r.TgZ(8,"p"),r._uU(9,"Go back to the "),r.TgZ(10,"a",2),r._uU(11,"homepage"),r.qZA(),r._uU(12,". "),r.qZA()()()())},dependencies:[_i,di],styles:[".not-found[_ngcontent-%COMP%]{display:block;padding:60px 80px}.not-found[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;padding:0;font-size:80px;line-height:80px;text-transform:uppercase}mat-card[_ngcontent-%COMP%]{max-width:800px;margin:2em auto;text-align:center}"]}),n})()},{path:"**",redirectTo:"not-found",pathMatch:"full"}];let ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ln.forRoot(ey),ln]}),n})();var td=T(7629);let ry=(()=>{class n{constructor(t,i,o){this._authService=t,this._router=i,this._toastrService=o,this.allowedUrls=[AppConfig.ClientUrl,AppConfig.ApiUrl,AppConfig.IdentityUrl]}intercept(t,i){return this.checkUrl(t.url.toLowerCase())?(0,Ae.D)(this._authService.getAuthorizationToken().then(o=>{const s=o?t.clone({setHeaders:{authorization:o}}):t;return function iy(n,e){const t="object"==typeof e;return new Promise((i,o)=>{let u,s=!1;n.subscribe({next:f=>{u=f,s=!0},error:o,complete:()=>{s?i(u):t?i(e.defaultValue):o(new Hr)}})})}(i.handle(s))})).pipe(Cn(o=>{if(o instanceof Da)switch(o.status){case 401:return this.handle401Error(o);case 404:return this.handle404Error(o);default:return this.handle500Error(o)}return hi(()=>o)})):i.handle(t)}handle401Error(t){return this._router.navigateByUrl("login"),Sn.E}handle404Error(t){return this._router.navigateByUrl("not-found"),Sn.E}handle500Error(t){return this._toastrService.error(t.error?.detail||"Operation failed","Error"),Sn.E}checkUrl(t){return this.allowedUrls.some(i=>this.isFromService(i,t))}isFromService(t,i){if(!i.startsWith(t))return!1;const o=new td(t),s=new td(i);return o.hostname===s.hostname&&o.protocol===s.protocol}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(zi),r.LFG(Ve),r.LFG(br))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),oy=(()=>{class n{constructor(t){this._toastr=t}intercept(t,i){return i.handle(t).pipe(Cn(o=>(this._toastr.error("Operation failed","Error"),hi(o))))}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(br))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),sy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:us,useClass:oy,multi:!0},{provide:us,useClass:ry,multi:!0}],imports:[Nt.ez,Na,ty.forRoot()]}),n})();var ed=T(6451);let nd=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ay=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Wn(t);return new rn.y(o=>{const u=this._observeElement(i).subscribe(o);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new re.x,o=this._mutationObserverFactory.create(s=>i.next(s));o&&o.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:o,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:o}=this._observedElements.get(t);i&&i.disconnect(),o.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(nd))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ly=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Zn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function Of(n,e=0){return function Nf(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}constructor(t,i,o){this._contentObserver=t,this._elementRef=i,this._ngZone=o,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(jl(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(ay),r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),cy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[nd]}),n})();const uy=["matFormFieldNotchedOutline",""],dy=["*"],hy=["textField"],fy=["iconPrefixContainer"],py=["textPrefixContainer"];function my(n,e){1&n&&r._UZ(0,"span",19)}function gy(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"label",17),r.NdJ("cdkObserveContent",function(){r.CHM(t);const o=r.oxw(2);return r.KtG(o._refreshOutlineNotchWidth())}),r.Hsn(1,1),r.YNc(2,my,1,0,"span",18),r.qZA()}if(2&n){const t=r.oxw(2);r.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),r.uIk("for",t._control.id)("aria-owns",t._control.id),r.xp6(2),r.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function _y(n,e){if(1&n&&r.YNc(0,gy,3,6,"label",16),2&n){const t=r.oxw();r.Q6J("ngIf",t._hasFloatingLabel())}}function vy(n,e){1&n&&r._UZ(0,"div",20)}function yy(n,e){}function by(n,e){if(1&n&&r.YNc(0,yy,0,0,"ng-template",22),2&n){r.oxw(2);const t=r.MAs(1);r.Q6J("ngTemplateOutlet",t)}}function xy(n,e){if(1&n&&(r.TgZ(0,"div",21),r.YNc(1,by,1,1,"ng-template",9),r.qZA()),2&n){const t=r.oxw();r.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),r.xp6(1),r.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function wy(n,e){1&n&&(r.TgZ(0,"div",23,24),r.Hsn(2,2),r.qZA())}function Sy(n,e){1&n&&(r.TgZ(0,"div",25,26),r.Hsn(2,3),r.qZA())}function Cy(n,e){}function Ey(n,e){if(1&n&&r.YNc(0,Cy,0,0,"ng-template",22),2&n){r.oxw();const t=r.MAs(1);r.Q6J("ngTemplateOutlet",t)}}function Ay(n,e){1&n&&(r.TgZ(0,"div",27),r.Hsn(1,4),r.qZA())}function My(n,e){1&n&&(r.TgZ(0,"div",28),r.Hsn(1,5),r.qZA())}function Fy(n,e){1&n&&r._UZ(0,"div",29)}function Ty(n,e){if(1&n&&(r.TgZ(0,"div",30),r.Hsn(1,6),r.qZA()),2&n){const t=r.oxw();r.Q6J("@transitionMessages",t._subscriptAnimationState)}}function ky(n,e){if(1&n&&(r.TgZ(0,"mat-hint",34),r._uU(1),r.qZA()),2&n){const t=r.oxw(2);r.Q6J("id",t._hintLabelId),r.xp6(1),r.Oqu(t.hintLabel)}}function Ry(n,e){if(1&n&&(r.TgZ(0,"div",31),r.YNc(1,ky,2,2,"mat-hint",32),r.Hsn(2,7),r._UZ(3,"div",33),r.Hsn(4,8),r.qZA()),2&n){const t=r.oxw();r.Q6J("@transitionMessages",t._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",t.hintLabel)}}const Iy=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Dy=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let id=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-label"]]}),n})(),Py=0;const rd=new r.OlP("MatError");let Oy=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+Py++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(r.$8M("aria-live"),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,i){2&t&&r.Ikx("id",i.id)},inputs:{id:"id"},features:[r._Bn([{provide:rd,useExisting:n}])]}),n})(),Ny=0,od=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Ny++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(r.Ikx("id",i.id),r.uIk("align",null),r.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const Ly=new r.OlP("MatPrefix"),sd=new r.OlP("MatSuffix");let By=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[r._Bn([{provide:sd,useExisting:n}])]}),n})(),ad=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function Uy(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&r.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const ld="mdc-line-ripple--active",ms="mdc-line-ripple--deactivating";let cd=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=o=>{const s=this._elementRef.nativeElement.classList,u=s.contains(ms);"opacity"===o.propertyName&&u&&s.remove(ld,ms)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(ms),t.add(ld)}deactivate(){this._elementRef.nativeElement.classList.add(ms)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275dir=r.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),ud=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&r.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:uy,ngContentSelectors:dy,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(r.F$t(),r._UZ(0,"div",0),r.TgZ(1,"div",1),r.Hsn(2),r.qZA(),r._UZ(3,"div",2)),2&t&&(r.xp6(1),r.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const Hy={transitionMessages:v("transitionMessages",[E("enter",V({opacity:1,transform:"translateY(0%)"})),B("void => enter",[V({opacity:0,transform:"translateY(-5px)"}),_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let dd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n}),n})();const hd=new r.OlP("MatFormField"),Vy=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let fd=0,gd=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Zn(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,o,s,u,f,y,I){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=o,this._dir=s,this._platform=u,this._defaults=f,this._animationMode=y,this._document=I,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+fd++,this._hintLabelId="mat-mdc-hint-"+fd++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new re.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ci(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,ed.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ci(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ci(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,o=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),o&&t.push(o.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,u=o?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(Nr),r.Y36(qe),r.Y36(Vy,8),r.Y36(r.QbO,8),r.Y36(Nt.K0))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,o){if(1&t&&(r.Suo(o,id,5),r.Suo(o,id,7),r.Suo(o,dd,5),r.Suo(o,Ly,5),r.Suo(o,sd,5),r.Suo(o,rd,5),r.Suo(o,od,5)),2&t){let s;r.iGM(s=r.CRH())&&(i._labelChildNonStatic=s.first),r.iGM(s=r.CRH())&&(i._labelChildStatic=s.first),r.iGM(s=r.CRH())&&(i._formFieldControl=s.first),r.iGM(s=r.CRH())&&(i._prefixChildren=s),r.iGM(s=r.CRH())&&(i._suffixChildren=s),r.iGM(s=r.CRH())&&(i._errorChildren=s),r.iGM(s=r.CRH())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(r.Gf(hy,5),r.Gf(fy,5),r.Gf(py,5),r.Gf(ad,5),r.Gf(ud,5),r.Gf(cd,5)),2&t){let o;r.iGM(o=r.CRH())&&(i._textField=o.first),r.iGM(o=r.CRH())&&(i._iconPrefixContainer=o.first),r.iGM(o=r.CRH())&&(i._textPrefixContainer=o.first),r.iGM(o=r.CRH())&&(i._floatingLabel=o.first),r.iGM(o=r.CRH())&&(i._notchedOutline=o.first),r.iGM(o=r.CRH())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&r.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:hd,useExisting:n}])],ngContentSelectors:Dy,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(r.F$t(Iy),r.YNc(0,_y,1,1,"ng-template",null,0,r.W1O),r.TgZ(2,"div",1,2),r.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),r.YNc(4,vy,1,0,"div",3),r.TgZ(5,"div",4),r.YNc(6,xy,2,3,"div",5),r.YNc(7,wy,3,0,"div",6),r.YNc(8,Sy,3,0,"div",7),r.TgZ(9,"div",8),r.YNc(10,Ey,1,1,"ng-template",9),r.Hsn(11),r.qZA(),r.YNc(12,Ay,2,0,"div",10),r.YNc(13,My,2,0,"div",11),r.qZA(),r.YNc(14,Fy,1,0,"div",12),r.qZA(),r.TgZ(15,"div",13),r.YNc(16,Ty,2,1,"div",14),r.YNc(17,Ry,5,2,"div",15),r.qZA()),2&t&&(r.xp6(2),r.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),r.xp6(2),r.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),r.xp6(2),r.Q6J("ngIf",i._hasOutline()),r.xp6(1),r.Q6J("ngIf",i._hasIconPrefix),r.xp6(1),r.Q6J("ngIf",i._hasTextPrefix),r.xp6(2),r.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),r.xp6(2),r.Q6J("ngIf",i._hasTextSuffix),r.xp6(1),r.Q6J("ngIf",i._hasIconSuffix),r.xp6(1),r.Q6J("ngIf",!i._hasOutline()),r.xp6(1),r.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),r.Q6J("ngSwitch",i._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},dependencies:[Nt.O5,Nt.tP,Nt.RF,Nt.n9,ly,od,ad,ud,cd],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Hy.transitionMessages]},changeDetection:0}),n})(),gs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Pe,Nt.ez,cy,Pe]}),n})(),vd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ec,Pe,ec,Pe]}),n})();const yd=or({passive:!0});let Yy=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Sn.E;const i=Wn(t),o=this._monitoredElements.get(i);if(o)return o.subject;const s=new re.x,u="cdk-text-field-autofilled",f=y=>{"cdk-text-field-autofill-start"!==y.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===y.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:y.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,yd),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",f,yd)}}),s}stopMonitoring(t){const i=Wn(t),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(qe),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),bd=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n}),n})(),Yi=(()=>{class n extends bd{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const Nn=new r.OlP("NgValueAccessor"),Ky={provide:Nn,useExisting:(0,r.Gpc)(()=>Ha),multi:!0};let Ha=(()=>{class n extends Yi{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&r.NdJ("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[r._Bn([Ky]),r.qOj]}),n})();const Zy={provide:Nn,useExisting:(0,r.Gpc)(()=>ao),multi:!0},Jy=new r.OlP("CompositionEventMode");let ao=(()=>{class n extends bd{constructor(t,i,o){super(t,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wy(){const n=(0,Nt.q)()?(0,Nt.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Jy,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&r.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[r._Bn([Zy]),r.qOj]}),n})();const Xy=!1;function bi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function xd(n){return null!=n&&"number"==typeof n.length}const Xe=new r.OlP("NgValidators"),xi=new r.OlP("NgAsyncValidators"),Qy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wi{static min(e){return wd(e)}static max(e){return Sd(e)}static required(e){return Cd(e)}static requiredTrue(e){return function Ed(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ad(n){return bi(n.value)||Qy.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Md(n){return e=>bi(e.value)||!xd(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Fd(n){return e=>xd(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Td(n){if(!n)return _s;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(bi(i.value))return null;const o=i.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Od(e)}static composeAsync(e){return Nd(e)}}function wd(n){return e=>{if(bi(e.value)||bi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Sd(n){return e=>{if(bi(e.value)||bi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Cd(n){return bi(n.value)?{required:!0}:null}function _s(n){return null}function kd(n){return null!=n}function Rd(n){const e=(0,r.QGY)(n)?(0,Ae.D)(n):n;if(Xy&&!(0,r.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new r.vHH(-1101,t)}return e}function Id(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Dd(n,e){return e.map(t=>t(n))}function Pd(n){return n.map(e=>function t0(n){return!n.validate}(e)?e:t=>e.validate(t))}function Od(n){if(!n)return null;const e=n.filter(kd);return 0==e.length?null:function(t){return Id(Dd(t,e))}}function Va(n){return null!=n?Od(Pd(n)):null}function Nd(n){if(!n)return null;const e=n.filter(kd);return 0==e.length?null:function(t){return ju(Dd(t,e).map(Rd)).pipe((0,Gt.U)(Id))}}function ja(n){return null!=n?Nd(Pd(n)):null}function Ld(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Bd(n){return n._rawValidators}function Ud(n){return n._rawAsyncValidators}function za(n){return n?Array.isArray(n)?n:[n]:[]}function vs(n,e){return Array.isArray(n)?n.includes(e):n===e}function Hd(n,e){const t=za(e);return za(n).forEach(o=>{vs(t,o)||t.push(o)}),t}function Vd(n,e){return za(e).filter(t=>!vs(n,t))}class jd{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Va(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ja(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class sn extends jd{get formDirective(){return null}get path(){return null}}class Qn extends jd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zd{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qa=(()=>{class n extends zd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Qn,2))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&r.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[r.qOj]}),n})(),Ga=(()=>{class n extends zd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(sn,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&r.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[r.qOj]}),n})();function qd(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Ka=!1,lo="VALID",bs="INVALID",xr="PENDING",co="DISABLED";function Za(n){return(xs(n)?n.validators:n)||null}function Wa(n,e){return(xs(e)?e.asyncValidators:n)||null}function xs(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Gd(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new r.vHH(1e3,Ka?function o0(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new r.vHH(1001,Ka?function s0(n,e){return`Cannot find form control ${qd(n,e)}`}(e,t):"")}function Yd(n,e,t){n._forEachChild((i,o)=>{if(void 0===t[o])throw new r.vHH(1002,Ka?function a0(n,e){return`Must supply a value for form control ${qd(n,e)}`}(e,o):"")})}class ws{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lo}get invalid(){return this.status===bs}get pending(){return this.status==xr}get disabled(){return this.status===co}get enabled(){return this.status!==co}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Hd(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Hd(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Vd(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Vd(e,this._rawAsyncValidators))}hasValidator(e){return vs(this._rawValidators,e)}hasAsyncValidator(e){return vs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=co,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lo,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lo||this.status===xr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?co:lo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xr,this._hasOwnPendingAsyncValidator=!0;const t=Rd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,o)=>i&&i._find(o),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?co:this.errors?bs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xr)?xr:this._anyControlsHaveStatus(bs)?bs:lo}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xs(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function l0(n){return Array.isArray(n)?Va(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function c0(n){return Array.isArray(n)?ja(n):n||null}(this._rawAsyncValidators)}}class uo extends ws{constructor(e,t,i){super(Za(t),Wa(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Yd(this,!0,e),Object.keys(e).forEach(i=>{Gd(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const o=this.controls[i];o&&o.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,o)=>{i.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,o)=>((i.enabled||this.disabled)&&(t[o]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((o,s)=>{i=t(i,o,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class $d extends uo{}const $i=new r.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ho}),ho="always";function Ss(n,e){return[...e.path,n]}function fo(n,e,t=ho){Ja(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function d0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Kd(n,e)})}(n,e),function f0(n,e){const t=(i,o)=>{e.valueAccessor.writeValue(i),o&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function h0(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Kd(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function u0(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Cs(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),As(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Es(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ja(n,e){const t=Bd(n);null!==e.validator?n.setValidators(Ld(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Ud(n);null!==e.asyncValidator?n.setAsyncValidators(Ld(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();Es(e._rawValidators,o),Es(e._rawAsyncValidators,o)}function As(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Bd(n);if(Array.isArray(o)&&o.length>0){const s=o.filter(u=>u!==e.validator);s.length!==o.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const o=Ud(n);if(Array.isArray(o)&&o.length>0){const s=o.filter(u=>u!==e.asyncValidator);s.length!==o.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Es(e._rawValidators,i),Es(e._rawAsyncValidators,i),t}function Kd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zd(n,e){Ja(n,e)}function Qa(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Wd(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function tl(n,e){if(!e)return null;let t,i,o;return Array.isArray(e),e.forEach(s=>{s.constructor===ao?t=s:function g0(n){return Object.getPrototypeOf(n.constructor)===Yi}(s)?i=s:o=s}),o||i||t||null}const v0={provide:sn,useExisting:(0,r.Gpc)(()=>mo)},po=(()=>Promise.resolve())();let mo=(()=>{class n extends sn{constructor(t,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new r.vpe,this.form=new uo({},Va(t),ja(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){po.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),fo(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){po.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){po.then(()=>{const i=this._findContainer(t.path),o=new uo({});Zd(o,t),i.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){po.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){po.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Wd(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Xe,10),r.Y36(xi,10),r.Y36($i,8))},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&r.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([v0]),r.qOj]}),n})();function Jd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Xd(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const go=class extends ws{constructor(e=null,t,i){super(Za(t),Wa(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xs(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Xd(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Xd(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},x0={provide:Qn,useExisting:(0,r.Gpc)(()=>el)},eh=(()=>Promise.resolve())();let el=(()=>{class n extends Qn{constructor(t,i,o,s,u,f){super(),this._changeDetectorRef=u,this.callSetDisabledState=f,this.control=new go,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=tl(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Qa(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){eh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,o=0!==i&&(0,r.D6c)(i);eh.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Ss(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(sn,9),r.Y36(Xe,10),r.Y36(xi,10),r.Y36(Nn,10),r.Y36(r.sBO,8),r.Y36($i,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([x0]),r.qOj,r.TTD]}),n})(),nl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const w0={provide:Nn,useExisting:(0,r.Gpc)(()=>il),multi:!0};let il=(()=>{class n extends Yi{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&r.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[r._Bn([w0]),r.qOj]}),n})(),nh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const rl=new r.OlP("NgModelWithFormControlWarning"),M0={provide:sn,useExisting:(0,r.Gpc)(()=>Ki)};let Ki=(()=>{class n extends sn{constructor(t,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(As(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return fo(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Cs(t.control||null,t,!1),function _0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Wd(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,o=this.form.get(t.path);i!==o&&(Cs(i||null,t),(n=>n instanceof go)(o)&&(fo(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Zd(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function p0(n,e){return As(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ja(this.form,this),this._oldForm&&As(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Xe,10),r.Y36(xi,10),r.Y36($i,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&r.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([M0]),r.qOj,r.TTD]}),n})();const k0={provide:Qn,useExisting:(0,r.Gpc)(()=>al)};let al=(()=>{class n extends Qn{set isDisabled(t){}constructor(t,i,o,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=tl(0,s)}ngOnChanges(t){this._added||this._setUpControl(),Qa(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ss(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(r.Y36(sn,13),r.Y36(Xe,10),r.Y36(xi,10),r.Y36(Nn,10),r.Y36(rl,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([k0]),r.qOj,r.TTD]}),n})();const R0={provide:Nn,useExisting:(0,r.Gpc)(()=>Ms),multi:!0};function ah(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ms=(()=>{class n extends Yi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=ah(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function I0(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&r.NdJ("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([R0]),r.qOj]}),n})(),lh=(()=>{class n{constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ah(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Ms,9))},n.\u0275dir=r.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const D0={provide:Nn,useExisting:(0,r.Gpc)(()=>ll),multi:!0};function ch(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ll=(()=>{class n extends Yi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const o=t.map(s=>this._getOptionId(s));i=(s,u)=>{s._setSelected(o.indexOf(u.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const u=s;for(let f=0;f<u.length;f++){const I=this._getOptionValue(u[f].value);o.push(I)}}else{const u=i.options;for(let f=0;f<u.length;f++){const y=u[f];if(y.selected){const I=this._getOptionValue(y.value);o.push(I)}}}this.value=o,t(o)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function P0(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&r.NdJ("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([D0]),r.qOj]}),n})(),uh=(()=>{class n{constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ch(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ch(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(ll,9))},n.\u0275dir=r.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function hh(n){return"number"==typeof n?n:parseFloat(n)}let Zi=(()=>{class n{constructor(){this._validator=_s}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_s,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,features:[r.TTD]}),n})();const O0={provide:Xe,useExisting:(0,r.Gpc)(()=>cl),multi:!0};let cl=(()=>{class n extends Zi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>hh(t),this.createValidator=t=>Sd(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&r.uIk("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[r._Bn([O0]),r.qOj]}),n})();const N0={provide:Xe,useExisting:(0,r.Gpc)(()=>ul),multi:!0};let ul=(()=>{class n extends Zi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>hh(t),this.createValidator=t=>wd(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&r.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[r._Bn([N0]),r.qOj]}),n})();const L0={provide:Xe,useExisting:(0,r.Gpc)(()=>_o),multi:!0};let _o=(()=>{class n extends Zi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=r.D6c,this.createValidator=t=>Cd}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&r.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[r._Bn([L0]),r.qOj]}),n})(),vh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[nh]}),n})();class yh extends ws{constructor(e,t,i){super(Za(t),Wa(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Yd(this,!1,e),e.forEach((i,o)=>{Gd(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,o)=>{i.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function bh(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let z0=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const o=this._reduceControls(t);let s={};return bh(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new uo(o,s)}record(t,i=null){const o=this._reduceControls(t);return new $d(o,i)}control(t,i,o){let s={};return this.useNonNullable?(bh(i)?s=i:(s.validators=i,s.asyncValidators=o),new go(t,{...s,nonNullable:!0})):new go(t,i,o)}array(t,i,o){const s=t.map(u=>this._createControl(u));return new yh(s,i,o)}_reduceControls(t){const i={};return Object.keys(t).forEach(o=>{i[o]=this._createControl(t[o])}),i}_createControl(t){return t instanceof go||t instanceof ws?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$i,useValue:t.callSetDisabledState??ho}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[vh]}),n})(),dl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rl,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:$i,useValue:t.callSetDisabledState??ho}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[vh]}),n})();const G0=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),Y0=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let $0=0;const K0=wp(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new re.x}});let xh=(()=>{class n extends K0{get disabled(){return this._disabled}set disabled(t){this._disabled=Zn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(wi.required)??!1}set required(t){this._required=Zn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Nl().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Zn(t)}constructor(t,i,o,s,u,f,y,I,it,mt){super(f,s,u,o),this._elementRef=t,this._platform=i,this._autofillMonitor=I,this._formField=mt,this._uid="mat-input-"+$0++,this.focused=!1,this.stateChanges=new re.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ct=>Nl().has(Ct)),this._iOSKeyupListener=Ct=>{const Ft=Ct.target;!Ft.value&&0===Ft.selectionStart&&0===Ft.selectionEnd&&(Ft.setSelectionRange(1,1),Ft.setSelectionRange(0,0))};const Mt=this._elementRef.nativeElement,At=Mt.nodeName.toLowerCase();this._inputValueAccessor=y||Mt,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&it.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===At,this._isTextarea="textarea"===At,this._isInFormField=!!mt,this._isNativeSelect&&(this.controlType=Mt.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Y0.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(qe),r.Y36(Qn,10),r.Y36(mo,8),r.Y36(Ki,8),r.Y36(Cp),r.Y36(G0,10),r.Y36(Yy),r.Y36(r.R0b),r.Y36(hd,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&r.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(r.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),r.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),r.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[r._Bn([{provide:dd,useExisting:n}]),r.qOj,r.TTD]}),n})(),wh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Pe,gs,gs,$y,Pe]}),n})();var Z0=T(1144);const W0=["addListener","removeListener"],J0=["addEventListener","removeEventListener"],X0=["on","off"];function Fs(n,e,t,i){if((0,Rn.m)(t)&&(i=t,t=void 0),i)return Fs(n,e,t).pipe(Ys(i));const[o,s]=function eb(n){return(0,Rn.m)(n.addEventListener)&&(0,Rn.m)(n.removeEventListener)}(n)?J0.map(u=>f=>n[u](e,f,t)):function Q0(n){return(0,Rn.m)(n.addListener)&&(0,Rn.m)(n.removeListener)}(n)?W0.map(Sh(n,e)):function tb(n){return(0,Rn.m)(n.on)&&(0,Rn.m)(n.off)}(n)?X0.map(Sh(n,e)):[];if(!o&&(0,Z0.z)(n))return(0,Je.z)(u=>Fs(u,e,t))((0,Bi.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new rn.y(u=>{const f=(...y)=>u.next(1<y.length?y:y[0]);return o(f),()=>s(f)})}function Sh(n,e){return t=>i=>n[t](e,i)}const vo={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=vo;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const o=e(s=>{t=void 0,n(s)});return new ui.w0(()=>t?.(o))},requestAnimationFrame(...n){const{delegate:e}=vo;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=vo;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},rb=new class ib extends Zs{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;e=e||i.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw o}}}(class nb extends $s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=vo.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==t&&(vo.cancelAnimationFrame(t),e._scheduled=void 0)}});let hl,ob=1;const Ts={};function Ch(n){return n in Ts&&(delete Ts[n],!0)}const sb={setImmediate(n){const e=ob++;return Ts[e]=!0,hl||(hl=Promise.resolve()),hl.then(()=>Ch(e)&&n()),e},clearImmediate(n){Ch(n)}},{setImmediate:ab,clearImmediate:lb}=sb,ks={setImmediate(...n){const{delegate:e}=ks;return(e?.setImmediate||ab)(...n)},clearImmediate(n){const{delegate:e}=ks;return(e?.clearImmediate||lb)(n)},delegate:void 0},db=new class ub extends Zs{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;e=e||i.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw o}}}(class cb extends $s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ks.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==t&&(ks.clearImmediate(t),e._scheduled=void 0)}});function fl(n,e=Ws){return function hb(n){return(0,He.e)((e,t)=>{let i=!1,o=null,s=null,u=!1;const f=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const I=o;o=null,t.next(I)}u&&t.complete()},y=()=>{s=null,u&&t.complete()};e.subscribe((0,Ie.x)(t,I=>{i=!0,o=I,s||(0,Bi.Xf)(n(I)).subscribe(s=(0,Ie.x)(t,f,y))},()=>{u=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>La(n,e))}const fb=["contentWrapper"],pb=["*"],mb=new r.OlP("VIRTUAL_SCROLL_STRATEGY");let Rs=(()=>{class n{constructor(t,i,o){this._ngZone=t,this._platform=i,this._scrolled=new re.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new rn.y(i=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(fl(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ut()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const o=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(wn(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let o=Wn(i),s=t.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Fs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.R0b),r.LFG(qe),r.LFG(Nt.K0,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eh=(()=>{class n{constructor(t,i,o,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=o,this.dir=s,this._destroyed=new re.x,this._elementScrolled=new rn.y(u=>this.ngZone.runOutsideAngular(()=>Fs(this.elementRef.nativeElement,"scroll").pipe(ci(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=o?t.end:t.start),null==t.right&&(t.right=o?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),o&&0!=Ir()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Ir()?t.left=t.right:1==Ir()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;Ll()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",o="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?o:i:"end"==t&&(t=u?i:o),u&&2==Ir()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:u&&1==Ir()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(Rs),r.Y36(r.R0b),r.Y36(Nr,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),pl=(()=>{class n{constructor(t,i,o){this._platform=t,this._change=new re.x,this._changeListener=s=>{this._change.next(s)},this._document=o,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),o=t.documentElement,s=o.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||o.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(fl(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(qe),r.LFG(r.R0b),r.LFG(Nt.K0,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ah=new r.OlP("VIRTUAL_SCROLLABLE");let vb=(()=>{class n extends Eh{constructor(t,i,o,s){super(t,i,o,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(Rs),r.Y36(r.R0b),r.Y36(Nr,8))},n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const bb=typeof requestAnimationFrame<"u"?rb:db;let xb=(()=>{class n extends vb{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Zn(t)}constructor(t,i,o,s,u,f,y,I){super(t,f,o,u),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=I,this._platform=(0,r.f3M)(qe),this._detachedSubject=new re.x,this._renderedRangeSubject=new re.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new rn.y(it=>this._scrollStrategy.scrolledIndexChange.subscribe(mt=>Promise.resolve().then(()=>this.ngZone.run(()=>it.next(mt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ui.w0.EMPTY,this._viewportChanges=y.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Or(null),fl(0,bb)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(ci(this._detachedSubject)).subscribe(i=>{const o=i.length;o!==this._dataLength&&(this._dataLength=o,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function yb(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,u=s?"X":"Y";let y=`translate${u}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(y+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=y&&(this._renderedContentTransform=y,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const o={behavior:i};"horizontal"===this.orientation?o.start=t:o.top=t,this.scrollable.scrollTo(o)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?o=>super.measureScrollOffset(o):o=>this.scrollable.measureScrollOffset(o),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const o="left",s="right",u="rtl"==this.dir?.value;i="start"==t?u?s:o:"end"==t?u?o:s:t||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-f}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(mb,8),r.Y36(Nr,8),r.Y36(Rs),r.Y36(pl),r.Y36(Ah,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&r.Gf(fb,7),2&t){let o;r.iGM(o=r.CRH())&&(i._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&r.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[r._Bn([{provide:Eh,useFactory:(e,t)=>e||t,deps:[[new r.FiY,new r.tBr(Ah)],n]}]),r.qOj,r.jDz],ngContentSelectors:pb,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(r.F$t(),r.TgZ(0,"div",0,1),r.Hsn(2),r.qZA(),r._UZ(3,"div",2)),2&t&&(r.xp6(3),r.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),ml=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),Mh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Lr,ml,xb,Lr,ml]}),n})();class gl{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class wb extends gl{constructor(e,t,i,o,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=o,this.projectableNodes=s}}class Sb extends gl{constructor(e,t,i,o){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Cb extends gl{constructor(e){super(),this.element=e instanceof r.SBq?e.nativeElement:e}}class Eb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof wb?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Sb?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Cb?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ab extends Eb{constructor(e,t,i,o,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=u=>{const f=u.element,y=this._document.createComment("dom-portal");f.parentNode.insertBefore(y,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(f,y)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let o;return e.viewContainerRef?(o=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=i.create(e.injector||this._defaultInjector||r.zs3.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=e,o}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(i);-1!==o&&t.remove(o)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Mb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const Fh=Ll();class Fb{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=De(-this._previousScrollPosition.left),e.style.top=De(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,o=this._document.body.style,s=i.scrollBehavior||"",u=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Fh&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Fh&&(i.scrollBehavior=s,o.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Tb{constructor(e,t,i,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(wn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Th{enable(){}disable(){}attach(){}}function _l(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function kh(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class kb{constructor(e,t,i,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();_l(t,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Rb=(()=>{class n{constructor(t,i,o,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new Th,this.close=u=>new Tb(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Fb(this._viewportRuler,this._document),this.reposition=u=>new kb(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Rs),r.LFG(pl),r.LFG(r.R0b),r.LFG(Nt.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ib{constructor(e){if(this.scrollStrategy=new Th,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Db{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Rh=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Nt.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pb=(()=>{class n extends Rh{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=o=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const f=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Nt.K0),r.LFG(r.R0b,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ob=(()=>{class n extends Rh{constructor(t,i,o){super(t),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=li(s)},this._clickListener=s=>{const u=li(s),f="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let I=y.length-1;I>-1;I--){const it=y[I];if(it._outsidePointerEvents.observers.length<1||!it.hasAttached())continue;if(it.overlayElement.contains(u)||it.overlayElement.contains(f))break;const mt=it._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>mt.next(s)):mt.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Nt.K0),r.LFG(qe),r.LFG(r.R0b,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ih=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Gs()){const o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}const i=this._document.createElement("div");i.classList.add(t),Gs()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Nt.K0),r.LFG(qe))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Nb{constructor(e,t,i,o,s,u,f,y,I,it=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=o,this._ngZone=s,this._keyboardDispatcher=u,this._document=f,this._location=y,this._outsideClickDispatcher=I,this._animationsDisabled=it,this._backdropElement=null,this._backdropClick=new re.x,this._attachments=new re.x,this._detachments=new re.x,this._locationChanges=ui.w0.EMPTY,this._backdropClickHandler=mt=>this._backdropClick.next(mt),this._backdropTransitionendHandler=mt=>{this._disposeBackdrop(mt.target)},this._keydownEvents=new re.x,this._outsidePointerEvents=new re.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Dn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=De(this._config.width),e.height=De(this._config.height),e.minWidth=De(this._config.minWidth),e.minHeight=De(this._config.minHeight),e.maxWidth=De(this._config.maxWidth),e.maxHeight=De(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const o=Do(t||[]).filter(s=>!!s);o.length&&(i?e.classList.add(...o):e.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ci((0,ed.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Dh="cdk-overlay-connected-position-bounding-box",Lb=/([A-Za-z%]+)$/;class Bb{get positions(){return this._preferredPositions}constructor(e,t,i,o,s){this._viewportRuler=t,this._document=i,this._platform=o,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new re.x,this._resizeSubscription=ui.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Dh),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,o=this._containerRect,s=[];let u;for(let f of this._preferredPositions){let y=this._getOriginPoint(e,o,f),I=this._getOverlayPoint(y,t,f),it=this._getOverlayFit(I,t,i,f);if(it.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,y);this._canFitWithFlexibleDimensions(it,I,i)?s.push({position:f,origin:y,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(y,f)}):(!u||u.overlayFit.visibleArea<it.visibleArea)&&(u={overlayFit:it,overlayPoint:I,originPoint:y,position:f,overlayRect:t})}if(s.length){let f=null,y=-1;for(const I of s){const it=I.boundingBoxRect.width*I.boundingBoxRect.height*(I.position.weight||1);it>y&&(y=it,f=I)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Wi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Dh),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let o,s;if("center"==i.originX)o=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;o="start"==i.originX?u:f}return t.left<0&&(o-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:o,y:s}}_getOverlayPoint(e,t,i){let o,s;return o="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+o,y:e.y+s}}_getOverlayFit(e,t,i,o){const s=Oh(t);let{x:u,y:f}=e,y=this._getOffset(o,"x"),I=this._getOffset(o,"y");y&&(u+=y),I&&(f+=I);let Mt=0-f,At=f+s.height-i.height,Ct=this._subtractOverflows(s.width,0-u,u+s.width-i.width),Ft=this._subtractOverflows(s.height,Mt,At),zt=Ct*Ft;return{visibleArea:zt,isCompletelyWithinViewport:s.width*s.height===zt,fitsInViewportVertically:Ft===s.height,fitsInViewportHorizontally:Ct==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const o=i.bottom-t.y,s=i.right-t.x,u=Ph(this._overlayRef.getConfig().minHeight),f=Ph(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=o)&&(e.fitsInViewportHorizontally||null!=f&&f<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const o=Oh(t),s=this._viewportRect,u=Math.max(e.x+o.width-s.width,0),f=Math.max(e.y+o.height-s.height,0),y=Math.max(s.top-i.top-e.y,0),I=Math.max(s.left-i.left-e.x,0);let it=0,mt=0;return it=o.width<=s.width?I||-u:e.x<this._viewportMargin?s.left-i.left-e.x:0,mt=o.height<=s.height?y||-f:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:it,y:mt},{x:e.x+it,y:e.y+mt}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new Db(e,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,o=this._isRtl();let s,u,f,it,mt,Mt;if("top"===t.overlayY)u=e.y,s=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,s=i.height-f+this._viewportMargin;else{const At=Math.min(i.bottom-e.y+i.top,e.y),Ct=this._lastBoundingBoxSize.height;s=2*At,u=e.y-At,s>Ct&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-Ct/2)}if("end"===t.overlayX&&!o||"start"===t.overlayX&&o)Mt=i.width-e.x+this._viewportMargin,it=e.x-this._viewportMargin;else if("start"===t.overlayX&&!o||"end"===t.overlayX&&o)mt=e.x,it=i.right-e.x;else{const At=Math.min(i.right-e.x+i.left,e.x),Ct=this._lastBoundingBoxSize.width;it=2*At,mt=e.x-At,it>Ct&&!this._isInitialRender&&!this._growAfterOpen&&(mt=e.x-Ct/2)}return{top:u,left:mt,bottom:f,right:Mt,width:it,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;o.height=De(i.height),o.top=De(i.top),o.bottom=De(i.bottom),o.width=De(i.width),o.left=De(i.left),o.right=De(i.right),o.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",o.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(o.maxHeight=De(s)),u&&(o.maxWidth=De(u))}this._lastBoundingBoxSize=i,Wi(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Wi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Wi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},o=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(o){const it=this._viewportRuler.getViewportScrollPosition();Wi(i,this._getExactOverlayY(t,e,it)),Wi(i,this._getExactOverlayX(t,e,it))}else i.position="static";let f="",y=this._getOffset(t,"x"),I=this._getOffset(t,"y");y&&(f+=`translateX(${y}px) `),I&&(f+=`translateY(${I}px)`),i.transform=f.trim(),u.maxHeight&&(o?i.maxHeight=De(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(o?i.maxWidth=De(u.maxWidth):s&&(i.maxWidth="")),Wi(this._pane.style,i)}_getExactOverlayY(e,t,i){let o={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?o.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":o.top=De(s.y),o}_getExactOverlayX(e,t,i){let u,o={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?o.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":o.left=De(s.x),o}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kh(e,i),isOriginOutsideView:_l(e,i),isOverlayClipped:kh(t,i),isOverlayOutsideView:_l(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,o)=>i-Math.max(o,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Do(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof r.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Wi(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ph(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Lb);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Oh(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Nh="cdk-global-overlay-wrapper";class Ub{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Nh),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:s,maxWidth:u,maxHeight:f}=i,y=!("100%"!==o&&"100vw"!==o||u&&"100%"!==u&&"100vw"!==u),I=!("100%"!==s&&"100vh"!==s||f&&"100%"!==f&&"100vh"!==f),it=this._xPosition,mt=this._xOffset,Mt="rtl"===this._overlayRef.getConfig().direction;let At="",Ct="",Ft="";y?Ft="flex-start":"center"===it?(Ft="center",Mt?Ct=mt:At=mt):Mt?"left"===it||"end"===it?(Ft="flex-end",At=mt):("right"===it||"start"===it)&&(Ft="flex-start",Ct=mt):"left"===it||"start"===it?(Ft="flex-start",At=mt):("right"===it||"end"===it)&&(Ft="flex-end",Ct=mt),e.position=this._cssPosition,e.marginLeft=y?"0":At,e.marginTop=I?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=y?"0":Ct,t.justifyContent=Ft,t.alignItems=I?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Nh),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Hb=(()=>{class n{constructor(t,i,o,s){this._viewportRuler=t,this._document=i,this._platform=o,this._overlayContainer=s}global(){return new Ub}flexibleConnectedTo(t){return new Bb(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(pl),r.LFG(Nt.K0),r.LFG(qe),r.LFG(Ih))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vb=0,vl=(()=>{class n{constructor(t,i,o,s,u,f,y,I,it,mt,Mt,At){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=f,this._ngZone=y,this._document=I,this._directionality=it,this._location=mt,this._outsideClickDispatcher=Mt,this._animationsModuleType=At}create(t){const i=this._createHostElement(),o=this._createPaneElement(i),s=this._createPortalOutlet(o),u=new Ib(t);return u.direction=u.direction||this._directionality.value,new Nb(s,i,o,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Vb++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new Ab(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Rb),r.LFG(Ih),r.LFG(r._Vd),r.LFG(Hb),r.LFG(Pb),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(Nt.K0),r.LFG(Nr),r.LFG(Nt.Ye),r.LFG(Ob),r.LFG(r.QbO,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qb={provide:new r.OlP("cdk-connected-overlay-scroll-strategy"),deps:[vl],useFactory:function zb(n){return()=>n.scrollStrategies.reposition()}};let Gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[vl,qb],imports:[Lr,Mb,Mh,Mh]}),n})();const Zb={provide:new r.OlP("mat-menu-scroll-strategy"),deps:[vl],useFactory:function Kb(n){return()=>n.scrollStrategies.reposition()}};let Bh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Zb],imports:[Nt.ez,ac,Pe,Gb,ml,Pe]}),n})(),Ji=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Hu,ta,Vu,Ku,vd,gs,wh,Bh,Hu,ta,Vu,Ku,vd,gs,wh,Bh]}),n})(),yl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Nt.ez,Ji]}),n})();const Wb=[{path:"login",component:(()=>{class n{constructor(t){this._authService=t}login(){this._authService.login()}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(zi))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-login"]],decls:13,vars:0,consts:[[1,"small-info-page"],["appearance","outlined"],["src","assets/images/open-identity.png",1,"openid-logo"],[1,"login-info"],["routerLink","/register"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-title"),r._UZ(3,"img",2),r.qZA(),r.TgZ(4,"mat-card-content")(5,"div",3),r._uU(6," This step redirects to the IdentityServer instance to perform the authentication step. Before you can login here, you must "),r.TgZ(7,"a",4),r._uU(8,"register a new account"),r.qZA(),r._uU(9,". "),r.qZA(),r.TgZ(10,"div")(11,"button",5),r.NdJ("click",function(){return i.login()}),r._uU(12,"Login with IdentityServer"),r.qZA()()()()())},dependencies:[_i,Ba,di,Uo,Bo],styles:[".openid-logo[_ngcontent-%COMP%]{width:200px}.login-info[_ngcontent-%COMP%]{padding-bottom:12px}"]}),n})()}];let Jb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ln.forChild(Wb),ln]}),n})(),Xb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Nt.ez,Jb,dl,Ji,yl]}),n})();const Qb=function(){return["/"]},tx=[{path:"logout",component:(()=>{class n{constructor(t,i){this._authService=t,this._router=i}ngOnInit(){this._authService.isAuthenticated()&&this._router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(zi),r.Y36(Ve))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-logout"]],decls:12,vars:2,consts:[[1,"small-info-page"],["appearance","outlined"],[3,"routerLink"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-title"),r._uU(3,"Logout"),r.qZA(),r.TgZ(4,"mat-card-content")(5,"p"),r._uU(6,"You are now logged out."),r.qZA(),r.TgZ(7,"p"),r._uU(8," Click "),r.TgZ(9,"a",2),r._uU(10,"here"),r.qZA(),r._uU(11," to return to the home page. "),r.qZA()()()()),2&t&&(r.xp6(9),r.Q6J("routerLink",r.DdM(1,Qb)))},dependencies:[_i,di,Uo,Bo]}),n})()}];let ex=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ln.forChild(tx),ln]}),n})(),nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Nt.ez,ex,dl,Ji,yl]}),n})();class Is{}function ax(n,e){if(1&n&&(r.ynx(0),r._uU(1),r.BQk()),2&n){const t=e.ngIf;r.xp6(1),r.hij(" ",t,"\n")}}function lx(n,e){1&n&&r.Hsn(0,0,["*ngIf","!getValidationError()"])}Is.strength=wi.compose([n=>n.value&&!1===/[A-Z]+/g.test(n.value)?{upperCaseCharacters:{valid:!1}}:null,n=>n.value&&!1===/[a-z]+/g.test(n.value)?{lowerCaseCharacters:{valid:!1}}:null,n=>n.value&&!1===/[0-9]+/g.test(n.value)?{numberCharacters:{valid:!1}}:null,n=>n.value&&!1===/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+/.test(n.value)?{specialCharacters:{valid:!1}}:null,wi.minLength(8)]),Is.confirmed=(n,e)=>t=>{const i=t.get(n),o=t.get(e);return null===i||null===o||o?.errors&&!o.errors.confirmedValidator?null:i.value!==o.value?(o.setErrors({confirmedValidator:!0}),{confirmedValidator:!0}):(o.setErrors(null),null)};const cx=["*"];let ux=(()=>{class n{constructor(t){this._formGroup=t,this._validatorErrors={}}getValidationError(){return this.control?(this._validatorErrors={required:"Field is required.",minlength:`Field has to have at least ${this.control.getError("minlength")?.requiredLength} characters.`,email:"E-mail format is incorrect."},this._validatorErrors[Object.keys(this.control.errors||{})[0]]):""}ngOnInit(){if(!this.control&&!this.controlName)throw new Error("Validation Feedback must have [control] or [controlName] inputs");this.controlName&&this._formGroup&&(this.control=this._formGroup.form.get(this.controlName))}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Ki,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-validation-feedback"]],inputs:{control:"control",controlName:"controlName"},ngContentSelectors:cx,decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,i){1&t&&(r.F$t(),r.YNc(0,ax,2,1,"ng-container",0),r.YNc(1,lx,1,0,"ng-content",0)),2&t&&(r.Q6J("ngIf",i.getValidationError()),r.xp6(1),r.Q6J("ngIf",!i.getValidationError()))},dependencies:[Nt.O5],encapsulation:2}),n})(),dx=(()=>{class n{onMouseOver(){this.appPasswordSwitchType.type="password"}onMouseLeave(){this.appPasswordSwitchType.type="password"}onMouseDown(){this.appPasswordSwitchType.type="text"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","appPasswordSwitchType",""]],hostBindings:function(t,i){1&t&&r.NdJ("mouseup",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseLeave()})("mousedown",function(){return i.onMouseDown()})},inputs:{appPasswordSwitchType:"appPasswordSwitchType"}}),n})();function hx(n,e){if(1&n&&(r.ynx(0),r._uU(1),r.BQk()),2&n){const t=e.ngIf;r.xp6(1),r.hij(" ",t,"\n")}}let fx=(()=>{class n{constructor(t){this._formGroup=t,this.controlName=""}getValidationError(){return this._control?.hasError("required")?"Field is required.":this._control?.hasError("upperCaseCharacters")?"Password must contains an uppercase character.":this._control?.hasError("lowerCaseCharacters")?"Password must contains a lowercase character.":this._control?.hasError("numberCharacters")?"Password must contains a number.":this._control?.hasError("specialCharacters")?"Password must contains a special character.":this._control?.hasError("minlength")?`Password must contains at least ${this._control?.getError("minlength").requiredLength} characters.`:this._control?.hasError("confirmedValidator")?"This doesn't match the password you've provided.":""}ngOnInit(){this._control=this._formGroup.form.get(this.controlName)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Ki))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-password-validator-feedback"]],inputs:{controlName:"controlName"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,i){1&t&&r.YNc(0,hx,2,1,"ng-container",0),2&t&&r.Q6J("ngIf",i.getValidationError())},dependencies:[Nt.O5],encapsulation:2}),n})();const px=[{path:"register",component:(()=>{class n{constructor(t,i,o,s){this._fb=t,this._authService=i,this._toastr=o,this._router=s,this.registerForm=this._fb.group({email:this._fb.control("",[wi.required,wi.email]),phoneNumber:this._fb.control("",[wi.required,wi.minLength(6)]),password:this._fb.control("",Is.strength),confirmPassword:this._fb.control("",wi.required)},{validators:Is.confirmed("password","confirmPassword")})}register(){this.registerForm.valid&&this._authService.register({email:this.registerForm.value.email,phoneNumber:`+48${this.registerForm.value.phoneNumber}`,password:this.registerForm.value.password,redirectUrl:`${AppConfig.ClientUrl}/login`}).subscribe({next:t=>{this._toastr.success("A verification link has been sent to your email account","Thank you for registering"),this._router.navigate(["login"])},error:t=>{this._toastr.error(t.error[0].description)}})}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(z0),r.Y36(zi),r.Y36(br),r.Y36(Ve))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-register"]],decls:31,vars:6,consts:[[1,"small-info-page"],["appearance","outlined"],[3,"formGroup","ngSubmit"],[1,"full-width-input"],["matInput","","placeholder","Email","formControlName","email","required",""],["controlName","email"],["matInput","","placeholder","Phone Number","formControlName","phoneNumber","required",""],["controlName","phoneNumber"],["matInput","","type","password","placeholder","Password","formControlName","password","required",""],["password",""],["matSuffix","",3,"appPasswordSwitchType"],["controlName","password"],["matInput","","type","password","placeholder","Confirm Password","formControlName","confirmPassword","required",""],["confirmPassword",""],["controlName","confirmPassword"],[1,"margin-top-25"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(t,i){if(1&t&&(r.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-title"),r._uU(3,"Register your account"),r.qZA(),r.TgZ(4,"mat-card-content")(5,"form",2),r.NdJ("ngSubmit",function(){return i.register()}),r.TgZ(6,"mat-form-field",3),r._UZ(7,"input",4),r.TgZ(8,"mat-error"),r._UZ(9,"app-validation-feedback",5),r.qZA()(),r.TgZ(10,"mat-form-field",3),r._UZ(11,"input",6),r.TgZ(12,"mat-error"),r._UZ(13,"app-validation-feedback",7),r.qZA()(),r.TgZ(14,"mat-form-field",3),r._UZ(15,"input",8,9),r.TgZ(17,"mat-icon",10),r._uU(18),r.qZA(),r.TgZ(19,"mat-error"),r._UZ(20,"app-password-validator-feedback",11),r.qZA()(),r.TgZ(21,"mat-form-field",3),r._UZ(22,"input",12,13),r.TgZ(24,"mat-icon",10),r._uU(25),r.qZA(),r.TgZ(26,"mat-error"),r._UZ(27,"app-password-validator-feedback",14),r.qZA()(),r.TgZ(28,"div",15)(29,"button",16),r._uU(30,"Register"),r.qZA()()()()()()),2&t){const o=r.MAs(16),s=r.MAs(23);r.xp6(5),r.Q6J("formGroup",i.registerForm),r.xp6(12),r.Q6J("appPasswordSwitchType",o),r.xp6(1),r.Oqu("password"===o.type?"visibility":"visibility_off"),r.xp6(6),r.Q6J("appPasswordSwitchType",s),r.xp6(1),r.hij("","password"===s.type?"visibility":"visibility_off"," "),r.xp6(4),r.Q6J("disabled",!i.registerForm.valid)}},dependencies:[nl,ao,qa,Ga,_o,Ki,al,Ba,di,Uo,Bo,Ua,gd,Oy,By,xh,ux,dx,fx],encapsulation:2}),n})()}];let mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ln.forChild(px),ln]}),n})(),gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Nt.ez,mx,dl,Ji,yl]}),n})();T(3920);var Uh=T(6876);let vx=(()=>{class n{constructor(t){this._http=t}get(t,i){const o=this.buildUrl(t,i?.segmentParams,i?.queryParams);return this._http.get(o)}getBlob(t,i){const o=this.buildUrl(t,i?.segmentParams,i?.queryParams);return this._http.get(o,{responseType:"blob"})}post(t,i){const o=this.buildUrl(t,i?.segmentParams);return this._http.post(o,i?.data)}postBlob(t,i){const o=this.buildUrl(t,i?.segmentParams);return this._http.post(o,i?.data,{responseType:"blob"})}put(t,i){const o=this.buildUrl(t,i?.segmentParams);return this._http.put(o,i?.data)}patch(t,i){const o=this.buildUrl(t,i?.segmentParams);return this._http.patch(o,i?.data)}delete(t,i){const o=this.buildUrl(t,i?.segmentParams);return this._http.delete(o)}buildUrl(t,i,o){this.parseDateValues(i),this.parseDateValues(o),i&&(t=Uh.expand(t,i));let s=Uh(t);return o&&(s=s.query(o)),s.toString()}parseDateValues(t){if(t)for(const i in t)t[i]?.constructor===Date&&(t[i]=t[i].toISOString())}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(ro))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yx=(()=>{class n{constructor(t){this._apiClientService=t}getSampleData(){return this._apiClientService.get(`${AppConfig.ApiUrl}/values/samples`)}addSampleData(t){return this._apiClientService.post(`${AppConfig.ApiUrl}/values/samples`,{data:t})}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(vx))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bx(n,e){if(1&n&&(r.TgZ(0,"li"),r._uU(1),r.qZA()),2&n){const t=e.$implicit;r.xp6(1),r.hij(" Name: ",t.name," ")}}let xx=(()=>{class n{constructor(t){this._sampleService=t,this.title="Sample App"}addSample(t){this.samples=this._sampleService.addSampleData({name:t}).pipe(function _x(n,e){return(0,Rn.m)(e)?on(()=>n,e):on(()=>n)}(this._sampleService.getSampleData()))}ngOnInit(){this.samples=this._sampleService.getSampleData()}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(yx))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-sample"]],decls:13,vars:4,consts:[["appearance","outlined"],[1,"example-full-width"],["matInput","","placeholder","Sample value"],["sampleInput",""],["mat-raised-button","",2,"margin-left","20px",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,i){if(1&t){const o=r.EpF();r.TgZ(0,"mat-card",0)(1,"h1"),r._uU(2),r.qZA(),r.TgZ(3,"mat-form-field",1),r._UZ(4,"input",2,3),r.qZA(),r.TgZ(6,"button",4),r.NdJ("click",function(){r.CHM(o);const u=r.MAs(5);return r.KtG(i.addSample(u.value))}),r.TgZ(7,"mat-icon"),r._uU(8,"add"),r.qZA(),r._uU(9,"Add sample "),r.qZA(),r.TgZ(10,"ul"),r.YNc(11,bx,2,1,"li",5),r.ALo(12,"async"),r.qZA()()}2&t&&(r.xp6(2),r.hij(" Welcome to ",i.title,"! "),r.xp6(9),r.Q6J("ngForOf",r.lcZ(12,2,i.samples)))},dependencies:[Nt.sg,Ba,di,Ua,gd,xh,Nt.Ov],encapsulation:2}),n})(),Hh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-restaurants-main"]],decls:6,vars:0,consts:[[1,"button-container"],["onclick","window.location.href='./restaurantsform'",1,"button"],["onclick","window.location.href='./restaurantslist'",1,"button"]],template:function(t,i){1&t&&(r.TgZ(0,"body")(1,"div",0)(2,"button",1),r._uU(3,"Add restaurant"),r.qZA(),r.TgZ(4,"button",2),r._uU(5,"Show restaurants list"),r.qZA()()())},styles:[".button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#e85d04;color:#fff;font-size:large;border:none;border-radius:4px;cursor:pointer;margin-bottom:10px;min-width:300px}.button[_ngcontent-%COMP%]:hover{background-color:#dc2f02}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"]}),n})(),wx=(()=>{class n{constructor(){this.restaurantName="",this.location="",this.cuisineType="italian",this.delivery=!1}submitForm(){console.log("Restaurant Name:",this.restaurantName),console.log("Location:",this.location),console.log("Restaurant Stars:",this.stars),console.log("Average Price of Food:",this.averagePrice),console.log("Kitchen Type:",this.cuisineType),console.log("Delivery Option:",this.delivery),this.restaurantName="",this.location="",this.stars=null,this.averagePrice=null,this.cuisineType="italian",this.delivery=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-restaurants-form"]],decls:51,vars:6,consts:[[1,"form-window"],[1,"form-window","form-container"],[3,"ngSubmit"],["type","text","name","restaurantName","required","",3,"ngModel","ngModelChange"],["type","text","name","location","required","",3,"ngModel","ngModelChange"],["type","number","name","restaurantStars","min","1","max","10","required","",3,"ngModel","ngModelChange"],["type","number","name","averagePrice","step","0.01","required","",3,"ngModel","ngModelChange"],["name","kitchenType","required","",3,"ngModel","ngModelChange"],["value","italian food"],["value","american food"],["type","checkbox","name","deliveryOption",3,"ngModel","ngModelChange"],["type","submit",1,"button"],["type","submit","onclick","window.location.href='./restaurants'",1,"button","button1"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0)(1,"h2"),r._uU(2,"Restaurant Form"),r.qZA()(),r.TgZ(3,"div",1)(4,"form",2),r.NdJ("ngSubmit",function(){return i.submitForm()}),r.TgZ(5,"label"),r._uU(6," Restaurant Name: "),r.TgZ(7,"input",3),r.NdJ("ngModelChange",function(s){return i.restaurantName=s}),r.qZA()(),r._UZ(8,"br"),r.TgZ(9,"label"),r._uU(10," Location: "),r.TgZ(11,"input",4),r.NdJ("ngModelChange",function(s){return i.location=s}),r.qZA()(),r._UZ(12,"br"),r.TgZ(13,"label"),r._uU(14," Restaurant Stars: "),r.TgZ(15,"input",5),r.NdJ("ngModelChange",function(s){return i.stars=s}),r.qZA()(),r._UZ(16,"br"),r.TgZ(17,"label"),r._uU(18," Average Price of Food($): "),r.TgZ(19,"input",6),r.NdJ("ngModelChange",function(s){return i.averagePrice=s}),r.qZA()(),r._UZ(20,"br"),r.TgZ(21,"label"),r._uU(22," Cuisine Type: "),r.TgZ(23,"select",7),r.NdJ("ngModelChange",function(s){return i.cuisineType=s}),r.TgZ(24,"option",8),r._uU(25,"Mexican Cuisine"),r.qZA(),r.TgZ(26,"option",9),r._uU(27,"Indian Cuisine"),r.qZA(),r.TgZ(28,"option",9),r._uU(29,"Italian Cuisine"),r.qZA(),r.TgZ(30,"option",9),r._uU(31,"American Cuisine"),r.qZA(),r.TgZ(32,"option",9),r._uU(33,"Japanese Cuisine"),r.qZA(),r.TgZ(34,"option",9),r._uU(35,"Thai Cuisine"),r.qZA(),r.TgZ(36,"option",9),r._uU(37,"French Cuisine"),r.qZA(),r.TgZ(38,"option",9),r._uU(39,"Polish Cuisine"),r.qZA()()(),r._UZ(40,"br"),r.TgZ(41,"label"),r._uU(42," Delivery Option: "),r.TgZ(43,"input",10),r.NdJ("ngModelChange",function(s){return i.delivery=s}),r.qZA(),r._uU(44," Has Delivery Option "),r.qZA(),r._UZ(45,"br"),r.TgZ(46,"div")(47,"button",11),r._uU(48,"Submit"),r.qZA(),r.TgZ(49,"button",12),r._uU(50,"Go Back"),r.qZA()()()()),2&t&&(r.xp6(7),r.Q6J("ngModel",i.restaurantName),r.xp6(4),r.Q6J("ngModel",i.location),r.xp6(4),r.Q6J("ngModel",i.stars),r.xp6(4),r.Q6J("ngModel",i.averagePrice),r.xp6(4),r.Q6J("ngModel",i.cuisineType),r.xp6(20),r.Q6J("ngModel",i.delivery))},dependencies:[nl,lh,uh,ao,il,Ha,Ms,qa,Ga,_o,ul,cl,el,mo],styles:[".form-window[_ngcontent-%COMP%]{text-align:center}.form-window[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;color:#6a040f;text-transform:uppercase;letter-spacing:1px;margin-bottom:20px}.form-window.form-container[_ngcontent-%COMP%]{background-color:#ffba08;padding:20px;max-width:390px;margin:0 auto;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-window.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:18px;margin-bottom:12px;color:#333;text-align:center}.button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#f48c06;color:#fff;font-size:large;border:none;border-radius:4px;margin:10px;cursor:pointer;min-width:130px}.button[_ngcontent-%COMP%]:hover{background-color:#e85d04}.button.button1[_ngcontent-%COMP%]{background-color:#d00000}.button.button1[_ngcontent-%COMP%]:hover{background-color:#9d0208}"]}),n})(),Sx=(()=>{class n{constructor(){this.pageChanged=new r.vpe}get totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}changePage(t){this.pageChanged.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-paginator"]],inputs:{currentPage:"currentPage",itemsPerPage:"itemsPerPage",totalItems:"totalItems"},outputs:{pageChanged:"pageChanged"},decls:7,vars:4,consts:[[1,"paginator"],[1,"button",3,"disabled","click"],[1,"span"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0)(1,"button",1),r.NdJ("click",function(){return i.changePage(i.currentPage-1)}),r._uU(2,"Previous"),r.qZA(),r.TgZ(3,"span",2),r._uU(4),r.qZA(),r.TgZ(5,"button",1),r.NdJ("click",function(){return i.changePage(i.currentPage+1)}),r._uU(6,"Next"),r.qZA()()),2&t&&(r.xp6(1),r.Q6J("disabled",1===i.currentPage),r.xp6(3),r.AsE("",i.currentPage," / ",i.totalPages,""),r.xp6(1),r.Q6J("disabled",i.currentPage===i.totalPages))},styles:[".paginator[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px}.button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#faa307;color:#fff;font-size:medium;border:none;border-radius:4px;margin:10px;cursor:pointer;min-width:100px}.button[_ngcontent-%COMP%]:hover{background-color:#f48c06}.span[_ngcontent-%COMP%]{margin:20px}"]}),n})();function Cx(n,e){if(1&n&&(r.TgZ(0,"tr")(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA()()),2&n){const t=e.$implicit;r.xp6(2),r.Oqu(t.name),r.xp6(2),r.Oqu(t.location),r.xp6(2),r.Oqu(t.stars),r.xp6(2),r.Oqu(t.averagePrice),r.xp6(2),r.Oqu(t.cuisineType),r.xp6(2),r.Oqu(t.delivery?"Yes":"No")}}const Ex=[{path:"sample",component:xx},{path:"restaurants",component:Hh},{path:"restaurantsform",component:wx},{path:"restaurantslist",component:(()=>{class n{constructor(){this.restaurants=[],this.currentPage=1,this.itemsPerPage=5,this.totalItems=0}ngOnInit(){this.restaurants=[{name:"Restaurant 1",location:"Location 1",stars:4,averagePrice:25.5,cuisineType:"Italian",delivery:!0},{name:"Restaurant 2",location:"Location 2",stars:3,averagePrice:15,cuisineType:"Indian",delivery:!1},{name:"Restaurant 3",location:"Location 3",stars:5,averagePrice:35,cuisineType:"Mexican",delivery:!0}],this.totalItems=this.restaurants.length}addRestaurant(t){this.restaurants.push(t),this.totalItems++}onPageChange(t){this.currentPage=t}get displayedRestaurants(){const t=(this.currentPage-1)*this.itemsPerPage;return this.restaurants.slice(t,t+this.itemsPerPage)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-restaurants-list"]],decls:22,vars:4,consts:[[1,"restaurant-list"],[1,"title"],[4,"ngFor","ngForOf"],[3,"currentPage","itemsPerPage","totalItems","pageChanged"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h2"),r._uU(3,"Restaurant List"),r.qZA()(),r.TgZ(4,"table")(5,"thead")(6,"tr")(7,"th"),r._uU(8,"Name"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"Location"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"Stars"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Average Price($)"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Cuisine Type"),r.qZA(),r.TgZ(17,"th"),r._uU(18,"Delivery"),r.qZA()()(),r.TgZ(19,"tbody"),r.YNc(20,Cx,13,6,"tr",2),r.qZA()(),r.TgZ(21,"app-paginator",3),r.NdJ("pageChanged",function(s){return i.onPageChange(s)}),r.qZA()()),2&t&&(r.xp6(20),r.Q6J("ngForOf",i.displayedRestaurants),r.xp6(1),r.Q6J("currentPage",i.currentPage)("itemsPerPage",i.itemsPerPage)("totalItems",i.restaurants.length))},dependencies:[Nt.sg,Sx],styles:[".restaurant-list[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #ccc;border-radius:4px;padding:10px;margin-bottom:20px}.title[_ngcontent-%COMP%]{background-color:#370617;color:#fff;text-align:center;font-size:large;padding:10px;margin-bottom:10px;border-radius:4px}h2[_ngcontent-%COMP%]{margin:0}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ccc}th[_ngcontent-%COMP%]{background-color:#6a040f;color:#fff}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}"]}),n})()}];let Ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ln.forChild(Ex),ln]}),n})(),Mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n,bootstrap:[Hh]}),n.\u0275inj=r.cJS({imports:[Nt.ez,Ax,Ji,Xb,gx,nx,q0]}),n})();const Fx=[];let Tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ln.forChild(Fx),ln]}),n})(),kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Nt.ez,Tx,Ji,Mx]}),n})(),Rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n,bootstrap:[Dv]}),n.\u0275inj=r.cJS({imports:[et.b2,G_.forRoot(),Ji,Sf,sy,kx,ny,rv]}),n})()},5497:function(oe){oe.exports=function(Tt){var T={};function et(r){if(T[r])return T[r].exports;var C=T[r]={i:r,l:!1,exports:{}};return Tt[r].call(C.exports,C,C.exports,et),C.l=!0,C.exports}return et.m=Tt,et.c=T,et.d=function(r,C,z){et.o(r,C)||Object.defineProperty(r,C,{enumerable:!0,get:z})},et.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},et.t=function(r,C){if(1&C&&(r=et(r)),8&C||4&C&&"object"==typeof r&&r&&r.__esModule)return r;var z=Object.create(null);if(et.r(z),Object.defineProperty(z,"default",{enumerable:!0,value:r}),2&C&&"string"!=typeof r)for(var R in r)et.d(z,R,function(v){return r[v]}.bind(null,R));return z},et.n=function(r){var C=r&&r.__esModule?function(){return r.default}:function(){return r};return et.d(C,"a",C),C},et.o=function(r,C){return Object.prototype.hasOwnProperty.call(r,C)},et.p="",et(et.s=22)}([function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var r=function(){function v(_,g){for(var p=0;p<g.length;p++){var V=g[p];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(_,V.key,V)}}return function(_,g,p){return g&&v(_.prototype,g),p&&v(_,p),_}}(),C={debug:function(){},info:function(){},warn:function(){},error:function(){}},z=void 0,R=void 0;(T.Log=function(){function v(){!function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}(this,v)}return v.reset=function(){R=3,z=C},v.debug=function(){if(R>=4){for(var g=arguments.length,p=Array(g),V=0;V<g;V++)p[V]=arguments[V];z.debug.apply(z,Array.from(p))}},v.info=function(){if(R>=3){for(var g=arguments.length,p=Array(g),V=0;V<g;V++)p[V]=arguments[V];z.info.apply(z,Array.from(p))}},v.warn=function(){if(R>=2){for(var g=arguments.length,p=Array(g),V=0;V<g;V++)p[V]=arguments[V];z.warn.apply(z,Array.from(p))}},v.error=function(){if(R>=1){for(var g=arguments.length,p=Array(g),V=0;V<g;V++)p[V]=arguments[V];z.error.apply(z,Array.from(p))}},r(v,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return R},set:function(g){if(!(0<=g&&g<=4))throw new Error("Invalid log level");R=g}},{key:"logger",get:function(){return z},set:function(g){if(!g.debug&&g.info&&(g.debug=g.info),!(g.debug&&g.info&&g.warn&&g.error))throw new Error("Invalid logger");z=g}}]),v}()).reset()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var r=function(){function v(_,g){for(var p=0;p<g.length;p++){var V=g[p];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(_,V.key,V)}}return function(_,g,p){return g&&v(_.prototype,g),p&&v(_,p),_}}(),C={setInterval:function(v){function _(g,p){return v.apply(this,arguments)}return _.toString=function(){return v.toString()},_}(function(v,_){return setInterval(v,_)}),clearInterval:function(v){function _(g){return v.apply(this,arguments)}return _.toString=function(){return v.toString()},_}(function(v){return clearInterval(v)})},z=!1,R=null;T.Global=function(){function v(){!function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}(this,v)}return v._testing=function(){z=!0},v.setXMLHttpRequest=function(g){R=g},r(v,null,[{key:"location",get:function(){if(!z)return location}},{key:"localStorage",get:function(){if(!z&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!z&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!z&&typeof window<"u")return R||XMLHttpRequest}},{key:"timer",get:function(){if(!z)return C}}]),v}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.MetadataService=void 0;var r=function(){function _(g,p){for(var V=0;V<p.length;V++){var E=p[V];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}return function(g,p,V){return p&&_(g.prototype,p),V&&_(g,V),g}}(),C=et(0),z=et(7);var v=".well-known/openid-configuration";T.MetadataService=function(){function _(g){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.JsonService;if(function R(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}(this,_),!g)throw C.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=g,this._jsonService=new p(["application/jwk-set+json"])}return _.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},_.prototype.getMetadata=function(){var p=this;return this._settings.metadata?(C.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(C.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(V){return C.Log.debug("MetadataService.getMetadata: json received"),p._settings.metadata=Object.assign({},p._settings.metadataSeed||{},V),p._settings.metadata})):(C.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},_.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},_.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},_.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},_.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},_.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},_.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},_.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},_.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},_.prototype._getMetadataProperty=function(p){var V=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C.Log.debug("MetadataService.getMetadataProperty for: "+p),this.getMetadata().then(function(E){if(C.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===E[p]){if(!0===V)return void C.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+p);throw C.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+p),new Error("Metadata does not contain property "+p)}return E[p]})},_.prototype.getSigningKeys=function(){var p=this;return this._settings.signingKeys?(C.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(V){return C.Log.debug("MetadataService.getSigningKeys: jwks_uri received",V),p._jsonService.getJson(V).then(function(E){if(C.Log.debug("MetadataService.getSigningKeys: key set received",E),!E.keys)throw C.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return p._settings.signingKeys=E.keys,p._settings.signingKeys})})},r(_,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(v)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=v))),this._metadataUrl}}]),_}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.UrlUtility=void 0;var r=et(0),C=et(1);T.UrlUtility=function(){function z(){!function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}(this,z)}return z.addQueryParam=function(v,_,g){return v.indexOf("?")<0&&(v+="?"),"?"!==v[v.length-1]&&(v+="&"),v+=encodeURIComponent(_),(v+="=")+encodeURIComponent(g)},z.parseUrlFragment=function(v){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof v&&(v=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.Global).location.href);var p=v.lastIndexOf(_);p>=0&&(v=v.substr(p+1)),"?"===_&&(p=v.indexOf("#"))>=0&&(v=v.substr(0,p));for(var V,E={},U=/([^&=]+)=([^&]*)/g,B=0;V=U.exec(v);)if(E[decodeURIComponent(V[1])]=decodeURIComponent(V[2].replace(/\+/g," ")),B++>50)return r.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",v),{error:"Response exceeded expected number of parameters"};for(var O in E)return E;return{}},z}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.JoseUtil=void 0;var R,r=et(26),C=(R=et(33))&&R.__esModule?R:{default:R};T.JoseUtil=(0,C.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.OidcClientSettings=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},C=function(){function O(D,K){for(var lt=0;lt<K.length;lt++){var J=K[lt];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(D,J.key,J)}}return function(D,K,lt){return K&&O(D.prototype,K),lt&&O(D,lt),D}}(),z=et(0),R=et(23),v=et(6),_=et(24),g=et(2);var V=".well-known/openid-configuration",E="id_token",U="openid",B="client_secret_post";T.OidcClientSettings=function(){function O(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},K=D.authority,lt=D.metadataUrl,J=D.metadata,P=D.signingKeys,k=D.metadataSeed,st=D.client_id,ct=D.client_secret,wt=D.response_type,q=void 0===wt?E:wt,Et=D.scope,Lt=void 0===Et?U:Et,Wt=D.redirect_uri,he=D.post_logout_redirect_uri,ae=D.client_authentication,It=void 0===ae?B:ae,ce=D.prompt,m=D.display,S=D.max_age,G=D.ui_locales,ut=D.acr_values,dt=D.resource,gt=D.response_mode,bt=D.filterProtocolClaims,Dt=void 0===bt||bt,Bt=D.loadUserInfo,Kt=void 0===Bt||Bt,te=D.staleStateAge,ee=void 0===te?900:te,X=D.clockSkew,x=void 0===X?300:X,w=D.clockService,Q=void 0===w?new R.ClockService:w,ot=D.userInfoJwtIssuer,ht=void 0===ot?"OP":ot,xt=D.mergeClaims,Rt=void 0!==xt&&xt,Yt=D.stateStore,le=void 0===Yt?new v.WebStorageStateStore:Yt,ne=D.ResponseValidatorCtor,ye=void 0===ne?_.ResponseValidator:ne,Be=D.MetadataServiceCtor,Ye=void 0===Be?g.MetadataService:Be,fn=D.extraQueryParams,jt=void 0===fn?{}:fn,_e=D.extraTokenParams,ie=void 0===_e?{}:_e;(function p(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")})(this,O),this._authority=K,this._metadataUrl=lt,this._metadata=J,this._metadataSeed=k,this._signingKeys=P,this._client_id=st,this._client_secret=ct,this._response_type=q,this._scope=Lt,this._redirect_uri=Wt,this._post_logout_redirect_uri=he,this._client_authentication=It,this._prompt=ce,this._display=m,this._max_age=S,this._ui_locales=G,this._acr_values=ut,this._resource=dt,this._response_mode=gt,this._filterProtocolClaims=!!Dt,this._loadUserInfo=!!Kt,this._staleStateAge=ee,this._clockSkew=x,this._clockService=Q,this._userInfoJwtIssuer=ht,this._mergeClaims=!!Rt,this._stateStore=le,this._validator=new ye(this),this._metadataService=new Ye(this),this._extraQueryParams="object"===(void 0===jt?"undefined":r(jt))?jt:{},this._extraTokenParams="object"===(void 0===ie?"undefined":r(ie))?ie:{}}return O.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},C(O,[{key:"client_id",get:function(){return this._client_id},set:function(K){if(this._client_id)throw z.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=K}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(K){if(this._authority)throw z.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=K}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(V)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=V)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(K){this._metadata=K}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(K){this._metadataSeed=K}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(K){this._signingKeys=K}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(K){this._extraQueryParams="object"===(void 0===K?"undefined":r(K))?K:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(K){this._extraTokenParams="object"===(void 0===K?"undefined":r(K))?K:{}}}]),O}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.WebStorageStateStore=void 0;var r=et(0),C=et(1);T.WebStorageStateStore=function(){function R(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=v.prefix,g=void 0===_?"oidc.":_,p=v.store,V=void 0===p?C.Global.localStorage:p;(function z(R,v){if(!(R instanceof v))throw new TypeError("Cannot call a class as a function")})(this,R),this._store=V,this._prefix=g}return R.prototype.set=function(_,g){return r.Log.debug("WebStorageStateStore.set",_),this._store.setItem(_=this._prefix+_,g),Promise.resolve()},R.prototype.get=function(_){r.Log.debug("WebStorageStateStore.get",_);var g=this._store.getItem(_=this._prefix+_);return Promise.resolve(g)},R.prototype.remove=function(_){r.Log.debug("WebStorageStateStore.remove",_);var g=this._store.getItem(_=this._prefix+_);return this._store.removeItem(_),Promise.resolve(g)},R.prototype.getAllKeys=function(){r.Log.debug("WebStorageStateStore.getAllKeys");for(var _=[],g=0;g<this._store.length;g++){var p=this._store.key(g);0===p.indexOf(this._prefix)&&_.push(p.substr(this._prefix.length))}return Promise.resolve(_)},R}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.JsonService=void 0;var r=et(0),C=et(1);T.JsonService=function(){function R(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Global.XMLHttpRequest,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function z(R,v){if(!(R instanceof v))throw new TypeError("Cannot call a class as a function")})(this,R),this._contentTypes=v&&Array.isArray(v)?v.slice():[],this._contentTypes.push("application/json"),g&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=_,this._jwtHandler=g}return R.prototype.getJson=function(_,g){var p=this;if(!_)throw r.Log.error("JsonService.getJson: No url passed"),new Error("url");return r.Log.debug("JsonService.getJson, url: ",_),new Promise(function(V,E){var U=new p._XMLHttpRequest;U.open("GET",_);var B=p._contentTypes,O=p._jwtHandler;U.onload=function(){if(r.Log.debug("JsonService.getJson: HTTP response received, status",U.status),200===U.status){var D=U.getResponseHeader("Content-Type");if(D){var K=B.find(function(lt){if(D.startsWith(lt))return!0});if("application/jwt"==K)return void O(U).then(V,E);if(K)try{return void V(JSON.parse(U.responseText))}catch(lt){return r.Log.error("JsonService.getJson: Error parsing JSON response",lt.message),void E(lt)}}E(Error("Invalid response Content-Type: "+D+", from URL: "+_))}else E(Error(U.statusText+" ("+U.status+")"))},U.onerror=function(){r.Log.error("JsonService.getJson: network error"),E(Error("Network Error"))},g&&(r.Log.debug("JsonService.getJson: token passed, setting Authorization header"),U.setRequestHeader("Authorization","Bearer "+g)),U.send()})},R.prototype.postForm=function(_,g,p){var V=this;if(!_)throw r.Log.error("JsonService.postForm: No url passed"),new Error("url");return r.Log.debug("JsonService.postForm, url: ",_),new Promise(function(E,U){var B=new V._XMLHttpRequest;B.open("POST",_);var O=V._contentTypes;B.onload=function(){if(r.Log.debug("JsonService.postForm: HTTP response received, status",B.status),200!==B.status){if(400===B.status&&(P=B.getResponseHeader("Content-Type"))&&O.find(function(k){if(P.startsWith(k))return!0}))try{var J=JSON.parse(B.responseText);if(J&&J.error)return r.Log.error("JsonService.postForm: Error from server: ",J.error),void U(new Error(J.error))}catch(k){return r.Log.error("JsonService.postForm: Error parsing JSON response",k.message),void U(k)}U(Error(B.statusText+" ("+B.status+")"))}else{var P;if((P=B.getResponseHeader("Content-Type"))&&O.find(function(k){if(P.startsWith(k))return!0}))try{return void E(JSON.parse(B.responseText))}catch(k){return r.Log.error("JsonService.postForm: Error parsing JSON response",k.message),void U(k)}U(Error("Invalid response Content-Type: "+P+", from URL: "+_))}},B.onerror=function(){r.Log.error("JsonService.postForm: network error"),U(Error("Network Error"))};var D="";for(var K in g){var lt=g[K];lt&&(D.length>0&&(D+="&"),D+=encodeURIComponent(K),D+="=",D+=encodeURIComponent(lt))}B.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==p&&B.setRequestHeader("Authorization","Basic "+btoa(p)),B.send(D)})},R}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SigninRequest=void 0;var r=et(0),C=et(3),z=et(13);T.SigninRequest=function(){function R(v){var _=v.url,g=v.client_id,p=v.redirect_uri,V=v.response_type,E=v.scope,U=v.authority,B=v.data,O=v.prompt,D=v.display,K=v.max_age,lt=v.ui_locales,J=v.id_token_hint,P=v.login_hint,k=v.acr_values,st=v.resource,ct=v.response_mode,wt=v.request,q=v.request_uri,Et=v.extraQueryParams,Lt=v.request_type,Wt=v.client_secret,he=v.extraTokenParams,ae=v.skipUserInfo;if(function(dt,gt){if(!(dt instanceof gt))throw new TypeError("Cannot call a class as a function")}(this,R),!_)throw r.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!g)throw r.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!p)throw r.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!V)throw r.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!E)throw r.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!U)throw r.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var It=R.isOidc(V),ce=R.isCode(V);ct||(ct=R.isCode(V)?"query":null),this.state=new z.SigninState({nonce:It,data:B,client_id:g,authority:U,redirect_uri:p,code_verifier:ce,request_type:Lt,response_mode:ct,client_secret:Wt,scope:E,extraTokenParams:he,skipUserInfo:ae}),_=C.UrlUtility.addQueryParam(_,"client_id",g),_=C.UrlUtility.addQueryParam(_,"redirect_uri",p),_=C.UrlUtility.addQueryParam(_,"response_type",V),_=C.UrlUtility.addQueryParam(_,"scope",E),_=C.UrlUtility.addQueryParam(_,"state",this.state.id),It&&(_=C.UrlUtility.addQueryParam(_,"nonce",this.state.nonce)),ce&&(_=C.UrlUtility.addQueryParam(_,"code_challenge",this.state.code_challenge),_=C.UrlUtility.addQueryParam(_,"code_challenge_method","S256"));var m={prompt:O,display:D,max_age:K,ui_locales:lt,id_token_hint:J,login_hint:P,acr_values:k,resource:st,request:wt,request_uri:q,response_mode:ct};for(var S in m)m[S]&&(_=C.UrlUtility.addQueryParam(_,S,m[S]));for(var G in Et)_=C.UrlUtility.addQueryParam(_,G,Et[G]);this.url=_}return R.isOidc=function(_){return!!_.split(/\s+/g).filter(function(g){return"id_token"===g})[0]},R.isOAuth=function(_){return!!_.split(/\s+/g).filter(function(g){return"token"===g})[0]},R.isCode=function(_){return!!_.split(/\s+/g).filter(function(g){return"code"===g})[0]},R}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.State=void 0;var _,r=function(){function v(_,g){for(var p=0;p<g.length;p++){var V=g[p];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(_,V.key,V)}}return function(_,g,p){return g&&v(_.prototype,g),p&&v(_,p),_}}(),C=et(0),z=(_=et(14))&&_.__esModule?_:{default:_};T.State=function(){function v(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=_.id,p=_.data,V=_.created,E=_.request_type;(function R(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,v),this._id=g||(0,z.default)(),this._data=p,this._created="number"==typeof V&&V>0?V:parseInt(Date.now()/1e3),this._request_type=E}return v.prototype.toStorageString=function(){return C.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},v.fromStorageString=function(g){return C.Log.debug("State.fromStorageString"),new v(JSON.parse(g))},v.clearStaleState=function(g,p){var V=Date.now()/1e3-p;return g.getAllKeys().then(function(E){C.Log.debug("State.clearStaleState: got keys",E);for(var U=[],B=function(lt){var J=E[lt];D=g.get(J).then(function(P){var k=!1;if(P)try{var st=v.fromStorageString(P);C.Log.debug("State.clearStaleState: got item from key: ",J,st.created),st.created<=V&&(k=!0)}catch(ct){C.Log.error("State.clearStaleState: Error parsing state for key",J,ct.message),k=!0}else C.Log.debug("State.clearStaleState: no item in storage for key: ",J),k=!0;if(k)return C.Log.debug("State.clearStaleState: removed item for key: ",J),g.remove(J)}),U.push(D)},O=0;O<E.length;O++){var D;B(O)}return C.Log.debug("State.clearStaleState: waiting on promise count:",U.length),Promise.all(U)})},r(v,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),v}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.OidcClient=void 0;var r=function(){function B(O,D){for(var K=0;K<D.length;K++){var lt=D[K];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(O,lt.key,lt)}}return function(O,D,K){return D&&B(O.prototype,D),K&&B(O,K),O}}(),C=et(0),z=et(5),R=et(12),v=et(8),_=et(34),g=et(35),p=et(36),V=et(13),E=et(9);T.OidcClient=function(){function B(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function U(B,O){if(!(B instanceof O))throw new TypeError("Cannot call a class as a function")})(this,B),this._settings=O instanceof z.OidcClientSettings?O:new z.OidcClientSettings(O)}return B.prototype.createSigninRequest=function(){var D=this,K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},lt=K.response_type,J=K.scope,P=K.redirect_uri,k=K.data,st=K.state,ct=K.prompt,wt=K.display,q=K.max_age,Et=K.ui_locales,Lt=K.id_token_hint,Wt=K.login_hint,he=K.acr_values,ae=K.resource,It=K.request,ce=K.request_uri,m=K.response_mode,S=K.extraQueryParams,G=K.extraTokenParams,ut=K.request_type,dt=K.skipUserInfo,gt=arguments[1];C.Log.debug("OidcClient.createSigninRequest");var bt=this._settings.client_id;J=J||this._settings.scope,P=P||this._settings.redirect_uri,ct=ct||this._settings.prompt,wt=wt||this._settings.display,q=q||this._settings.max_age,Et=Et||this._settings.ui_locales,he=he||this._settings.acr_values,ae=ae||this._settings.resource,m=m||this._settings.response_mode,S=S||this._settings.extraQueryParams,G=G||this._settings.extraTokenParams;var Dt=this._settings.authority;return v.SigninRequest.isCode(lt=lt||this._settings.response_type)&&"code"!==lt?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Bt){C.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Bt);var Kt=new v.SigninRequest({url:Bt,client_id:bt,redirect_uri:P,response_type:lt,scope:J,data:k||st,authority:Dt,prompt:ct,display:wt,max_age:q,ui_locales:Et,id_token_hint:Lt,login_hint:Wt,acr_values:he,resource:ae,request:It,request_uri:ce,extraQueryParams:S,extraTokenParams:G,request_type:ut,response_mode:m,client_secret:D._settings.client_secret,skipUserInfo:dt}),te=Kt.state;return(gt=gt||D._stateStore).set(te.id,te.toStorageString()).then(function(){return Kt})})},B.prototype.readSigninResponseState=function(D,K){var lt=arguments.length>2&&void 0!==arguments[2]&&arguments[2];C.Log.debug("OidcClient.readSigninResponseState");var J="query"===this._settings.response_mode||!this._settings.response_mode&&v.SigninRequest.isCode(this._settings.response_type),k=new _.SigninResponse(D,J?"?":"#");return k.state?(K=K||this._stateStore,(lt?K.remove.bind(K):K.get.bind(K))(k.state).then(function(ct){if(!ct)throw C.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:V.SigninState.fromStorageString(ct),response:k}})):(C.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},B.prototype.processSigninResponse=function(D,K){var lt=this;return C.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(D,K,!0).then(function(J){var P=J.state,k=J.response;return C.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),lt._validator.validateSigninResponse(P,k)})},B.prototype.createSignoutRequest=function(){var D=this,K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},lt=K.id_token_hint,J=K.data,P=K.state,k=K.post_logout_redirect_uri,st=K.extraQueryParams,ct=K.request_type,wt=arguments[1];return C.Log.debug("OidcClient.createSignoutRequest"),k=k||this._settings.post_logout_redirect_uri,st=st||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(q){if(!q)throw C.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");C.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",q);var Et=new g.SignoutRequest({url:q,id_token_hint:lt,post_logout_redirect_uri:k,data:J||P,extraQueryParams:st,request_type:ct}),Lt=Et.state;return Lt&&(C.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(wt=wt||D._stateStore).set(Lt.id,Lt.toStorageString())),Et})},B.prototype.readSignoutResponseState=function(D,K){var lt=arguments.length>2&&void 0!==arguments[2]&&arguments[2];C.Log.debug("OidcClient.readSignoutResponseState");var J=new p.SignoutResponse(D);if(!J.state)return C.Log.debug("OidcClient.readSignoutResponseState: No state in response"),J.error?(C.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",J.error),Promise.reject(new R.ErrorResponse(J))):Promise.resolve({state:void 0,response:J});var P=J.state;return K=K||this._stateStore,(lt?K.remove.bind(K):K.get.bind(K))(P).then(function(st){if(!st)throw C.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:E.State.fromStorageString(st),response:J}})},B.prototype.processSignoutResponse=function(D,K){var lt=this;return C.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(D,K,!0).then(function(J){var P=J.state,k=J.response;return P?(C.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),lt._validator.validateSignoutResponse(P,k)):(C.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),k)})},B.prototype.clearStaleState=function(D){return C.Log.debug("OidcClient.clearStaleState"),E.State.clearStaleState(D=D||this._stateStore,this.settings.staleStateAge)},r(B,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),B}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.TokenClient=void 0;var r=et(7),C=et(2),z=et(0);T.TokenClient=function(){function v(_){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.MetadataService;if(function R(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}(this,v),!_)throw z.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=_,this._jsonService=new g,this._metadataService=new p(this._settings)}return v.prototype.exchangeCode=function(){var g=this,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(p=Object.assign({},p)).grant_type=p.grant_type||"authorization_code",p.client_id=p.client_id||this._settings.client_id,p.client_secret=p.client_secret||this._settings.client_secret,p.redirect_uri=p.redirect_uri||this._settings.redirect_uri;var V=void 0,E=p._client_authentication||this._settings._client_authentication;return delete p._client_authentication,p.code?p.redirect_uri?p.code_verifier?p.client_id?p.client_secret||"client_secret_basic"!=E?("client_secret_basic"==E&&(V=p.client_id+":"+p.client_secret,delete p.client_id,delete p.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(U){return z.Log.debug("TokenClient.exchangeCode: Received token endpoint"),g._jsonService.postForm(U,p,V).then(function(B){return z.Log.debug("TokenClient.exchangeCode: response received"),B})})):(z.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(z.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(z.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(z.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(z.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},v.prototype.exchangeRefreshToken=function(){var g=this,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(p=Object.assign({},p)).grant_type=p.grant_type||"refresh_token",p.client_id=p.client_id||this._settings.client_id,p.client_secret=p.client_secret||this._settings.client_secret;var V=void 0,E=p._client_authentication||this._settings._client_authentication;return delete p._client_authentication,p.refresh_token?p.client_id?("client_secret_basic"==E&&(V=p.client_id+":"+p.client_secret,delete p.client_id,delete p.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(U){return z.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),g._jsonService.postForm(U,p,V).then(function(B){return z.Log.debug("TokenClient.exchangeRefreshToken: response received"),B})})):(z.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(z.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},v}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ErrorResponse=void 0;var r=et(0);T.ErrorResponse=function(R){function v(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=_.error,p=_.error_description,V=_.error_uri,E=_.state,U=_.session_state;if(function C(R,v){if(!(R instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),!g)throw r.Log.error("No error passed to ErrorResponse"),new Error("error");var B=function z(R,v){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?R:v}(this,R.call(this,p||g));return B.name="ErrorResponse",B.error=g,B.error_description=p,B.error_uri=V,B.state=E,B.session_state=U,B}return function(g,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}(v,R),v}(Error)},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SigninState=void 0;var V,r=function(){function p(V,E){for(var U=0;U<E.length;U++){var B=E[U];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(V,B.key,B)}}return function(V,E,U){return E&&p(V.prototype,E),U&&p(V,U),V}}(),C=et(0),z=et(9),R=et(4),v=(V=et(14))&&V.__esModule?V:{default:V};T.SigninState=function(p){function V(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},U=E.nonce,B=E.authority,O=E.client_id,D=E.redirect_uri,K=E.code_verifier,lt=E.response_mode,J=E.client_secret,P=E.scope,k=E.extraTokenParams,st=E.skipUserInfo;!function _(p,V){if(!(p instanceof V))throw new TypeError("Cannot call a class as a function")}(this,V);var ct=function g(p,V){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?p:V}(this,p.call(this,arguments[0]));if(!0===U?ct._nonce=(0,v.default)():U&&(ct._nonce=U),!0===K?ct._code_verifier=(0,v.default)()+(0,v.default)()+(0,v.default)():K&&(ct._code_verifier=K),ct.code_verifier){var wt=R.JoseUtil.hashString(ct.code_verifier,"SHA256");ct._code_challenge=R.JoseUtil.hexToBase64Url(wt)}return ct._redirect_uri=D,ct._authority=B,ct._client_id=O,ct._response_mode=lt,ct._client_secret=J,ct._scope=P,ct._extraTokenParams=k,ct._skipUserInfo=st,ct}return function(U,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function, not "+typeof B);U.prototype=Object.create(B&&B.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(U,B):U.__proto__=B)}(V,p),V.prototype.toStorageString=function(){return C.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},V.fromStorageString=function(U){return C.Log.debug("SigninState.fromStorageString"),new V(JSON.parse(U))},r(V,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),V}(z.State)},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(){return("undefined"!=r&&null!==r&&void 0!==r.getRandomValues?C:z)().replace(/-/g,"")};var r=typeof window<"u"?window.crypto||window.msCrypto:null;function C(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(R){return(R^r.getRandomValues(new Uint8Array(1))[0]&15>>R/4).toString(16)})}function z(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(R){return(R^16*Math.random()>>R/4).toString(16)})}Tt.exports=T.default},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.User=void 0;var r=function(){function z(R,v){for(var _=0;_<v.length;_++){var g=v[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(R,g.key,g)}}return function(R,v,_){return v&&z(R.prototype,v),_&&z(R,_),R}}(),C=et(0);T.User=function(){function z(R){var v=R.id_token,_=R.session_state,g=R.access_token,p=R.refresh_token,V=R.token_type,E=R.scope,U=R.profile,B=R.expires_at,O=R.state;(function(K,lt){if(!(K instanceof lt))throw new TypeError("Cannot call a class as a function")})(this,z),this.id_token=v,this.session_state=_,this.access_token=g,this.refresh_token=p,this.token_type=V,this.scope=E,this.profile=U,this.expires_at=B,this.state=O}return z.prototype.toStorageString=function(){return C.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},z.fromStorageString=function(v){return C.Log.debug("User.fromStorageString"),new z(JSON.parse(v))},r(z,[{key:"expires_in",get:function(){if(this.expires_at){var v=parseInt(Date.now()/1e3);return this.expires_at-v}},set:function(v){var _=parseInt(v);if("number"==typeof _&&_>0){var g=parseInt(Date.now()/1e3);this.expires_at=g+_}}},{key:"expired",get:function(){var v=this.expires_in;if(void 0!==v)return v<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),z}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.AccessTokenEvents=void 0;var r=et(0),C=et(46);T.AccessTokenEvents=function(){function R(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=v.accessTokenExpiringNotificationTime,g=void 0===_?60:_,p=v.accessTokenExpiringTimer,V=void 0===p?new C.Timer("Access token expiring"):p,E=v.accessTokenExpiredTimer,U=void 0===E?new C.Timer("Access token expired"):E;(function z(R,v){if(!(R instanceof v))throw new TypeError("Cannot call a class as a function")})(this,R),this._accessTokenExpiringNotificationTime=g,this._accessTokenExpiring=V,this._accessTokenExpired=U}return R.prototype.load=function(_){if(_.access_token&&void 0!==_.expires_in){var g=_.expires_in;if(r.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",g),g>0){var p=g-this._accessTokenExpiringNotificationTime;p<=0&&(p=1),r.Log.debug("AccessTokenEvents.load: registering expiring timer in:",p),this._accessTokenExpiring.init(p)}else r.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var V=g+1;r.Log.debug("AccessTokenEvents.load: registering expired timer in:",V),this._accessTokenExpired.init(V)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},R.prototype.unload=function(){r.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},R.prototype.addAccessTokenExpiring=function(_){this._accessTokenExpiring.addHandler(_)},R.prototype.removeAccessTokenExpiring=function(_){this._accessTokenExpiring.removeHandler(_)},R.prototype.addAccessTokenExpired=function(_){this._accessTokenExpired.addHandler(_)},R.prototype.removeAccessTokenExpired=function(_){this._accessTokenExpired.removeHandler(_)},R}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.Event=void 0;var r=et(0);T.Event=function(){function C(z){(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,C),this._name=z,this._callbacks=[]}return C.prototype.addHandler=function(R){this._callbacks.push(R)},C.prototype.removeHandler=function(R){var v=this._callbacks.findIndex(function(_){return _===R});v>=0&&this._callbacks.splice(v,1)},C.prototype.raise=function(){r.Log.debug("Event: Raising event: "+this._name);for(var R=0;R<this._callbacks.length;R++){var v;(v=this._callbacks)[R].apply(v,arguments)}},C}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SessionMonitor=void 0;var r=function(){function _(g,p){for(var V=0;V<p.length;V++){var E=p[V];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}return function(g,p,V){return p&&_(g.prototype,p),V&&_(g,V),g}}(),C=et(0),z=et(19),R=et(1);T.SessionMonitor=function(){function _(g){var p=this,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.CheckSessionIFrame,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.Global.timer;if(function v(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}(this,_),!g)throw C.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=g,this._CheckSessionIFrameCtor=V,this._timer=E,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(U){U?p._start(U):p._settings.monitorAnonymousSession&&p._userManager.querySessionStatus().then(function(B){var O={session_state:B.session_state};B.sub&&B.sid&&(O.profile={sub:B.sub,sid:B.sid}),p._start(O)}).catch(function(B){C.Log.error("SessionMonitor ctor: error from querySessionStatus:",B.message)})}).catch(function(U){C.Log.error("SessionMonitor ctor: error from getUser:",U.message)}))}return _.prototype._start=function(p){var V=this,E=p.session_state;E&&(p.profile?(this._sub=p.profile.sub,this._sid=p.profile.sid,C.Log.debug("SessionMonitor._start: session_state:",E,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,C.Log.debug("SessionMonitor._start: session_state:",E,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(E):this._metadataService.getCheckSessionIframe().then(function(U){if(U){C.Log.debug("SessionMonitor._start: Initializing check session iframe");var B=V._client_id,O=V._checkSessionInterval,D=V._stopCheckSessionOnError;V._checkSessionIFrame=new V._CheckSessionIFrameCtor(V._callback.bind(V),B,U,O,D),V._checkSessionIFrame.load().then(function(){V._checkSessionIFrame.start(E)})}else C.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(U){C.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",U.message)}))},_.prototype._stop=function(){var p=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(C.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var V=this._timer.setInterval(function(){p._timer.clearInterval(V),p._userManager.querySessionStatus().then(function(E){var U={session_state:E.session_state};E.sub&&E.sid&&(U.profile={sub:E.sub,sid:E.sid}),p._start(U)}).catch(function(E){C.Log.error("SessionMonitor: error from querySessionStatus:",E.message)})},1e3)},_.prototype._callback=function(){var p=this;this._userManager.querySessionStatus().then(function(V){var E=!0;V?V.sub===p._sub?(E=!1,p._checkSessionIFrame.start(V.session_state),V.sid===p._sid?C.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",V.session_state):(C.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",V.session_state),p._userManager.events._raiseUserSessionChanged())):C.Log.debug("SessionMonitor._callback: Different subject signed into OP:",V.sub):C.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),E&&(p._sub?(C.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),p._userManager.events._raiseUserSignedOut()):(C.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),p._userManager.events._raiseUserSignedIn()))}).catch(function(V){p._sub&&(C.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",V.message),p._userManager.events._raiseUserSignedOut())})},r(_,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),_}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CheckSessionIFrame=void 0;var r=et(0);T.CheckSessionIFrame=function(){function z(R,v,_,g){var p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function C(z,R){if(!(z instanceof R))throw new TypeError("Cannot call a class as a function")})(this,z),this._callback=R,this._client_id=v,this._url=_,this._interval=g||2e3,this._stopOnError=p;var V=_.indexOf("/",_.indexOf("//")+2);this._frame_origin=_.substr(0,V),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=_}return z.prototype.load=function(){var v=this;return new Promise(function(_){v._frame.onload=function(){_()},window.document.body.appendChild(v._frame),v._boundMessageEvent=v._message.bind(v),window.addEventListener("message",v._boundMessageEvent,!1)})},z.prototype._message=function(v){v.origin===this._frame_origin&&v.source===this._frame.contentWindow&&("error"===v.data?(r.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===v.data?(r.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):r.Log.debug("CheckSessionIFrame: "+v.data+" message from check session op iframe"))},z.prototype.start=function(v){var _=this;if(this._session_state!==v){r.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=v;var g=function(){_._frame.contentWindow.postMessage(_._client_id+" "+_._session_state,_._frame_origin)};g(),this._timer=window.setInterval(g,this._interval)}},z.prototype.stop=function(){this._session_state=null,this._timer&&(r.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},z}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.TokenRevocationClient=void 0;var r=et(0),C=et(2),z=et(1);var v="access_token",_="refresh_token";T.TokenRevocationClient=function(){function g(p){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.Global.XMLHttpRequest,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.MetadataService;if(function R(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}(this,g),!p)throw r.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=p,this._XMLHttpRequestCtor=V,this._metadataService=new E(this._settings)}return g.prototype.revoke=function(V,E){var U=this,B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!V)throw r.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(B!==v&&B!=_)throw r.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(O){if(O)return r.Log.debug("TokenRevocationClient.revoke: Revoking "+B),U._revoke(O,U._settings.client_id,U._settings.client_secret,V,B);if(E)throw r.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},g.prototype._revoke=function(V,E,U,B,O){var D=this;return new Promise(function(K,lt){var J=new D._XMLHttpRequestCtor;J.open("POST",V),J.onload=function(){r.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",J.status),200===J.status?K():lt(Error(J.statusText+" ("+J.status+")"))},J.onerror=function(){r.Log.debug("TokenRevocationClient.revoke: Network Error."),lt("Network Error")};var P="client_id="+encodeURIComponent(E);U&&(P+="&client_secret="+encodeURIComponent(U)),P+="&token_type_hint="+encodeURIComponent(O),P+="&token="+encodeURIComponent(B),J.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),J.send(P)})},g}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CordovaPopupWindow=void 0;var r=function(){function z(R,v){for(var _=0;_<v.length;_++){var g=v[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(R,g.key,g)}}return function(R,v,_){return v&&z(R.prototype,v),_&&z(R,_),R}}(),C=et(0);T.CordovaPopupWindow=function(){function z(R){var v=this;(function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,z),this._promise=new Promise(function(_,g){v._resolve=_,v._reject=g}),this.features=R.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=R.popupWindowTarget||"_blank",this.redirect_uri=R.startUrl,C.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return z.prototype._isInAppBrowserInstalled=function(v){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(_){return v.hasOwnProperty(_)})},z.prototype.navigate=function(v){if(v&&v.url){if(!window.cordova)return this._error("cordova is undefined");var _=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(_))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(v.url,this.target,this.features),this._popup?(C.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},z.prototype._loadStartCallback=function(v){0===v.url.indexOf(this.redirect_uri)&&this._success({url:v.url})},z.prototype._exitCallback=function(v){this._error(v)},z.prototype._success=function(v){this._cleanup(),C.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(v)},z.prototype._error=function(v){this._cleanup(),C.Log.error(v),this._reject(new Error(v))},z.prototype.close=function(){this._cleanup()},z.prototype._cleanup=function(){this._popup&&(C.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},r(z,[{key:"promise",get:function(){return this._promise}}]),z}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var r=et(0),C=et(10),z=et(5),R=et(6),v=et(37),_=et(38),g=et(16),p=et(2),V=et(48),E=et(49),U=et(19),B=et(20),O=et(18),D=et(1),K=et(15),lt=et(50);T.default={Version:lt.Version,Log:r.Log,OidcClient:C.OidcClient,OidcClientSettings:z.OidcClientSettings,WebStorageStateStore:R.WebStorageStateStore,InMemoryWebStorage:v.InMemoryWebStorage,UserManager:_.UserManager,AccessTokenEvents:g.AccessTokenEvents,MetadataService:p.MetadataService,CordovaPopupNavigator:V.CordovaPopupNavigator,CordovaIFrameNavigator:E.CordovaIFrameNavigator,CheckSessionIFrame:U.CheckSessionIFrame,TokenRevocationClient:B.TokenRevocationClient,SessionMonitor:O.SessionMonitor,Global:D.Global,User:K.User},Tt.exports=T.default},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ClockService=function(){function r(){!function(z,R){if(!(z instanceof R))throw new TypeError("Cannot call a class as a function")}(this,r)}return r.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},r}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ResponseValidator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},C=et(0),z=et(2),R=et(25),v=et(11),_=et(12),g=et(4);var V=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];T.ResponseValidator=function(){function E(U){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.MetadataService,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.UserInfoService,D=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.JoseUtil,K=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v.TokenClient;if(function p(E,U){if(!(E instanceof U))throw new TypeError("Cannot call a class as a function")}(this,E),!U)throw C.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=U,this._metadataService=new B(this._settings),this._userInfoService=new O(this._settings),this._joseUtil=D,this._tokenClient=new K(this._settings)}return E.prototype.validateSigninResponse=function(B,O){var D=this;return C.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(B,O).then(function(K){return C.Log.debug("ResponseValidator.validateSigninResponse: state processed"),D._validateTokens(B,K).then(function(lt){return C.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),D._processClaims(B,lt).then(function(J){return C.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),J})})})},E.prototype.validateSignoutResponse=function(B,O){return B.id!==O.state?(C.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(C.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),O.state=B.data,O.error?(C.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",O.error),Promise.reject(new _.ErrorResponse(O))):Promise.resolve(O))},E.prototype._processSigninParams=function(B,O){if(B.id!==O.state)return C.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!B.client_id)return C.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!B.authority)return C.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==B.authority)return C.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=B.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==B.client_id)return C.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=B.client_id;return C.Log.debug("ResponseValidator._processSigninParams: state validated"),O.state=B.data,O.error?(C.Log.warn("ResponseValidator._processSigninParams: Response was error",O.error),Promise.reject(new _.ErrorResponse(O))):B.nonce&&!O.id_token?(C.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!B.nonce&&O.id_token?(C.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):B.code_verifier&&!O.code?(C.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!B.code_verifier&&O.code?(C.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(O.scope||(O.scope=B.scope),Promise.resolve(O))},E.prototype._processClaims=function(B,O){var D=this;if(O.isOpenIdConnect){if(C.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),O.profile=this._filterProtocolClaims(O.profile),!0!==B.skipUserInfo&&this._settings.loadUserInfo&&O.access_token)return C.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(O.access_token).then(function(K){return C.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),K.sub!==O.profile.sub?(C.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(O.profile=D._mergeClaims(O.profile,K),C.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",O.profile),O)});C.Log.debug("ResponseValidator._processClaims: not loading user info")}else C.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(O)},E.prototype._mergeClaims=function(B,O){var D=Object.assign({},B);for(var K in O){var lt=O[K];Array.isArray(lt)||(lt=[lt]);for(var J=0;J<lt.length;J++){var P=lt[J];D[K]?Array.isArray(D[K])?D[K].indexOf(P)<0&&D[K].push(P):D[K]!==P&&(D[K]="object"===(void 0===P?"undefined":r(P))&&this._settings.mergeClaims?this._mergeClaims(D[K],P):[D[K],P]):D[K]=P}}return D},E.prototype._filterProtocolClaims=function(B){C.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",B);var O=Object.assign({},B);return this._settings._filterProtocolClaims?(V.forEach(function(D){delete O[D]}),C.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",O)):C.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),O},E.prototype._validateTokens=function(B,O){return O.code?(C.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(B,O)):O.id_token?O.access_token?(C.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(B,O)):(C.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(B,O)):(C.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(O))},E.prototype._processCode=function(B,O){var D=this,K={client_id:B.client_id,client_secret:B.client_secret,code:O.code,redirect_uri:B.redirect_uri,code_verifier:B.code_verifier};return B.extraTokenParams&&"object"===r(B.extraTokenParams)&&Object.assign(K,B.extraTokenParams),this._tokenClient.exchangeCode(K).then(function(lt){for(var J in lt)O[J]=lt[J];return O.id_token?(C.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),D._validateIdTokenAttributes(B,O)):(C.Log.debug("ResponseValidator._processCode: token response successful, returning response"),O)})},E.prototype._validateIdTokenAttributes=function(B,O){var D=this;return this._metadataService.getIssuer().then(function(K){var lt=B.client_id,J=D._settings.clockSkew;return C.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",J),D._settings.getEpochTime().then(function(P){return D._joseUtil.validateJwtAttributes(O.id_token,K,lt,J,P).then(function(k){return B.nonce&&B.nonce!==k.nonce?(C.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):k.sub?(O.profile=k,O):(C.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},E.prototype._validateIdTokenAndAccessToken=function(B,O){var D=this;return this._validateIdToken(B,O).then(function(K){return D._validateAccessToken(K)})},E.prototype._getSigningKeyForJwt=function(B){var O=this;return this._metadataService.getSigningKeys().then(function(D){var K=B.header.kid;if(!D)return C.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));C.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var lt=void 0;if(K)lt=D.filter(function(J){return J.kid===K})[0];else{if((D=O._filterByAlg(D,B.header.alg)).length>1)return C.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));lt=D[0]}return Promise.resolve(lt)})},E.prototype._getSigningKeyForJwtWithSingleRetry=function(B){var O=this;return this._getSigningKeyForJwt(B).then(function(D){return D?Promise.resolve(D):(O._metadataService.resetSigningKeys(),O._getSigningKeyForJwt(B))})},E.prototype._validateIdToken=function(B,O){var D=this;if(!B.nonce)return C.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var K=this._joseUtil.parseJwt(O.id_token);return K&&K.header&&K.payload?B.nonce!==K.payload.nonce?(C.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(lt){return C.Log.debug("ResponseValidator._validateIdToken: Received issuer"),D._getSigningKeyForJwtWithSingleRetry(K).then(function(J){if(!J)return C.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var P=B.client_id,k=D._settings.clockSkew;return C.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",k),D._joseUtil.validateJwt(O.id_token,J,lt,P,k).then(function(){return C.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),K.payload.sub?(O.profile=K.payload,O):(C.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(C.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",K),Promise.reject(new Error("Failed to parse id_token")))},E.prototype._filterByAlg=function(B,O){var D=null;if(O.startsWith("RS"))D="RSA";else if(O.startsWith("PS"))D="PS";else{if(!O.startsWith("ES"))return C.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",O),[];D="EC"}return C.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",D),B=B.filter(function(K){return K.kty===D}),C.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",D,B.length),B},E.prototype._validateAccessToken=function(B){if(!B.profile)return C.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!B.profile.at_hash)return C.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!B.id_token)return C.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var O=this._joseUtil.parseJwt(B.id_token);if(!O||!O.header)return C.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",O),Promise.reject(new Error("Failed to parse id_token"));var D=O.header.alg;if(!D||5!==D.length)return C.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",D),Promise.reject(new Error("Unsupported alg: "+D));var K=D.substr(2,3);if(!K)return C.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",D,K),Promise.reject(new Error("Unsupported alg: "+D));if(256!==(K=parseInt(K))&&384!==K&&512!==K)return C.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",D,K),Promise.reject(new Error("Unsupported alg: "+D));var lt="sha"+K,J=this._joseUtil.hashString(B.access_token,lt);if(!J)return C.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",lt),Promise.reject(new Error("Failed to validate at_hash"));var P=J.substr(0,J.length/2),k=this._joseUtil.hexToBase64Url(P);return k!==B.profile.at_hash?(C.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",k,B.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(C.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(B))},E}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.UserInfoService=void 0;var r=et(7),C=et(2),z=et(0),R=et(4);T.UserInfoService=function(){function _(g){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.MetadataService,E=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R.JoseUtil;if(function v(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}(this,_),!g)throw z.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=g,this._jsonService=new p(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new V(this._settings),this._joseUtil=E}return _.prototype.getClaims=function(p){var V=this;return p?this._metadataService.getUserInfoEndpoint().then(function(E){return z.Log.debug("UserInfoService.getClaims: received userinfo url",E),V._jsonService.getJson(E,p).then(function(U){return z.Log.debug("UserInfoService.getClaims: claims received",U),U})}):(z.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},_.prototype._getClaimsFromJwt=function(p){var V=this;try{var E=this._joseUtil.parseJwt(p.responseText);if(!E||!E.header||!E.payload)return z.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",E),Promise.reject(new Error("Failed to parse id_token"));var U=E.header.kid,B=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":B=this._metadataService.getIssuer();break;case"ANY":B=Promise.resolve(E.payload.iss);break;default:B=Promise.resolve(this._settings.userInfoJwtIssuer)}return B.then(function(O){return z.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+O),V._metadataService.getSigningKeys().then(function(D){if(!D)return z.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));z.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var K=void 0;if(U)K=D.filter(function(P){return P.kid===U})[0];else{if((D=V._filterByAlg(D,E.header.alg)).length>1)return z.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));K=D[0]}if(!K)return z.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var lt=V._settings.client_id,J=V._settings.clockSkew;return z.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",J),V._joseUtil.validateJwt(p.responseText,K,O,lt,J,void 0,!0).then(function(){return z.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),E.payload})})})}catch(O){return z.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",O.message),void reject(O)}},_.prototype._filterByAlg=function(p,V){var E=null;if(V.startsWith("RS"))E="RSA";else if(V.startsWith("PS"))E="PS";else{if(!V.startsWith("ES"))return z.Log.debug("UserInfoService._filterByAlg: alg not supported: ",V),[];E="EC"}return z.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",E),p=p.filter(function(U){return U.kty===E}),z.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",E,p.length),p},_}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.AllowedSigningAlgs=T.b64tohex=T.hextob64u=T.crypto=T.X509=T.KeyUtil=T.jws=void 0;var r=et(27);T.jws=r.jws,T.KeyUtil=r.KEYUTIL,T.X509=r.X509,T.crypto=r.crypto,T.hextob64u=r.hextob64u,T.b64tohex=r.b64tohex,T.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(Tt,T,et){"use strict";(function(r){Object.defineProperty(T,"__esModule",{value:!0});var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},z={userAgent:!1},R={};if(void 0===v)var v={};v.lang={extend:function(a,c,d){if(!c||!a)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var h=function(){};if(h.prototype=c.prototype,a.prototype=new h,a.prototype.constructor=a,a.superclass=c.prototype,c.prototype.constructor==Object.prototype.constructor&&(c.prototype.constructor=c),d){var b;for(b in d)a.prototype[b]=d[b];var M=function(){},H=["toString","valueOf"];try{/MSIE/.test(z.userAgent)&&(M=function(j,Y){for(b=0;b<H.length;b+=1){var W=H[b],rt=Y[W];"function"==typeof rt&&rt!=Object.prototype[W]&&(j[W]=rt)}})}catch{}M(a.prototype,d)}}};var _,g,p,V,E,U,B,O,D,K,lt,a,c,d,h,J=J||(_=Math,p=(g={}).lib={},V=p.Base=function(){function l(){}return{extend:function(c){l.prototype=this;var d=new l;return c&&d.mixIn(c),d.hasOwnProperty("init")||(d.init=function(){d.$super.init.apply(this,arguments)}),d.init.prototype=d,d.$super=this,d},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),E=p.WordArray=V.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c??4*a.length},toString:function(a){return(a||B).stringify(this)},concat:function(a){var c=this.words,d=a.words,h=this.sigBytes,b=a.sigBytes;if(this.clamp(),h%4)for(var M=0;M<b;M++)c[h+M>>>2]|=(d[M>>>2]>>>24-M%4*8&255)<<24-(h+M)%4*8;else for(M=0;M<b;M+=4)c[h+M>>>2]=d[M>>>2];return this.sigBytes+=b,this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-c%4*8,a.length=_.ceil(c/4)},clone:function(){var a=V.clone.call(this);return a.words=this.words.slice(0),a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*_.random()|0);return new E.init(c,a)}}),U=g.enc={},B=U.Hex={stringify:function(a){for(var c=a.words,d=a.sigBytes,h=[],b=0;b<d;b++){var M=c[b>>>2]>>>24-b%4*8&255;h.push((M>>>4).toString(16)),h.push((15&M).toString(16))}return h.join("")},parse:function(a){for(var c=a.length,d=[],h=0;h<c;h+=2)d[h>>>3]|=parseInt(a.substr(h,2),16)<<24-h%8*4;return new E.init(d,c/2)}},O=U.Latin1={stringify:function(a){for(var c=a.words,d=a.sigBytes,h=[],b=0;b<d;b++)h.push(String.fromCharCode(c[b>>>2]>>>24-b%4*8&255));return h.join("")},parse:function(a){for(var c=a.length,d=[],h=0;h<c;h++)d[h>>>2]|=(255&a.charCodeAt(h))<<24-h%4*8;return new E.init(d,c)}},D=U.Utf8={stringify:function(a){try{return decodeURIComponent(escape(O.stringify(a)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(a){return O.parse(unescape(encodeURIComponent(a)))}},K=p.BufferedBlockAlgorithm=V.extend({reset:function(){this._data=new E.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=D.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,h=c.sigBytes,b=this.blockSize,M=h/(4*b),H=(M=a?_.ceil(M):_.max((0|M)-this._minBufferSize,0))*b,L=_.min(4*H,h);if(H){for(var j=0;j<H;j+=b)this._doProcessBlock(d,j);var Y=d.splice(0,H);c.sigBytes-=L}return new E.init(Y,L)},clone:function(){var a=V.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0}),p.Hasher=K.extend({cfg:V.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){K.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return new a.init(d).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return new lt.HMAC.init(a,d).finalize(c)}}}),lt=g.algo={},g);c=(a=J).lib,d=c.Base,h=c.WordArray,(a=a.x64={}).Word=d.extend({init:function(M,H){this.high=M,this.low=H}}),a.WordArray=d.extend({init:function(M,H){M=this.words=M||[],this.sigBytes=H??8*M.length},toX32:function(){for(var M=this.words,H=M.length,L=[],j=0;j<H;j++){var Y=M[j];L.push(Y.high),L.push(Y.low)}return h.create(L,this.sigBytes)},clone:function(){for(var M=d.clone.call(this),H=M.words=this.words.slice(0),L=H.length,j=0;j<L;j++)H[j]=H[j].clone();return M}}),function(){var a=J.lib.WordArray;J.enc.Base64={stringify:function(d){var h=d.words,b=d.sigBytes,M=this._map;d.clamp(),d=[];for(var H=0;H<b;H+=3)for(var L=(h[H>>>2]>>>24-H%4*8&255)<<16|(h[H+1>>>2]>>>24-(H+1)%4*8&255)<<8|h[H+2>>>2]>>>24-(H+2)%4*8&255,j=0;4>j&&H+.75*j<b;j++)d.push(M.charAt(L>>>6*(3-j)&63));if(h=M.charAt(64))for(;d.length%4;)d.push(h);return d.join("")},parse:function(d){var h=d.length,b=this._map;(M=b.charAt(64))&&-1!=(M=d.indexOf(M))&&(h=M);for(var M=[],H=0,L=0;L<h;L++)if(L%4){var j=b.indexOf(d.charAt(L-1))<<L%4*2,Y=b.indexOf(d.charAt(L))>>>6-L%4*2;M[H>>>2]|=(j|Y)<<24-H%4*8,H++}return a.create(M,H)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(l){for(var a=J,c=(h=a.lib).WordArray,d=h.Hasher,h=a.algo,b=[],M=[],H=function(_t){return 4294967296*(_t-(0|_t))|0},L=2,j=0;64>j;){var Y;t:{for(var W=l.sqrt(Y=L),rt=2;rt<=W;rt++)if(!(Y%rt)){Y=!1;break t}Y=!0}Y&&(8>j&&(b[j]=H(l.pow(L,.5))),M[j]=H(l.pow(L,1/3)),j++),L++}var at=[];h=h.SHA256=d.extend({_doReset:function(){this._hash=new c.init(b.slice(0))},_doProcessBlock:function(_t,vt){for(var F=this._hash.words,$=F[0],tt=F[1],nt=F[2],pt=F[3],yt=F[4],Ot=F[5],St=F[6],Xt=F[7],Pt=0;64>Pt;Pt++){if(16>Pt)at[Pt]=0|_t[vt+Pt];else{var Vt=at[Pt-15],de=at[Pt-2];at[Pt]=((Vt<<25|Vt>>>7)^(Vt<<14|Vt>>>18)^Vt>>>3)+at[Pt-7]+((de<<15|de>>>17)^(de<<13|de>>>19)^de>>>10)+at[Pt-16]}Vt=Xt+((yt<<26|yt>>>6)^(yt<<21|yt>>>11)^(yt<<7|yt>>>25))+(yt&Ot^~yt&St)+M[Pt]+at[Pt],de=(($<<30|$>>>2)^($<<19|$>>>13)^($<<10|$>>>22))+($&tt^$&nt^tt&nt),Xt=St,St=Ot,Ot=yt,yt=pt+Vt|0,pt=nt,nt=tt,tt=$,$=Vt+de|0}F[0]=F[0]+$|0,F[1]=F[1]+tt|0,F[2]=F[2]+nt|0,F[3]=F[3]+pt|0,F[4]=F[4]+yt|0,F[5]=F[5]+Ot|0,F[6]=F[6]+St|0,F[7]=F[7]+Xt|0},_doFinalize:function(){var _t=this._data,vt=_t.words,F=8*this._nDataBytes,$=8*_t.sigBytes;return vt[$>>>5]|=128<<24-$%32,vt[14+($+64>>>9<<4)]=l.floor(F/4294967296),vt[15+($+64>>>9<<4)]=F,_t.sigBytes=4*vt.length,this._process(),this._hash},clone:function(){var _t=d.clone.call(this);return _t._hash=this._hash.clone(),_t}}),a.SHA256=d._createHelper(h),a.HmacSHA256=d._createHmacHelper(h)}(Math),function(){function l(){return d.create.apply(d,arguments)}for(var a=J,c=a.lib.Hasher,d=(b=a.x64).Word,h=b.WordArray,b=a.algo,M=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],H=[],L=0;80>L;L++)H[L]=l();b=b.SHA512=c.extend({_doReset:function(){this._hash=new h.init([new d.init(1779033703,4089235720),new d.init(3144134277,2227873595),new d.init(1013904242,4271175723),new d.init(2773480762,1595750129),new d.init(1359893119,2917565137),new d.init(2600822924,725511199),new d.init(528734635,4215389547),new d.init(1541459225,327033209)])},_doProcessBlock:function(Y,W){for(var rt=(tt=this._hash.words)[0],at=tt[1],ft=tt[2],_t=tt[3],vt=tt[4],F=tt[5],$=tt[6],tt=tt[7],nt=rt.high,pt=rt.low,yt=at.high,Ot=at.low,St=ft.high,Xt=ft.low,Pt=_t.high,Vt=_t.low,de=vt.high,ge=vt.low,pe=F.high,Ke=F.low,Ue=$.high,xe=$.low,ve=tt.high,we=tt.low,Ee=nt,ze=pt,ki=yt,si=Ot,Ri=St,ai=Xt,Ii=Pt,Di=Vt,Ze=de,We=ge,zn=pe,Pi=Ke,Oi=Ue,Ni=xe,Mo=ve,qn=we,vn=0;80>vn;vn++){var Gn=H[vn];if(16>vn)var kn=Gn.high=0|Y[W+2*vn],me=Gn.low=0|Y[W+2*vn+1];else{kn=((me=(kn=H[vn-15]).high)>>>1|(un=kn.low)<<31)^(me>>>8|un<<24)^me>>>7;var un=(un>>>1|me<<31)^(un>>>8|me<<24)^(un>>>7|me<<25),Yn=((me=(Yn=H[vn-2]).high)>>>19|(Re=Yn.low)<<13)^(me<<3|Re>>>29)^me>>>6,Re=(Re>>>19|me<<13)^(Re<<3|me>>>29)^(Re>>>6|me<<26),Tr=(me=H[vn-7]).high,$n=(Kn=H[vn-16]).high,Kn=Kn.low;kn=(kn=(kn=kn+Tr+((me=un+me.low)>>>0<un>>>0?1:0))+Yn+((me+=Re)>>>0<Re>>>0?1:0))+$n+((me+=Kn)>>>0<Kn>>>0?1:0),Gn.high=kn,Gn.low=me}Tr=Ze&zn^~Ze&Oi,Kn=We&Pi^~We&Ni,Gn=Ee&ki^Ee&Ri^ki&Ri;var Os=ze&si^ze&ai^si&ai,Ns=(un=(Ee>>>28|ze<<4)^(Ee<<30|ze>>>2)^(Ee<<25|ze>>>7),Yn=(ze>>>28|Ee<<4)^(ze<<30|Ee>>>2)^(ze<<25|Ee>>>7),(Re=M[vn]).high),Fo=Re.low;$n=Mo+((Ze>>>14|We<<18)^(Ze>>>18|We<<14)^(Ze<<23|We>>>9))+((Re=qn+((We>>>14|Ze<<18)^(We>>>18|Ze<<14)^(We<<23|Ze>>>9)))>>>0<qn>>>0?1:0),Mo=Oi,qn=Ni,Oi=zn,Ni=Pi,zn=Ze,Pi=We,Ze=Ii+($n=($n=($n=$n+Tr+((Re+=Kn)>>>0<Kn>>>0?1:0))+Ns+((Re+=Fo)>>>0<Fo>>>0?1:0))+kn+((Re+=me)>>>0<me>>>0?1:0))+((We=Di+Re|0)>>>0<Di>>>0?1:0)|0,Ii=Ri,Di=ai,Ri=ki,ai=si,ki=Ee,si=ze,Ee=$n+(Gn=un+Gn+((me=Yn+Os)>>>0<Yn>>>0?1:0))+((ze=Re+me|0)>>>0<Re>>>0?1:0)|0}pt=rt.low=pt+ze,rt.high=nt+Ee+(pt>>>0<ze>>>0?1:0),Ot=at.low=Ot+si,at.high=yt+ki+(Ot>>>0<si>>>0?1:0),Xt=ft.low=Xt+ai,ft.high=St+Ri+(Xt>>>0<ai>>>0?1:0),Vt=_t.low=Vt+Di,_t.high=Pt+Ii+(Vt>>>0<Di>>>0?1:0),ge=vt.low=ge+We,vt.high=de+Ze+(ge>>>0<We>>>0?1:0),Ke=F.low=Ke+Pi,F.high=pe+zn+(Ke>>>0<Pi>>>0?1:0),xe=$.low=xe+Ni,$.high=Ue+Oi+(xe>>>0<Ni>>>0?1:0),we=tt.low=we+qn,tt.high=ve+Mo+(we>>>0<qn>>>0?1:0)},_doFinalize:function(){var Y=this._data,W=Y.words,rt=8*this._nDataBytes,at=8*Y.sigBytes;return W[at>>>5]|=128<<24-at%32,W[30+(at+128>>>10<<5)]=Math.floor(rt/4294967296),W[31+(at+128>>>10<<5)]=rt,Y.sigBytes=4*W.length,this._process(),this._hash.toX32()},clone:function(){var Y=c.clone.call(this);return Y._hash=this._hash.clone(),Y},blockSize:32}),a.SHA512=c._createHelper(b),a.HmacSHA512=c._createHmacHelper(b)}(),function(){var l=J,a=(h=l.x64).Word,c=h.WordArray,d=(h=l.algo).SHA512,h=h.SHA384=d.extend({_doReset:function(){this._hash=new c.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var M=d._doFinalize.call(this);return M.sigBytes-=16,M}});l.SHA384=d._createHelper(h),l.HmacSHA384=d._createHmacHelper(h)}();var P,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function st(l){var a,c,d="";for(a=0;a+3<=l.length;a+=3)c=parseInt(l.substring(a,a+3),16),d+=k.charAt(c>>6)+k.charAt(63&c);for(a+1==l.length?(c=parseInt(l.substring(a,a+1),16),d+=k.charAt(c<<2)):a+2==l.length&&(c=parseInt(l.substring(a,a+2),16),d+=k.charAt(c>>2)+k.charAt((3&c)<<4));(3&d.length)>0;)d+="=";return d}function ct(l){var a,c,d,h="",b=0;for(a=0;a<l.length&&"="!=l.charAt(a);++a)(d=k.indexOf(l.charAt(a)))<0||(0==b?(h+=ae(d>>2),c=3&d,b=1):1==b?(h+=ae(c<<2|d>>4),c=15&d,b=2):2==b?(h+=ae(c),h+=ae(d>>2),c=3&d,b=3):(h+=ae(c<<2|d>>4),h+=ae(15&d),b=0));return 1==b&&(h+=ae(c<<2)),h}function wt(l){var a,c=ct(l),d=new Array;for(a=0;2*a<c.length;++a)d[a]=parseInt(c.substring(2*a,2*a+2),16);return d}function q(l,a,c){null!=l&&("number"==typeof l?this.fromNumber(l,a,c):this.fromString(l,null==a&&"string"!=typeof l?256:a))}function Et(){return new q(null)}"Microsoft Internet Explorer"==z.appName?(q.prototype.am=function(a,c,d,h,b,M){for(var H=32767&c,L=c>>15;--M>=0;){var j=32767&this[a],Y=this[a++]>>15,W=L*j+Y*H;b=((j=H*j+((32767&W)<<15)+d[h]+(1073741823&b))>>>30)+(W>>>15)+L*Y+(b>>>30),d[h++]=1073741823&j}return b},P=30):"Netscape"!=z.appName?(q.prototype.am=function(a,c,d,h,b,M){for(;--M>=0;){var H=c*this[a++]+d[h]+b;b=Math.floor(H/67108864),d[h++]=67108863&H}return b},P=26):(q.prototype.am=function(a,c,d,h,b,M){for(var H=16383&c,L=c>>14;--M>=0;){var j=16383&this[a],Y=this[a++]>>14,W=L*j+Y*H;b=((j=H*j+((16383&W)<<14)+d[h]+b)>>28)+(W>>14)+L*Y,d[h++]=268435455&j}return b},P=28),q.prototype.DB=P,q.prototype.DM=(1<<P)-1,q.prototype.DV=1<<P,q.prototype.FV=Math.pow(2,52),q.prototype.F1=52-P,q.prototype.F2=2*P-52;var Lt,Wt,he=new Array;for(Lt="0".charCodeAt(0),Wt=0;Wt<=9;++Wt)he[Lt++]=Wt;for(Lt="a".charCodeAt(0),Wt=10;Wt<36;++Wt)he[Lt++]=Wt;for(Lt="A".charCodeAt(0),Wt=10;Wt<36;++Wt)he[Lt++]=Wt;function ae(l){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(l)}function It(l,a){return he[l.charCodeAt(a)]??-1}function ce(l){var a=Et();return a.fromInt(l),a}function m(l){var a,c=1;return 0!=(a=l>>>16)&&(l=a,c+=16),0!=(a=l>>8)&&(l=a,c+=8),0!=(a=l>>4)&&(l=a,c+=4),0!=(a=l>>2)&&(l=a,c+=2),0!=(a=l>>1)&&(l=a,c+=1),c}function S(l){this.m=l}function G(l){this.m=l,this.mp=l.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<l.DB-15)-1,this.mt2=2*l.t}function ut(l,a){return l&a}function dt(l,a){return l|a}function gt(l,a){return l^a}function bt(l,a){return l&~a}function Dt(l){if(0==l)return-1;var a=0;return!(65535&l)&&(l>>=16,a+=16),!(255&l)&&(l>>=8,a+=8),!(15&l)&&(l>>=4,a+=4),!(3&l)&&(l>>=2,a+=2),!(1&l)&&++a,a}function Bt(l){for(var a=0;0!=l;)l&=l-1,++a;return a}function Kt(){}function te(l){return l}function ee(l){this.r2=Et(),this.q3=Et(),q.ONE.dlShiftTo(2*l.t,this.r2),this.mu=this.r2.divide(l),this.m=l}S.prototype.convert=function(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a},S.prototype.revert=function(a){return a},S.prototype.reduce=function(a){a.divRemTo(this.m,null,a)},S.prototype.mulTo=function(a,c,d){a.multiplyTo(c,d),this.reduce(d)},S.prototype.sqrTo=function(a,c){a.squareTo(c),this.reduce(c)},G.prototype.convert=function(a){var c=Et();return a.abs().dlShiftTo(this.m.t,c),c.divRemTo(this.m,null,c),a.s<0&&c.compareTo(q.ZERO)>0&&this.m.subTo(c,c),c},G.prototype.revert=function(a){var c=Et();return a.copyTo(c),this.reduce(c),c},G.prototype.reduce=function(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var c=0;c<this.m.t;++c){var d=32767&a[c],h=d*this.mpl+((d*this.mph+(a[c]>>15)*this.mpl&this.um)<<15)&a.DM;for(a[d=c+this.m.t]+=this.m.am(0,h,a,c,0,this.m.t);a[d]>=a.DV;)a[d]-=a.DV,a[++d]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)},G.prototype.mulTo=function(a,c,d){a.multiplyTo(c,d),this.reduce(d)},G.prototype.sqrTo=function(a,c){a.squareTo(c),this.reduce(c)},q.prototype.copyTo=function(a){for(var c=this.t-1;c>=0;--c)a[c]=this[c];a.t=this.t,a.s=this.s},q.prototype.fromInt=function(a){this.t=1,this.s=a<0?-1:0,a>0?this[0]=a:a<-1?this[0]=a+this.DV:this.t=0},q.prototype.fromString=function(a,c){var d;if(16==c)d=4;else if(8==c)d=3;else if(256==c)d=8;else if(2==c)d=1;else if(32==c)d=5;else{if(4!=c)return void this.fromRadix(a,c);d=2}this.t=0,this.s=0;for(var h=a.length,b=!1,M=0;--h>=0;){var H=8==d?255&a[h]:It(a,h);H<0?"-"==a.charAt(h)&&(b=!0):(b=!1,0==M?this[this.t++]=H:M+d>this.DB?(this[this.t-1]|=(H&(1<<this.DB-M)-1)<<M,this[this.t++]=H>>this.DB-M):this[this.t-1]|=H<<M,(M+=d)>=this.DB&&(M-=this.DB))}8==d&&128&a[0]&&(this.s=-1,M>0&&(this[this.t-1]|=(1<<this.DB-M)-1<<M)),this.clamp(),b&&q.ZERO.subTo(this,this)},q.prototype.clamp=function(){for(var a=this.s&this.DM;this.t>0&&this[this.t-1]==a;)--this.t},q.prototype.dlShiftTo=function(a,c){var d;for(d=this.t-1;d>=0;--d)c[d+a]=this[d];for(d=a-1;d>=0;--d)c[d]=0;c.t=this.t+a,c.s=this.s},q.prototype.drShiftTo=function(a,c){for(var d=a;d<this.t;++d)c[d-a]=this[d];c.t=Math.max(this.t-a,0),c.s=this.s},q.prototype.lShiftTo=function(a,c){var d,h=a%this.DB,b=this.DB-h,M=(1<<b)-1,H=Math.floor(a/this.DB),L=this.s<<h&this.DM;for(d=this.t-1;d>=0;--d)c[d+H+1]=this[d]>>b|L,L=(this[d]&M)<<h;for(d=H-1;d>=0;--d)c[d]=0;c[H]=L,c.t=this.t+H+1,c.s=this.s,c.clamp()},q.prototype.rShiftTo=function(a,c){c.s=this.s;var d=Math.floor(a/this.DB);if(d>=this.t)c.t=0;else{var h=a%this.DB,b=this.DB-h,M=(1<<h)-1;c[0]=this[d]>>h;for(var H=d+1;H<this.t;++H)c[H-d-1]|=(this[H]&M)<<b,c[H-d]=this[H]>>h;h>0&&(c[this.t-d-1]|=(this.s&M)<<b),c.t=this.t-d,c.clamp()}},q.prototype.subTo=function(a,c){for(var d=0,h=0,b=Math.min(a.t,this.t);d<b;)h+=this[d]-a[d],c[d++]=h&this.DM,h>>=this.DB;if(a.t<this.t){for(h-=a.s;d<this.t;)h+=this[d],c[d++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;d<a.t;)h-=a[d],c[d++]=h&this.DM,h>>=this.DB;h-=a.s}c.s=h<0?-1:0,h<-1?c[d++]=this.DV+h:h>0&&(c[d++]=h),c.t=d,c.clamp()},q.prototype.multiplyTo=function(a,c){var d=this.abs(),h=a.abs(),b=d.t;for(c.t=b+h.t;--b>=0;)c[b]=0;for(b=0;b<h.t;++b)c[b+d.t]=d.am(0,h[b],c,b,0,d.t);c.s=0,c.clamp(),this.s!=a.s&&q.ZERO.subTo(c,c)},q.prototype.squareTo=function(a){for(var c=this.abs(),d=a.t=2*c.t;--d>=0;)a[d]=0;for(d=0;d<c.t-1;++d){var h=c.am(d,c[d],a,2*d,0,1);(a[d+c.t]+=c.am(d+1,2*c[d],a,2*d+1,h,c.t-d-1))>=c.DV&&(a[d+c.t]-=c.DV,a[d+c.t+1]=1)}a.t>0&&(a[a.t-1]+=c.am(d,c[d],a,2*d,0,1)),a.s=0,a.clamp()},q.prototype.divRemTo=function(a,c,d){var h=a.abs();if(!(h.t<=0)){var b=this.abs();if(b.t<h.t)return c?.fromInt(0),void(null!=d&&this.copyTo(d));null==d&&(d=Et());var M=Et(),H=this.s,L=a.s,j=this.DB-m(h[h.t-1]);j>0?(h.lShiftTo(j,M),b.lShiftTo(j,d)):(h.copyTo(M),b.copyTo(d));var Y=M.t,W=M[Y-1];if(0!=W){var rt=W*(1<<this.F1)+(Y>1?M[Y-2]>>this.F2:0),at=this.FV/rt,ft=(1<<this.F1)/rt,_t=1<<this.F2,vt=d.t,F=vt-Y,$=c??Et();for(M.dlShiftTo(F,$),d.compareTo($)>=0&&(d[d.t++]=1,d.subTo($,d)),q.ONE.dlShiftTo(Y,$),$.subTo(M,M);M.t<Y;)M[M.t++]=0;for(;--F>=0;){var tt=d[--vt]==W?this.DM:Math.floor(d[vt]*at+(d[vt-1]+_t)*ft);if((d[vt]+=M.am(0,tt,d,F,0,Y))<tt)for(M.dlShiftTo(F,$),d.subTo($,d);d[vt]<--tt;)d.subTo($,d)}null!=c&&(d.drShiftTo(Y,c),H!=L&&q.ZERO.subTo(c,c)),d.t=Y,d.clamp(),j>0&&d.rShiftTo(j,d),H<0&&q.ZERO.subTo(d,d)}}},q.prototype.invDigit=function(){if(this.t<1)return 0;var a=this[0];if(!(1&a))return 0;var c=3&a;return(c=(c=(c=(c=c*(2-(15&a)*c)&15)*(2-(255&a)*c)&255)*(2-((65535&a)*c&65535))&65535)*(2-a*c%this.DV)%this.DV)>0?this.DV-c:-c},q.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},q.prototype.exp=function(a,c){if(a>4294967295||a<1)return q.ONE;var d=Et(),h=Et(),b=c.convert(this),M=m(a)-1;for(b.copyTo(d);--M>=0;)if(c.sqrTo(d,h),(a&1<<M)>0)c.mulTo(h,b,d);else{var H=d;d=h,h=H}return c.revert(d)},q.prototype.toString=function(a){if(this.s<0)return"-"+this.negate().toString(a);var c;if(16==a)c=4;else if(8==a)c=3;else if(2==a)c=1;else if(32==a)c=5;else{if(4!=a)return this.toRadix(a);c=2}var d,h=(1<<c)-1,b=!1,M="",H=this.t,L=this.DB-H*this.DB%c;if(H-- >0)for(L<this.DB&&(d=this[H]>>L)>0&&(b=!0,M=ae(d));H>=0;)L<c?(d=(this[H]&(1<<L)-1)<<c-L,d|=this[--H]>>(L+=this.DB-c)):(d=this[H]>>(L-=c)&h,L<=0&&(L+=this.DB,--H)),d>0&&(b=!0),b&&(M+=ae(d));return b?M:"0"},q.prototype.negate=function(){var a=Et();return q.ZERO.subTo(this,a),a},q.prototype.abs=function(){return this.s<0?this.negate():this},q.prototype.compareTo=function(a){var c=this.s-a.s;if(0!=c)return c;var d=this.t;if(0!=(c=d-a.t))return this.s<0?-c:c;for(;--d>=0;)if(0!=(c=this[d]-a[d]))return c;return 0},q.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)},q.prototype.mod=function(a){var c=Et();return this.abs().divRemTo(a,null,c),this.s<0&&c.compareTo(q.ZERO)>0&&a.subTo(c,c),c},q.prototype.modPowInt=function(a,c){var d;return d=a<256||c.isEven()?new S(c):new G(c),this.exp(a,d)},q.ZERO=ce(0),q.ONE=ce(1),Kt.prototype.convert=te,Kt.prototype.revert=te,Kt.prototype.mulTo=function(a,c,d){a.multiplyTo(c,d)},Kt.prototype.sqrTo=function(a,c){a.squareTo(c)},ee.prototype.convert=function(a){if(a.s<0||a.t>2*this.m.t)return a.mod(this.m);if(a.compareTo(this.m)<0)return a;var c=Et();return a.copyTo(c),this.reduce(c),c},ee.prototype.revert=function(a){return a},ee.prototype.reduce=function(a){for(a.drShiftTo(this.m.t-1,this.r2),a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);a.compareTo(this.r2)<0;)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);a.compareTo(this.m)>=0;)a.subTo(this.m,a)},ee.prototype.mulTo=function(a,c,d){a.multiplyTo(c,d),this.reduce(d)},ee.prototype.sqrTo=function(a,c){a.squareTo(c),this.reduce(c)};var Q,ot,ht,X=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],x=(1<<26)/X[X.length-1];function w(){this.i=0,this.j=0,this.S=new Array}function xt(){!function(a){ot[ht++]^=255&a,ot[ht++]^=a>>8&255,ot[ht++]^=a>>16&255,ot[ht++]^=a>>24&255,ht>=256&&(ht-=256)}((new Date).getTime())}if(q.prototype.chunkSize=function(a){return Math.floor(Math.LN2*this.DB/Math.log(a))},q.prototype.toRadix=function(a){if(null==a&&(a=10),0==this.signum()||a<2||a>36)return"0";var c=this.chunkSize(a),d=Math.pow(a,c),h=ce(d),b=Et(),M=Et(),H="";for(this.divRemTo(h,b,M);b.signum()>0;)H=(d+M.intValue()).toString(a).substr(1)+H,b.divRemTo(h,b,M);return M.intValue().toString(a)+H},q.prototype.fromRadix=function(a,c){this.fromInt(0),null==c&&(c=10);for(var d=this.chunkSize(c),h=Math.pow(c,d),b=!1,M=0,H=0,L=0;L<a.length;++L){var j=It(a,L);j<0?"-"==a.charAt(L)&&0==this.signum()&&(b=!0):(H=c*H+j,++M>=d&&(this.dMultiply(h),this.dAddOffset(H,0),M=0,H=0))}M>0&&(this.dMultiply(Math.pow(c,M)),this.dAddOffset(H,0)),b&&q.ZERO.subTo(this,this)},q.prototype.fromNumber=function(a,c,d){if("number"==typeof c)if(a<2)this.fromInt(1);else for(this.fromNumber(a,d),this.testBit(a-1)||this.bitwiseTo(q.ONE.shiftLeft(a-1),dt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(c);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(q.ONE.shiftLeft(a-1),this);else{var h=new Array,b=7&a;h.length=1+(a>>3),c.nextBytes(h),b>0?h[0]&=(1<<b)-1:h[0]=0,this.fromString(h,256)}},q.prototype.bitwiseTo=function(a,c,d){var h,b,M=Math.min(a.t,this.t);for(h=0;h<M;++h)d[h]=c(this[h],a[h]);if(a.t<this.t){for(b=a.s&this.DM,h=M;h<this.t;++h)d[h]=c(this[h],b);d.t=this.t}else{for(b=this.s&this.DM,h=M;h<a.t;++h)d[h]=c(b,a[h]);d.t=a.t}d.s=c(this.s,a.s),d.clamp()},q.prototype.changeBit=function(a,c){var d=q.ONE.shiftLeft(a);return this.bitwiseTo(d,c,d),d},q.prototype.addTo=function(a,c){for(var d=0,h=0,b=Math.min(a.t,this.t);d<b;)h+=this[d]+a[d],c[d++]=h&this.DM,h>>=this.DB;if(a.t<this.t){for(h+=a.s;d<this.t;)h+=this[d],c[d++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;d<a.t;)h+=a[d],c[d++]=h&this.DM,h>>=this.DB;h+=a.s}c.s=h<0?-1:0,h>0?c[d++]=h:h<-1&&(c[d++]=this.DV+h),c.t=d,c.clamp()},q.prototype.dMultiply=function(a){this[this.t]=this.am(0,a-1,this,0,0,this.t),++this.t,this.clamp()},q.prototype.dAddOffset=function(a,c){if(0!=a){for(;this.t<=c;)this[this.t++]=0;for(this[c]+=a;this[c]>=this.DV;)this[c]-=this.DV,++c>=this.t&&(this[this.t++]=0),++this[c]}},q.prototype.multiplyLowerTo=function(a,c,d){var h,b=Math.min(this.t+a.t,c);for(d.s=0,d.t=b;b>0;)d[--b]=0;for(h=d.t-this.t;b<h;++b)d[b+this.t]=this.am(0,a[b],d,b,0,this.t);for(h=Math.min(a.t,c);b<h;++b)this.am(0,a[b],d,b,0,c-b);d.clamp()},q.prototype.multiplyUpperTo=function(a,c,d){--c;var h=d.t=this.t+a.t-c;for(d.s=0;--h>=0;)d[h]=0;for(h=Math.max(c-this.t,0);h<a.t;++h)d[this.t+h-c]=this.am(c-h,a[h],d,0,0,this.t+h-c);d.clamp(),d.drShiftTo(1,d)},q.prototype.modInt=function(a){if(a<=0)return 0;var c=this.DV%a,d=this.s<0?a-1:0;if(this.t>0)if(0==c)d=this[0]%a;else for(var h=this.t-1;h>=0;--h)d=(c*d+this[h])%a;return d},q.prototype.millerRabin=function(a){var c=this.subtract(q.ONE),d=c.getLowestSetBit();if(d<=0)return!1;var h=c.shiftRight(d);(a=a+1>>1)>X.length&&(a=X.length);for(var b=Et(),M=0;M<a;++M){b.fromInt(X[Math.floor(Math.random()*X.length)]);var H=b.modPow(h,this);if(0!=H.compareTo(q.ONE)&&0!=H.compareTo(c)){for(var L=1;L++<d&&0!=H.compareTo(c);)if(0==(H=H.modPowInt(2,this)).compareTo(q.ONE))return!1;if(0!=H.compareTo(c))return!1}}return!0},q.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
             */
function(){var a=Et();return this.copyTo(a),a},q.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},q.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},q.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},q.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},q.prototype.toByteArray=function(){var a=this.t,c=new Array;c[0]=this.s;var d,h=this.DB-a*this.DB%8,b=0;if(a-- >0)for(h<this.DB&&(d=this[a]>>h)!=(this.s&this.DM)>>h&&(c[b++]=d|this.s<<this.DB-h);a>=0;)h<8?(d=(this[a]&(1<<h)-1)<<8-h,d|=this[--a]>>(h+=this.DB-8)):(d=this[a]>>(h-=8)&255,h<=0&&(h+=this.DB,--a)),128&d&&(d|=-256),0==b&&(128&this.s)!=(128&d)&&++b,(b>0||d!=this.s)&&(c[b++]=d);return c},q.prototype.equals=function(a){return 0==this.compareTo(a)},q.prototype.min=function(a){return this.compareTo(a)<0?this:a},q.prototype.max=function(a){return this.compareTo(a)>0?this:a},q.prototype.and=function(a){var c=Et();return this.bitwiseTo(a,ut,c),c},q.prototype.or=function(a){var c=Et();return this.bitwiseTo(a,dt,c),c},q.prototype.xor=function(a){var c=Et();return this.bitwiseTo(a,gt,c),c},q.prototype.andNot=function(a){var c=Et();return this.bitwiseTo(a,bt,c),c},q.prototype.not=function(){for(var a=Et(),c=0;c<this.t;++c)a[c]=this.DM&~this[c];return a.t=this.t,a.s=~this.s,a},q.prototype.shiftLeft=function(a){var c=Et();return a<0?this.rShiftTo(-a,c):this.lShiftTo(a,c),c},q.prototype.shiftRight=function(a){var c=Et();return a<0?this.lShiftTo(-a,c):this.rShiftTo(a,c),c},q.prototype.getLowestSetBit=function(){for(var a=0;a<this.t;++a)if(0!=this[a])return a*this.DB+Dt(this[a]);return this.s<0?this.t*this.DB:-1},q.prototype.bitCount=function(){for(var a=0,c=this.s&this.DM,d=0;d<this.t;++d)a+=Bt(this[d]^c);return a},q.prototype.testBit=function(a){var c=Math.floor(a/this.DB);return c>=this.t?0!=this.s:0!=(this[c]&1<<a%this.DB)},q.prototype.setBit=function(a){return this.changeBit(a,dt)},q.prototype.clearBit=function(a){return this.changeBit(a,bt)},q.prototype.flipBit=function(a){return this.changeBit(a,gt)},q.prototype.add=function(a){var c=Et();return this.addTo(a,c),c},q.prototype.subtract=function(a){var c=Et();return this.subTo(a,c),c},q.prototype.multiply=function(a){var c=Et();return this.multiplyTo(a,c),c},q.prototype.divide=function(a){var c=Et();return this.divRemTo(a,c,null),c},q.prototype.remainder=function(a){var c=Et();return this.divRemTo(a,null,c),c},q.prototype.divideAndRemainder=function(a){var c=Et(),d=Et();return this.divRemTo(a,c,d),new Array(c,d)},q.prototype.modPow=function(a,c){var d,h,b=a.bitLength(),M=ce(1);if(b<=0)return M;d=b<18?1:b<48?3:b<144?4:b<768?5:6,h=b<8?new S(c):c.isEven()?new ee(c):new G(c);var H=new Array,L=3,j=d-1,Y=(1<<d)-1;if(H[1]=h.convert(this),d>1){var W=Et();for(h.sqrTo(H[1],W);L<=Y;)H[L]=Et(),h.mulTo(W,H[L-2],H[L]),L+=2}var rt,at,ft=a.t-1,_t=!0,vt=Et();for(b=m(a[ft])-1;ft>=0;){for(b>=j?rt=a[ft]>>b-j&Y:(rt=(a[ft]&(1<<b+1)-1)<<j-b,ft>0&&(rt|=a[ft-1]>>this.DB+b-j)),L=d;!(1&rt);)rt>>=1,--L;if((b-=L)<0&&(b+=this.DB,--ft),_t)H[rt].copyTo(M),_t=!1;else{for(;L>1;)h.sqrTo(M,vt),h.sqrTo(vt,M),L-=2;L>0?h.sqrTo(M,vt):(at=M,M=vt,vt=at),h.mulTo(vt,H[rt],M)}for(;ft>=0&&!(a[ft]&1<<b);)h.sqrTo(M,vt),at=M,M=vt,vt=at,--b<0&&(b=this.DB-1,--ft)}return h.revert(M)},q.prototype.modInverse=function(a){var c=a.isEven();if(this.isEven()&&c||0==a.signum())return q.ZERO;for(var d=a.clone(),h=this.clone(),b=ce(1),M=ce(0),H=ce(0),L=ce(1);0!=d.signum();){for(;d.isEven();)d.rShiftTo(1,d),c?(b.isEven()&&M.isEven()||(b.addTo(this,b),M.subTo(a,M)),b.rShiftTo(1,b)):M.isEven()||M.subTo(a,M),M.rShiftTo(1,M);for(;h.isEven();)h.rShiftTo(1,h),c?(H.isEven()&&L.isEven()||(H.addTo(this,H),L.subTo(a,L)),H.rShiftTo(1,H)):L.isEven()||L.subTo(a,L),L.rShiftTo(1,L);d.compareTo(h)>=0?(d.subTo(h,d),c&&b.subTo(H,b),M.subTo(L,M)):(h.subTo(d,h),c&&H.subTo(b,H),L.subTo(M,L))}return 0!=h.compareTo(q.ONE)?q.ZERO:L.compareTo(a)>=0?L.subtract(a):L.signum()<0?(L.addTo(a,L),L.signum()<0?L.add(a):L):L},q.prototype.pow=function(a){return this.exp(a,new Kt)},q.prototype.gcd=function(a){var c=this.s<0?this.negate():this.clone(),d=a.s<0?a.negate():a.clone();if(c.compareTo(d)<0){var h=c;c=d,d=h}var b=c.getLowestSetBit(),M=d.getLowestSetBit();if(M<0)return c;for(b<M&&(M=b),M>0&&(c.rShiftTo(M,c),d.rShiftTo(M,d));c.signum()>0;)(b=c.getLowestSetBit())>0&&c.rShiftTo(b,c),(b=d.getLowestSetBit())>0&&d.rShiftTo(b,d),c.compareTo(d)>=0?(c.subTo(d,c),c.rShiftTo(1,c)):(d.subTo(c,d),d.rShiftTo(1,d));return M>0&&d.lShiftTo(M,d),d},q.prototype.isProbablePrime=function(a){var c,d=this.abs();if(1==d.t&&d[0]<=X[X.length-1]){for(c=0;c<X.length;++c)if(d[0]==X[c])return!0;return!1}if(d.isEven())return!1;for(c=1;c<X.length;){for(var h=X[c],b=c+1;b<X.length&&h<x;)h*=X[b++];for(h=d.modInt(h);c<b;)if(h%X[c++]==0)return!1}return d.millerRabin(a)},q.prototype.square=function(){var a=Et();return this.squareTo(a),a},w.prototype.init=function(a){var c,d,h;for(c=0;c<256;++c)this.S[c]=c;for(d=0,c=0;c<256;++c)h=this.S[c],this.S[c]=this.S[d=d+this.S[c]+a[c%a.length]&255],this.S[d]=h;this.i=0,this.j=0},w.prototype.next=function(){var a;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,a=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=a,this.S[a+this.S[this.i]&255]},null==ot){var Rt;if(ot=new Array,ht=0,void 0!==R&&(void 0!==R.crypto||void 0!==R.msCrypto)){var Yt=R.crypto||R.msCrypto;if(Yt.getRandomValues){var le=new Uint8Array(32);for(Yt.getRandomValues(le),Rt=0;Rt<32;++Rt)ot[ht++]=le[Rt]}else if("Netscape"==z.appName&&z.appVersion<"5"){var ne=R.crypto.random(32);for(Rt=0;Rt<ne.length;++Rt)ot[ht++]=255&ne.charCodeAt(Rt)}}for(;ht<256;)Rt=Math.floor(65536*Math.random()),ot[ht++]=Rt>>>8,ot[ht++]=255&Rt;ht=0,xt()}function ye(){if(null==Q){for(xt(),(Q=new w).init(ot),ht=0;ht<ot.length;++ht)ot[ht]=0;ht=0}return Q.next()}function Be(){}function Ye(l,a){return new q(l,a)}function fn(l,a,c){for(var d="",h=0;d.length<a;)d+=c(String.fromCharCode.apply(String,l.concat([(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h]))),h+=1;return d}function jt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function _e(l,a){this.x=a,this.q=l}function ie(l,a,c,d){this.curve=l,this.x=a,this.y=c,this.z=d??q.ONE,this.zinv=null}function pn(l,a,c){this.q=l,this.a=this.fromBigInteger(a),this.b=this.fromBigInteger(c),this.infinity=new ie(this,null,null)}Be.prototype.nextBytes=function(a){var c;for(c=0;c<a.length;++c)a[c]=ye()},jt.prototype.doPublic=function(a){return a.modPowInt(this.e,this.n)},jt.prototype.setPublic=function(a,c){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof a)this.n=a,this.e=c;else{if(!(null!=a&&null!=c&&a.length>0&&c.length>0))throw"Invalid RSA public key";this.n=Ye(a,16),this.e=parseInt(c,16)}},jt.prototype.encrypt=function(a){var c=function(M,H){if(H<M.length+11)throw"Message too long for RSA";for(var L=new Array,j=M.length-1;j>=0&&H>0;){var Y=M.charCodeAt(j--);Y<128?L[--H]=Y:Y>127&&Y<2048?(L[--H]=63&Y|128,L[--H]=Y>>6|192):(L[--H]=63&Y|128,L[--H]=Y>>6&63|128,L[--H]=Y>>12|224)}L[--H]=0;for(var W=new Be,rt=new Array;H>2;){for(rt[0]=0;0==rt[0];)W.nextBytes(rt);L[--H]=rt[0]}return L[--H]=2,L[--H]=0,new q(L)}(a,this.n.bitLength()+7>>3);if(null==c)return null;var d=this.doPublic(c);if(null==d)return null;var h=d.toString(16);return 1&h.length?"0"+h:h},jt.prototype.encryptOAEP=function(a,c,d){var h=function(L,j,Y,W){var rt=N.crypto.MessageDigest,at=N.crypto.Util,ft=null;if(Y||(Y="sha1"),"string"==typeof Y&&(ft=rt.getCanonicalAlgName(Y),W=rt.getHashLength(ft),Y=function(St){return en(at.hashHex(Tn(St),ft))}),L.length+2*W+2>j)throw"Message too long for RSA";var _t,vt="";for(_t=0;_t<j-L.length-2*W-2;_t+=1)vt+="\0";var F=Y("")+vt+"\x01"+L,$=new Array(W);(new Be).nextBytes($);var tt=fn($,F.length,Y),nt=[];for(_t=0;_t<F.length;_t+=1)nt[_t]=F.charCodeAt(_t)^tt.charCodeAt(_t);var pt=fn(nt,$.length,Y),yt=[0];for(_t=0;_t<$.length;_t+=1)yt[_t+1]=$[_t]^pt.charCodeAt(_t);return new q(yt.concat(nt))}(a,this.n.bitLength()+7>>3,c,d);if(null==h)return null;var b=this.doPublic(h);if(null==b)return null;var M=b.toString(16);return 1&M.length?"0"+M:M},jt.prototype.type="RSA",_e.prototype.equals=function(a){return a==this||this.q.equals(a.q)&&this.x.equals(a.x)},_e.prototype.toBigInteger=function(){return this.x},_e.prototype.negate=function(){return new _e(this.q,this.x.negate().mod(this.q))},_e.prototype.add=function(a){return new _e(this.q,this.x.add(a.toBigInteger()).mod(this.q))},_e.prototype.subtract=function(a){return new _e(this.q,this.x.subtract(a.toBigInteger()).mod(this.q))},_e.prototype.multiply=function(a){return new _e(this.q,this.x.multiply(a.toBigInteger()).mod(this.q))},_e.prototype.square=function(){return new _e(this.q,this.x.square().mod(this.q))},_e.prototype.divide=function(a){return new _e(this.q,this.x.multiply(a.toBigInteger().modInverse(this.q)).mod(this.q))},ie.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ie.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ie.prototype.equals=function(a){return a==this||(this.isInfinity()?a.isInfinity():a.isInfinity()?this.isInfinity():!!a.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(a.z)).mod(this.curve.q).equals(q.ZERO)&&a.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(a.z)).mod(this.curve.q).equals(q.ZERO))},ie.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(q.ZERO)&&!this.y.toBigInteger().equals(q.ZERO)},ie.prototype.negate=function(){return new ie(this.curve,this.x,this.y.negate(),this.z)},ie.prototype.add=function(a){if(this.isInfinity())return a;if(a.isInfinity())return this;var c=a.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(a.z)).mod(this.curve.q),d=a.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(a.z)).mod(this.curve.q);if(q.ZERO.equals(d))return q.ZERO.equals(c)?this.twice():this.curve.getInfinity();var h=new q("3"),b=this.x.toBigInteger(),M=this.y.toBigInteger(),H=(a.x.toBigInteger(),a.y.toBigInteger(),d.square()),L=H.multiply(d),j=b.multiply(H),Y=c.square().multiply(this.z),W=Y.subtract(j.shiftLeft(1)).multiply(a.z).subtract(L).multiply(d).mod(this.curve.q),rt=j.multiply(h).multiply(c).subtract(M.multiply(L)).subtract(Y.multiply(c)).multiply(a.z).add(c.multiply(L)).mod(this.curve.q),at=L.multiply(this.z).multiply(a.z).mod(this.curve.q);return new ie(this.curve,this.curve.fromBigInteger(W),this.curve.fromBigInteger(rt),at)},ie.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var a=new q("3"),c=this.x.toBigInteger(),d=this.y.toBigInteger(),h=d.multiply(this.z),b=h.multiply(d).mod(this.curve.q),M=this.curve.a.toBigInteger(),H=c.square().multiply(a);q.ZERO.equals(M)||(H=H.add(this.z.square().multiply(M)));var L=(H=H.mod(this.curve.q)).square().subtract(c.shiftLeft(3).multiply(b)).shiftLeft(1).multiply(h).mod(this.curve.q),j=H.multiply(a).multiply(c).subtract(b.shiftLeft(1)).shiftLeft(2).multiply(b).subtract(H.square().multiply(H)).mod(this.curve.q),Y=h.square().multiply(h).shiftLeft(3).mod(this.curve.q);return new ie(this.curve,this.curve.fromBigInteger(L),this.curve.fromBigInteger(j),Y)},ie.prototype.multiply=function(a){if(this.isInfinity())return this;if(0==a.signum())return this.curve.getInfinity();var c,d=a,h=d.multiply(new q("3")),b=this.negate(),M=this,H=this.curve.q.subtract(a),L=H.multiply(new q("3")),j=new ie(this.curve,this.x,this.y),Y=j.negate();for(c=h.bitLength()-2;c>0;--c){M=M.twice();var W=h.testBit(c);W!=d.testBit(c)&&(M=M.add(W?this:b))}for(c=L.bitLength()-2;c>0;--c){j=j.twice();var rt=L.testBit(c);rt!=H.testBit(c)&&(j=j.add(rt?j:Y))}return M},ie.prototype.multiplyTwo=function(a,c,d){var h;h=a.bitLength()>d.bitLength()?a.bitLength()-1:d.bitLength()-1;for(var b=this.curve.getInfinity(),M=this.add(c);h>=0;)b=b.twice(),a.testBit(h)?b=d.testBit(h)?b.add(M):b.add(this):d.testBit(h)&&(b=b.add(c)),--h;return b},pn.prototype.getQ=function(){return this.q},pn.prototype.getA=function(){return this.a},pn.prototype.getB=function(){return this.b},pn.prototype.equals=function(a){return a==this||this.q.equals(a.q)&&this.a.equals(a.a)&&this.b.equals(a.b)},pn.prototype.getInfinity=function(){return this.infinity},pn.prototype.fromBigInteger=function(a){return new _e(this.q,a)},pn.prototype.decodePointHex=function(a){switch(parseInt(a.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var c=(a.length-2)/2,d=a.substr(2,c),h=a.substr(c+2,c);return new ie(this,this.fromBigInteger(new q(d,16)),this.fromBigInteger(new q(h,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
             */
_e.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ie.prototype.getEncoded=function(l){var a=function(M,H){var L=M.toByteArrayUnsigned();if(H<L.length)L=L.slice(L.length-H);else for(;H>L.length;)L.unshift(0);return L},c=this.getX().toBigInteger(),d=this.getY().toBigInteger(),h=a(c,32);return l?d.isEven()?h.unshift(2):h.unshift(3):(h.unshift(4),h=h.concat(a(d,32))),h},ie.decodeFrom=function(l,a){var c=a.length-1,d=a.slice(1,1+c/2),h=a.slice(1+c/2,1+c);d.unshift(0),h.unshift(0);var b=new q(d),M=new q(h);return new ie(l,l.fromBigInteger(b),l.fromBigInteger(M))},ie.decodeFromHex=function(l,a){a.substr(0,2);var c=a.length-2,d=a.substr(2,c/2),h=a.substr(2+c/2,c/2),b=new q(d,16),M=new q(h,16);return new ie(l,l.fromBigInteger(b),l.fromBigInteger(M))},ie.prototype.add2D=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;if(this.x.equals(l.x))return this.y.equals(l.y)?this.twice():this.curve.getInfinity();var a=l.x.subtract(this.x),c=l.y.subtract(this.y).divide(a),d=c.square().subtract(this.x).subtract(l.x),h=c.multiply(this.x.subtract(d)).subtract(this.y);return new ie(this.curve,d,h)},ie.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var l=this.curve.fromBigInteger(q.valueOf(2)),a=this.curve.fromBigInteger(q.valueOf(3)),c=this.x.square().multiply(a).add(this.curve.a).divide(this.y.multiply(l)),d=c.square().subtract(this.x.multiply(l)),h=c.multiply(this.x.subtract(d)).subtract(this.y);return new ie(this.curve,d,h)},ie.prototype.multiply2D=function(l){if(this.isInfinity())return this;if(0==l.signum())return this.curve.getInfinity();var a,c=l,d=c.multiply(new q("3")),h=this.negate(),b=this;for(a=d.bitLength()-2;a>0;--a){b=b.twice();var M=d.testBit(a);M!=c.testBit(a)&&(b=b.add2D(M?this:h))}return b},ie.prototype.isOnCurve=function(){var l=this.getX().toBigInteger(),a=this.getY().toBigInteger(),c=this.curve.getA().toBigInteger(),d=this.curve.getB().toBigInteger(),h=this.curve.getQ(),b=a.multiply(a).mod(h),M=l.multiply(l).multiply(l).add(c.multiply(l)).add(d).mod(h);return b.equals(M)},ie.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ie.prototype.validate=function(){var l=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var a=this.getX().toBigInteger(),c=this.getY().toBigInteger();if(a.compareTo(q.ONE)<0||a.compareTo(l.subtract(q.ONE))>0)throw new Error("x coordinate out of bounds");if(c.compareTo(q.ONE)<0||c.compareTo(l.subtract(q.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(l).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var Mn=function(){var l=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),a=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),c={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function d(M,H,L){return H?c[H]:String.fromCharCode(parseInt(L,16))}var h=new String(""),b=Object.hasOwnProperty;return function(M,H){var L,j,Y=M.match(l),W=Y[0],rt=!1;"{"===W?L={}:"["===W?L=[]:(L=[],rt=!0);for(var at=[L],ft=1-rt,_t=Y.length;ft<_t;++ft){var vt;switch((W=Y[ft]).charCodeAt(0)){default:(vt=at[0])[j||vt.length]=+W,j=void 0;break;case 34:if(-1!==(W=W.substring(1,W.length-1)).indexOf("\\")&&(W=W.replace(a,d)),vt=at[0],!j){if(!(vt instanceof Array)){j=W||h;break}j=vt.length}vt[j]=W,j=void 0;break;case 91:at.unshift((vt=at[0])[j||vt.length]=[]),j=void 0;break;case 93:case 125:at.shift();break;case 102:(vt=at[0])[j||vt.length]=!1,j=void 0;break;case 110:(vt=at[0])[j||vt.length]=null,j=void 0;break;case 116:(vt=at[0])[j||vt.length]=!0,j=void 0;break;case 123:at.unshift((vt=at[0])[j||vt.length]={}),j=void 0}}if(rt){if(1!==at.length)throw new Error;L=L[0]}else if(at.length)throw new Error;return H&&(L=function F($,tt){var nt=$[tt];if(nt&&"object"===(void 0===nt?"undefined":C(nt))){var pt=null;for(var yt in nt)if(b.call(nt,yt)&&nt!==$){var Ot=F(nt,yt);void 0!==Ot?nt[yt]=Ot:(pt||(pt=[]),pt.push(yt))}if(pt)for(var St=pt.length;--St>=0;)delete nt[pt[St]]}return H.call($,tt,nt)}({"":L},"")),L}}();void 0!==N&&N||(T.KJUR=N={}),void 0!==N.asn1&&N.asn1||(N.asn1={}),N.asn1.ASN1Util=new function(){this.integerToByteHex=function(l){var a=l.toString(16);return a.length%2==1&&(a="0"+a),a},this.bigIntToMinTwosComplementsHex=function(l){var a=l.toString(16);if("-"!=a.substr(0,1))a.length%2==1?a="0"+a:a.match(/^[0-7]/)||(a="00"+a);else{var c=a.substr(1).length;c%2==1?c+=1:a.match(/^[0-7]/)||(c+=2);for(var d="",h=0;h<c;h++)d+="f";a=new q(d,16).xor(l).add(q.ONE).toString(16).replace(/^-/,"")}return a},this.getPEMStringFromHex=function(l,a){return nn(l,a)},this.newObject=function(l){var a=N.asn1,c=a.ASN1Object,d=a.DERBoolean,h=a.DERInteger,b=a.DERBitString,M=a.DEROctetString,H=a.DERNull,L=a.DERObjectIdentifier,j=a.DEREnumerated,Y=a.DERUTF8String,W=a.DERNumericString,rt=a.DERPrintableString,at=a.DERTeletexString,ft=a.DERIA5String,_t=a.DERUTCTime,vt=a.DERGeneralizedTime,F=a.DERVisibleString,$=a.DERBMPString,tt=a.DERSequence,nt=a.DERSet,pt=a.DERTaggedObject,yt=a.ASN1Util.newObject;if(l instanceof a.ASN1Object)return l;var Ot=Object.keys(l);if(1!=Ot.length)throw new Error("key of param shall be only one.");var St=Ot[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+St+":"))throw new Error("undefined key: "+St);if("bool"==St)return new d(l[St]);if("int"==St)return new h(l[St]);if("bitstr"==St)return new b(l[St]);if("octstr"==St)return new M(l[St]);if("null"==St)return new H(l[St]);if("oid"==St)return new L(l[St]);if("enum"==St)return new j(l[St]);if("utf8str"==St)return new Y(l[St]);if("numstr"==St)return new W(l[St]);if("prnstr"==St)return new rt(l[St]);if("telstr"==St)return new at(l[St]);if("ia5str"==St)return new ft(l[St]);if("utctime"==St)return new _t(l[St]);if("gentime"==St)return new vt(l[St]);if("visstr"==St)return new F(l[St]);if("bmpstr"==St)return new $(l[St]);if("asn1"==St)return new c(l[St]);if("seq"==St){for(var Xt=l[St],Pt=[],Vt=0;Vt<Xt.length;Vt++){var de=yt(Xt[Vt]);Pt.push(de)}return new tt({array:Pt})}if("set"==St){for(Xt=l[St],Pt=[],Vt=0;Vt<Xt.length;Vt++)de=yt(Xt[Vt]),Pt.push(de);return new nt({array:Pt})}if("tag"==St){var ge=l[St];if("[object Array]"===Object.prototype.toString.call(ge)&&3==ge.length){var pe=yt(ge[2]);return new pt({tag:ge[0],explicit:ge[1],obj:pe})}return new pt(ge)}},this.jsonToASN1HEX=function(l){return this.newObject(l).getEncodedHex()}},N.asn1.ASN1Util.oidHexToInt=function(l){for(var a="",c=parseInt(l.substr(0,2),16),d=(a=Math.floor(c/40)+"."+c%40,""),h=2;h<l.length;h+=2){var b=("00000000"+parseInt(l.substr(h,2),16).toString(2)).slice(-8);d+=b.substr(1,7),"0"==b.substr(0,1)&&(a=a+"."+new q(d,2).toString(10),d="")}return a},N.asn1.ASN1Util.oidIntToHex=function(l){var a=function(L){var j=L.toString(16);return 1==j.length&&(j="0"+j),j},c=function(L){var j="",Y=new q(L,10).toString(2),W=7-Y.length%7;7==W&&(W=0);for(var rt="",at=0;at<W;at++)rt+="0";for(Y=rt+Y,at=0;at<Y.length-1;at+=7){var ft=Y.substr(at,7);at!=Y.length-7&&(ft="1"+ft),j+=a(parseInt(ft,2))}return j};if(!l.match(/^[0-9.]+$/))throw"malformed oid string: "+l;var d="",h=l.split("."),b=40*parseInt(h[0])+parseInt(h[1]);d+=a(b),h.splice(0,2);for(var M=0;M<h.length;M++)d+=c(h[M]);return d},N.asn1.ASN1Object=function(l){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var a=this.hV.length/2,c=a.toString(16);if(c.length%2==1&&(c="0"+c),a<128)return c;var d=c.length/2;if(d>15)throw"ASN.1 length too long to represent by 8x: n = "+a.toString(16);return(128+d).toString(16)+c},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(a){this.params=a},null!=l&&null!=l.tlv&&(this.hTLV=l.tlv,this.isModified=!1)},N.asn1.DERAbstractString=function(l){N.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(a){this.hTLV=null,this.isModified=!0,this.s=a,this.hV=Fn(this.s).toLowerCase()},this.setStringHex=function(a){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=a},this.getFreshValueHex=function(){return this.hV},void 0!==l&&("string"==typeof l?this.setString(l):void 0!==l.str?this.setString(l.str):void 0!==l.hex&&this.setStringHex(l.hex))},v.lang.extend(N.asn1.DERAbstractString,N.asn1.ASN1Object),N.asn1.DERAbstractTime=function(l){N.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(a){var c=a.getTime()+6e4*a.getTimezoneOffset();return new Date(c)},this.formatDate=function(a,c,d){var h=this.zeroPadding,b=this.localDateToUTC(a),M=String(b.getFullYear());"utc"==c&&(M=M.substr(2,2));var H=M+h(String(b.getMonth()+1),2)+h(String(b.getDate()),2)+h(String(b.getHours()),2)+h(String(b.getMinutes()),2)+h(String(b.getSeconds()),2);if(!0===d){var L=b.getMilliseconds();if(0!=L){var j=h(String(L),3);H=H+"."+(j=j.replace(/[0]+$/,""))}}return H+"Z"},this.zeroPadding=function(a,c){return a.length>=c?a:new Array(c-a.length+1).join("0")+a},this.getString=function(){return this.s},this.setString=function(a){this.hTLV=null,this.isModified=!0,this.s=a,this.hV=mn(a)},this.setByDateValue=function(a,c,d,h,b,M){var H=new Date(Date.UTC(a,c-1,d,h,b,M,0));this.setByDate(H)},this.getFreshValueHex=function(){return this.hV}},v.lang.extend(N.asn1.DERAbstractTime,N.asn1.ASN1Object),N.asn1.DERAbstractStructured=function(l){N.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(a){this.hTLV=null,this.isModified=!0,this.asn1Array=a},this.appendASN1Object=function(a){this.hTLV=null,this.isModified=!0,this.asn1Array.push(a)},this.asn1Array=new Array,void 0!==l&&void 0!==l.array&&(this.asn1Array=l.array)},v.lang.extend(N.asn1.DERAbstractStructured,N.asn1.ASN1Object),N.asn1.DERBoolean=function(l){N.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==l?"010100":"0101ff"},v.lang.extend(N.asn1.DERBoolean,N.asn1.ASN1Object),N.asn1.DERInteger=function(l){N.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(a){this.hTLV=null,this.isModified=!0,this.hV=N.asn1.ASN1Util.bigIntToMinTwosComplementsHex(a)},this.setByInteger=function(a){var c=new q(String(a),10);this.setByBigInteger(c)},this.setValueHex=function(a){this.hV=a},this.getFreshValueHex=function(){return this.hV},void 0!==l&&(void 0!==l.bigint?this.setByBigInteger(l.bigint):void 0!==l.int?this.setByInteger(l.int):"number"==typeof l?this.setByInteger(l):void 0!==l.hex&&this.setValueHex(l.hex))},v.lang.extend(N.asn1.DERInteger,N.asn1.ASN1Object),N.asn1.DERBitString=function(l){if(void 0!==l&&void 0!==l.obj){var a=N.asn1.ASN1Util.newObject(l.obj);l.hex="00"+a.getEncodedHex()}N.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(c){this.hTLV=null,this.isModified=!0,this.hV=c},this.setUnusedBitsAndHexValue=function(c,d){if(c<0||7<c)throw"unused bits shall be from 0 to 7: u = "+c;var h="0"+c;this.hTLV=null,this.isModified=!0,this.hV=h+d},this.setByBinaryString=function(c){var d=8-(c=c.replace(/0+$/,"")).length%8;8==d&&(d=0);for(var h=0;h<=d;h++)c+="0";var b="";for(h=0;h<c.length-1;h+=8){var M=c.substr(h,8),H=parseInt(M,2).toString(16);1==H.length&&(H="0"+H),b+=H}this.hTLV=null,this.isModified=!0,this.hV="0"+d+b},this.setByBooleanArray=function(c){for(var d="",h=0;h<c.length;h++)d+=1==c[h]?"1":"0";this.setByBinaryString(d)},this.newFalseArray=function(c){for(var d=new Array(c),h=0;h<c;h++)d[h]=!1;return d},this.getFreshValueHex=function(){return this.hV},void 0!==l&&("string"==typeof l&&l.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(l):void 0!==l.hex?this.setHexValueIncludingUnusedBits(l.hex):void 0!==l.bin?this.setByBinaryString(l.bin):void 0!==l.array&&this.setByBooleanArray(l.array))},v.lang.extend(N.asn1.DERBitString,N.asn1.ASN1Object),N.asn1.DEROctetString=function(l){if(void 0!==l&&void 0!==l.obj){var a=N.asn1.ASN1Util.newObject(l.obj);l.hex=a.getEncodedHex()}N.asn1.DEROctetString.superclass.constructor.call(this,l),this.hT="04"},v.lang.extend(N.asn1.DEROctetString,N.asn1.DERAbstractString),N.asn1.DERNull=function(){N.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},v.lang.extend(N.asn1.DERNull,N.asn1.ASN1Object),N.asn1.DERObjectIdentifier=function(l){N.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(a){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=a},this.setValueOidString=function(a){var c=function(h){var b=function(rt){var at=rt.toString(16);return 1==at.length&&(at="0"+at),at},M=function(rt){var at="",ft=parseInt(rt,10).toString(2),_t=7-ft.length%7;7==_t&&(_t=0);for(var vt="",F=0;F<_t;F++)vt+="0";for(ft=vt+ft,F=0;F<ft.length-1;F+=7){var $=ft.substr(F,7);F!=ft.length-7&&($="1"+$),at+=b(parseInt($,2))}return at};try{if(!h.match(/^[0-9.]+$/))return null;var H="",L=h.split("."),j=40*parseInt(L[0],10)+parseInt(L[1],10);H+=b(j),L.splice(0,2);for(var Y=0;Y<L.length;Y++)H+=M(L[Y]);return H}catch{return null}}(a);if(null==c)throw new Error("malformed oid string: "+a);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=c},this.setValueName=function(a){var c=N.asn1.x509.OID.name2oid(a);if(""===c)throw new Error("DERObjectIdentifier oidName undefined: "+a);this.setValueOidString(c)},this.setValueNameOrOid=function(a){a.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(a):this.setValueName(a)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(a){"string"==typeof a?this.setValueNameOrOid(a):void 0!==a.oid?this.setValueNameOrOid(a.oid):void 0!==a.name?this.setValueNameOrOid(a.name):void 0!==a.hex&&this.setValueHex(a.hex)},void 0!==l&&this.setByParam(l)},v.lang.extend(N.asn1.DERObjectIdentifier,N.asn1.ASN1Object),N.asn1.DEREnumerated=function(l){N.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(a){this.hTLV=null,this.isModified=!0,this.hV=N.asn1.ASN1Util.bigIntToMinTwosComplementsHex(a)},this.setByInteger=function(a){var c=new q(String(a),10);this.setByBigInteger(c)},this.setValueHex=function(a){this.hV=a},this.getFreshValueHex=function(){return this.hV},void 0!==l&&(void 0!==l.int?this.setByInteger(l.int):"number"==typeof l?this.setByInteger(l):void 0!==l.hex&&this.setValueHex(l.hex))},v.lang.extend(N.asn1.DEREnumerated,N.asn1.ASN1Object),N.asn1.DERUTF8String=function(l){N.asn1.DERUTF8String.superclass.constructor.call(this,l),this.hT="0c"},v.lang.extend(N.asn1.DERUTF8String,N.asn1.DERAbstractString),N.asn1.DERNumericString=function(l){N.asn1.DERNumericString.superclass.constructor.call(this,l),this.hT="12"},v.lang.extend(N.asn1.DERNumericString,N.asn1.DERAbstractString),N.asn1.DERPrintableString=function(l){N.asn1.DERPrintableString.superclass.constructor.call(this,l),this.hT="13"},v.lang.extend(N.asn1.DERPrintableString,N.asn1.DERAbstractString),N.asn1.DERTeletexString=function(l){N.asn1.DERTeletexString.superclass.constructor.call(this,l),this.hT="14"},v.lang.extend(N.asn1.DERTeletexString,N.asn1.DERAbstractString),N.asn1.DERIA5String=function(l){N.asn1.DERIA5String.superclass.constructor.call(this,l),this.hT="16"},v.lang.extend(N.asn1.DERIA5String,N.asn1.DERAbstractString),N.asn1.DERVisibleString=function(l){N.asn1.DERIA5String.superclass.constructor.call(this,l),this.hT="1a"},v.lang.extend(N.asn1.DERVisibleString,N.asn1.DERAbstractString),N.asn1.DERBMPString=function(l){N.asn1.DERBMPString.superclass.constructor.call(this,l),this.hT="1e"},v.lang.extend(N.asn1.DERBMPString,N.asn1.DERAbstractString),N.asn1.DERUTCTime=function(l){N.asn1.DERUTCTime.superclass.constructor.call(this,l),this.hT="17",this.setByDate=function(a){this.hTLV=null,this.isModified=!0,this.date=a,this.s=this.formatDate(this.date,"utc"),this.hV=mn(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=mn(this.s)),this.hV},void 0!==l&&(void 0!==l.str?this.setString(l.str):"string"==typeof l&&l.match(/^[0-9]{12}Z$/)?this.setString(l):void 0!==l.hex?this.setStringHex(l.hex):void 0!==l.date&&this.setByDate(l.date))},v.lang.extend(N.asn1.DERUTCTime,N.asn1.DERAbstractTime),N.asn1.DERGeneralizedTime=function(l){N.asn1.DERGeneralizedTime.superclass.constructor.call(this,l),this.hT="18",this.withMillis=!1,this.setByDate=function(a){this.hTLV=null,this.isModified=!0,this.date=a,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=mn(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=mn(this.s)),this.hV},void 0!==l&&(void 0!==l.str?this.setString(l.str):"string"==typeof l&&l.match(/^[0-9]{14}Z$/)?this.setString(l):void 0!==l.hex?this.setStringHex(l.hex):void 0!==l.date&&this.setByDate(l.date),!0===l.millis&&(this.withMillis=!0))},v.lang.extend(N.asn1.DERGeneralizedTime,N.asn1.DERAbstractTime),N.asn1.DERSequence=function(l){N.asn1.DERSequence.superclass.constructor.call(this,l),this.hT="30",this.getFreshValueHex=function(){for(var a="",c=0;c<this.asn1Array.length;c++)a+=this.asn1Array[c].getEncodedHex();return this.hV=a,this.hV}},v.lang.extend(N.asn1.DERSequence,N.asn1.DERAbstractStructured),N.asn1.DERSet=function(l){N.asn1.DERSet.superclass.constructor.call(this,l),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var a=new Array,c=0;c<this.asn1Array.length;c++)a.push(this.asn1Array[c].getEncodedHex());return 1==this.sortFlag&&a.sort(),this.hV=a.join(""),this.hV},void 0!==l&&void 0!==l.sortflag&&0==l.sortflag&&(this.sortFlag=!1)},v.lang.extend(N.asn1.DERSet,N.asn1.DERAbstractStructured),N.asn1.DERTaggedObject=function(l){N.asn1.DERTaggedObject.superclass.constructor.call(this);var a=N.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(c,d,h){this.hT=d,this.isExplicit=c,this.asn1Object=h,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=h.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,d),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(c){null!=c.tag&&(this.hT=c.tag),null!=c.explicit&&(this.isExplicit=c.explicit),null!=c.tage&&(this.hT=c.tage,this.isExplicit=!0),null!=c.tagi&&(this.hT=c.tagi,this.isExplicit=!1),null!=c.obj&&(c.obj instanceof a.ASN1Object?(this.asn1Object=c.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==C(c.obj)&&(this.asn1Object=a.ASN1Util.newObject(c.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=l&&this.setByParam(l)},v.lang.extend(N.asn1.DERTaggedObject,N.asn1.ASN1Object);var N,Un,tn,kt=new function(){};function $e(l){for(var a=new Array,c=0;c<l.length;c++)a[c]=l.charCodeAt(c);return a}function Sr(l){for(var a="",c=0;c<l.length;c++)a+=String.fromCharCode(l[c]);return a}function ii(l){for(var a="",c=0;c<l.length;c++){var d=l[c].toString(16);1==d.length&&(d="0"+d),a+=d}return a}function mn(l){return ii($e(l))}function Ci(l){return(l=(l=l.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Hn(l){return l.length%4==2?l+="==":l.length%4==3&&(l+="="),(l=l.replace(/-/g,"+")).replace(/_/g,"/")}function Te(l){return l.length%2==1&&(l="0"+l),Ci(st(l))}function fe(l){return ct(Hn(l))}function Fn(l){return Ai(Vn(l))}function ke(l){return decodeURIComponent(tr(l))}function en(l){for(var a="",c=0;c<l.length-1;c+=2)a+=String.fromCharCode(parseInt(l.substr(c,2),16));return a}function Tn(l){for(var a="",c=0;c<l.length;c++)a+=("0"+l.charCodeAt(c).toString(16)).slice(-2);return a}function bo(l){return st(l)}function Cr(l){return bo(l).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Er(l){return ct(l.replace(/[^0-9A-Za-z\/+=]*/g,""))}function nn(l,a){return"-----BEGIN "+a+"-----\r\n"+Cr(l)+"\r\n-----END "+a+"-----\r\n"}function cn(l,a){if(-1==l.indexOf("-----BEGIN "))throw"can't find PEM header: "+a;return Er(l=void 0!==a?(l=l.replace(new RegExp("^[^]*-----BEGIN "+a+"-----"),"")).replace(new RegExp("-----END "+a+"-----[^]*$"),""):(l=l.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ei(l){var a,c,d,h,b,M,H,L,j,Y,W;if(W=l.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return L=W[1],a=parseInt(L),2===L.length&&(50<=a&&a<100?a=1900+a:0<=a&&a<50&&(a=2e3+a)),c=parseInt(W[2])-1,d=parseInt(W[3]),h=parseInt(W[4]),b=parseInt(W[5]),M=parseInt(W[6]),H=0,""!==(j=W[7])&&(Y=(j.substr(1)+"00").substr(0,3),H=parseInt(Y)),Date.UTC(a,c,d,h,b,M,H);throw"unsupported zulu format: "+l}function xo(l){return~~(Ei(l)/1e3)}function Ai(l){return l.replace(/%/g,"")}function tr(l){return l.replace(/(..)/g,"%$1")}function er(l){var a="malformed IPv6 address";if(!l.match(/^[0-9A-Fa-f:]+$/))throw a;var c=(l=l.toLowerCase()).split(":").length-1;if(c<2)throw a;var d=":".repeat(7-c+2),h=(l=l.replace("::",d)).split(":");if(8!=h.length)throw a;for(var b=0;b<8;b++)h[b]=("0000"+h[b]).slice(-4);return h.join("")}function Mi(l){if(!l.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var a=(l=l.toLowerCase()).match(/.{1,4}/g),c=0;c<8;c++)a[c]=a[c].replace(/^0+/,""),""==a[c]&&(a[c]="0");var d=(l=":"+a.join(":")+":").match(/:(0:){2,}/g);if(null===d)return l.slice(1,-1);var h="";for(c=0;c<d.length;c++)d[c].length>h.length&&(h=d[c]);return(l=l.replace(h,"::")).slice(1,-1)}function ri(l){var a="malformed hex value";if(!l.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw a;if(8!=l.length)return 32==l.length?Mi(l):l;try{return parseInt(l.substr(0,2),16)+"."+parseInt(l.substr(2,2),16)+"."+parseInt(l.substr(4,2),16)+"."+parseInt(l.substr(6,2),16)}catch{throw a}}function Vn(l){for(var a=encodeURIComponent(l),c="",d=0;d<a.length;d++)"%"==a[d]?(c+=a.substr(d,3),d+=2):c=c+"%"+mn(a[d]);return c}function Ar(l){return!(l.length%2!=0||!l.match(/^[0-9a-f]+$/)&&!l.match(/^[0-9A-F]+$/))}function Fi(l){return l.length%2==1?"0"+l:l.substr(0,1)>"7"?"00"+l:l}kt.getLblen=function(l,a){if("8"!=l.substr(a+2,1))return 1;var c=parseInt(l.substr(a+3,1));return 0==c?-1:0<c&&c<10?c+1:-2},kt.getL=function(l,a){var c=kt.getLblen(l,a);return c<1?"":l.substr(a+2,2*c)},kt.getVblen=function(l,a){var c;return""==(c=kt.getL(l,a))?-1:("8"===c.substr(0,1)?new q(c.substr(2),16):new q(c,16)).intValue()},kt.getVidx=function(l,a){var c=kt.getLblen(l,a);return c<0?c:a+2*(c+1)},kt.getV=function(l,a){var c=kt.getVidx(l,a),d=kt.getVblen(l,a);return l.substr(c,2*d)},kt.getTLV=function(l,a){return l.substr(a,2)+kt.getL(l,a)+kt.getV(l,a)},kt.getTLVblen=function(l,a){return 2+2*kt.getLblen(l,a)+2*kt.getVblen(l,a)},kt.getNextSiblingIdx=function(l,a){return kt.getVidx(l,a)+2*kt.getVblen(l,a)},kt.getChildIdx=function(l,a){var c,d,h,b=kt,M=[];c=b.getVidx(l,a),d=2*b.getVblen(l,a),"03"==l.substr(a,2)&&(c+=2,d-=2),h=0;for(var H=c;h<=d;){var L=b.getTLVblen(l,H);if((h+=L)<=d&&M.push(H),H+=L,h>=d)break}return M},kt.getNthChildIdx=function(l,a,c){return kt.getChildIdx(l,a)[c]},kt.getIdxbyList=function(l,a,c,d){var h,b,M=kt;return 0==c.length?void 0!==d&&l.substr(a,2)!==d?-1:a:(h=c.shift())>=(b=M.getChildIdx(l,a)).length?-1:M.getIdxbyList(l,b[h],c,d)},kt.getIdxbyListEx=function(l,a,c,d){var h,b,M=kt;if(0==c.length)return void 0!==d&&l.substr(a,2)!==d?-1:a;h=c.shift(),b=M.getChildIdx(l,a);for(var H=0,L=0;L<b.length;L++){var j=l.substr(b[L],2);if("number"==typeof h&&!M.isContextTag(j)&&H==h||"string"==typeof h&&M.isContextTag(j,h))return M.getIdxbyListEx(l,b[L],c,d);M.isContextTag(j)||H++}return-1},kt.getTLVbyList=function(l,a,c,d){var h=kt,b=h.getIdxbyList(l,a,c,d);return-1==b||b>=l.length?null:h.getTLV(l,b)},kt.getTLVbyListEx=function(l,a,c,d){var h=kt,b=h.getIdxbyListEx(l,a,c,d);return-1==b?null:h.getTLV(l,b)},kt.getVbyList=function(l,a,c,d,h){var b,M,H=kt;return-1==(b=H.getIdxbyList(l,a,c,d))||b>=l.length?null:(M=H.getV(l,b),!0===h&&(M=M.substr(2)),M)},kt.getVbyListEx=function(l,a,c,d,h){var b,M,H=kt;return-1==(b=H.getIdxbyListEx(l,a,c,d))?null:(M=H.getV(l,b),"03"==l.substr(b,2)&&!1!==h&&(M=M.substr(2)),M)},kt.getInt=function(l,a,c){null==c&&(c=-1);try{var d=l.substr(a,2);if("02"!=d&&"03"!=d)return c;var h=kt.getV(l,a);return"02"==d?parseInt(h,16):function(M){try{var H=M.substr(0,2);if("00"==H)return parseInt(M.substr(2),16);var L=parseInt(H,16),j=M.substr(2),Y=parseInt(j,16).toString(2);return"0"==Y&&(Y="00000000"),Y=Y.slice(0,0-L),parseInt(Y,2)}catch{return-1}}(h)}catch{return c}},kt.getOID=function(l,a,c){null==c&&(c=null);try{return"06"!=l.substr(a,2)?c:function(h){if(!Ar(h))return null;try{var b=[],M=h.substr(0,2),H=parseInt(M,16);b[0]=new String(Math.floor(H/40)),b[1]=new String(H%40);for(var L=h.substr(2),j=[],Y=0;Y<L.length/2;Y++)j.push(parseInt(L.substr(2*Y,2),16));var W=[],rt="";for(Y=0;Y<j.length;Y++)128&j[Y]?rt+=gn((127&j[Y]).toString(2),7):(rt+=gn((127&j[Y]).toString(2),7),W.push(new String(parseInt(rt,2))),rt="");var at=b.join(".");return W.length>0&&(at=at+"."+W.join(".")),at}catch{return null}}(kt.getV(l,a))}catch{return c}},kt.getOIDName=function(l,a,c){null==c&&(c=null);try{var d=kt.getOID(l,a,c);if(d==c)return c;var h=N.asn1.x509.OID.oid2name(d);return""==h?d:h}catch{return c}},kt.getString=function(l,a,c){null==c&&(c=null);try{return en(kt.getV(l,a))}catch{return c}},kt.hextooidstr=function(l){var a=function(rt,at){return rt.length>=at?rt:new Array(at-rt.length+1).join("0")+rt},c=[],d=l.substr(0,2),h=parseInt(d,16);c[0]=new String(Math.floor(h/40)),c[1]=new String(h%40);for(var b=l.substr(2),M=[],H=0;H<b.length/2;H++)M.push(parseInt(b.substr(2*H,2),16));var L=[],j="";for(H=0;H<M.length;H++)128&M[H]?j+=a((127&M[H]).toString(2),7):(j+=a((127&M[H]).toString(2),7),L.push(new String(parseInt(j,2))),j="");var Y=c.join(".");return L.length>0&&(Y=Y+"."+L.join(".")),Y},kt.dump=function(l,a,c,d){var h=kt,b=h.getV,M=h.dump,H=h.getChildIdx,L=l;l instanceof N.asn1.ASN1Object&&(L=l.getEncodedHex());var j=function(St,Xt){return St.length<=2*Xt?St:St.substr(0,Xt)+"..(total "+St.length/2+"bytes).."+St.substr(St.length-Xt,Xt)};void 0===a&&(a={ommit_long_octet:32}),void 0===c&&(c=0),void 0===d&&(d="");var Y,W=a.ommit_long_octet;if("01"==(Y=L.substr(c,2)))return"00"==(rt=b(L,c))?d+"BOOLEAN FALSE\n":d+"BOOLEAN TRUE\n";if("02"==Y)return d+"INTEGER "+j(rt=b(L,c),W)+"\n";if("03"==Y){var rt=b(L,c);return h.isASN1HEX(rt.substr(2))?(at=d+"BITSTRING, encapsulates\n")+M(rt.substr(2),a,0,d+"  "):d+"BITSTRING "+j(rt,W)+"\n"}if("04"==Y)return rt=b(L,c),h.isASN1HEX(rt)?(at=d+"OCTETSTRING, encapsulates\n",at+=M(rt,a,0,d+"  ")):d+"OCTETSTRING "+j(rt,W)+"\n";if("05"==Y)return d+"NULL\n";if("06"==Y){var ft=b(L,c),_t=N.asn1.ASN1Util.oidHexToInt(ft),vt=N.asn1.x509.OID.oid2name(_t),F=_t.replace(/\./g," ");return""!=vt?d+"ObjectIdentifier "+vt+" ("+F+")\n":d+"ObjectIdentifier ("+F+")\n"}if("0a"==Y)return d+"ENUMERATED "+parseInt(b(L,c))+"\n";if("0c"==Y)return d+"UTF8String '"+ke(b(L,c))+"'\n";if("13"==Y)return d+"PrintableString '"+ke(b(L,c))+"'\n";if("14"==Y)return d+"TeletexString '"+ke(b(L,c))+"'\n";if("16"==Y)return d+"IA5String '"+ke(b(L,c))+"'\n";if("17"==Y)return d+"UTCTime "+ke(b(L,c))+"\n";if("18"==Y)return d+"GeneralizedTime "+ke(b(L,c))+"\n";if("1a"==Y)return d+"VisualString '"+ke(b(L,c))+"'\n";if("1e"==Y)return d+"BMPString '"+ke(b(L,c))+"'\n";if("30"==Y){if("3000"==L.substr(c,4))return d+"SEQUENCE {}\n";at=d+"SEQUENCE\n";var $=a;if((2==(pt=H(L,c)).length||3==pt.length)&&"06"==L.substr(pt[0],2)&&"04"==L.substr(pt[pt.length-1],2)){vt=h.oidname(b(L,pt[0]));var tt=JSON.parse(JSON.stringify(a));tt.x509ExtName=vt,$=tt}for(var nt=0;nt<pt.length;nt++)at+=M(L,$,pt[nt],d+"  ");return at}if("31"==Y){at=d+"SET\n";var pt=H(L,c);for(nt=0;nt<pt.length;nt++)at+=M(L,a,pt[nt],d+"  ");return at}if(128&(Y=parseInt(Y,16))){var at,yt=31&Y;if(32&Y){for(at=d+"["+yt+"]\n",pt=H(L,c),nt=0;nt<pt.length;nt++)at+=M(L,a,pt[nt],d+"  ");return at}return rt=b(L,c),kt.isASN1HEX(rt)?(at=d+"["+yt+"]\n")+M(rt,a,0,d+"  "):(("68747470"==rt.substr(0,8)||"subjectAltName"===a.x509ExtName&&2==yt)&&(rt=ke(rt)),d+"["+yt+"] "+rt+"\n")}return d+"UNKNOWN("+Y+") "+b(L,c)+"\n"},kt.isContextTag=function(l,a){var c,d;l=l.toLowerCase();try{c=parseInt(l,16)}catch{return-1}if(void 0===a)return 128==(192&c);try{return null!=a.match(/^\[[0-9]+\]$/)&&!((d=parseInt(a.substr(1,a.length-1),10))>31)&&128==(192&c)&&(31&c)==d}catch{return!1}},kt.isASN1HEX=function(l){var a=kt;if(l.length%2==1)return!1;var c=a.getVblen(l,0),d=l.substr(0,2),h=a.getL(l,0);return l.length-d.length-h.length==2*c},kt.checkStrictDER=function(l,a,c,d,h){var b=kt;if(void 0===c){if("string"!=typeof l)throw new Error("not hex string");if(l=l.toLowerCase(),!N.lang.String.isHex(l))throw new Error("not hex string");c=l.length,h=(d=l.length/2)<128?1:Math.ceil(d.toString(16))+1}if(b.getL(l,a).length>2*h)throw new Error("L of TLV too long: idx="+a);var M=b.getVblen(l,a);if(M>d)throw new Error("value of L too long than hex: idx="+a);var H=b.getTLV(l,a),L=H.length-2-b.getL(l,a).length;if(L!==2*M)throw new Error("V string length and L's value not the same:"+L+"/"+2*M);if(0===a&&l.length!=H.length)throw new Error("total length and TLV length unmatch:"+l.length+"!="+H.length);var j=l.substr(a,2);if("02"===j){var Y=b.getVidx(l,a);if("00"==l.substr(Y,2)&&l.charCodeAt(Y+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(j,16)){for(var W=b.getVblen(l,a),rt=0,at=b.getChildIdx(l,a),ft=0;ft<at.length;ft++)rt+=b.getTLV(l,at[ft]).length,b.checkStrictDER(l,at[ft],c,d,h);if(2*W!=rt)throw new Error("sum of children's TLV length and L unmatch: "+2*W+"!="+rt)}},kt.oidname=function(l){var a=N.asn1;N.lang.String.isHex(l)&&(l=a.ASN1Util.oidHexToInt(l));var c=a.x509.OID.oid2name(l);return""===c&&(c=l),c},void 0!==N&&N||(T.KJUR=N={}),void 0!==N.lang&&N.lang||(N.lang={}),N.lang.String=function(){},"function"==typeof r?(T.utf8tob64u=Un=function(a){return Ci(r.from(a,"utf8").toString("base64"))},T.b64utoutf8=tn=function(a){return r.from(Hn(a),"base64").toString("utf8")}):(T.utf8tob64u=Un=function(a){return Te(Ai(Vn(a)))},T.b64utoutf8=tn=function(a){return decodeURIComponent(tr(fe(a)))}),N.lang.String.isInteger=function(l){return!!l.match(/^[0-9]+$/)||!!l.match(/^-[0-9]+$/)},N.lang.String.isHex=function(l){return Ar(l)},N.lang.String.isBase64=function(l){return!(!(l=l.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||l.length%4!=0)},N.lang.String.isBase64URL=function(l){return!l.match(/[+/=]/)&&(l=Hn(l),N.lang.String.isBase64(l))},N.lang.String.isIntegerArray=function(l){return!!(l=l.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},N.lang.String.isPrintable=function(l){return null!==l.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},N.lang.String.isIA5=function(l){return null!==l.match(/^[\x20-\x21\x23-\x7f]*$/)},N.lang.String.isMail=function(l){return null!==l.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var gn=function(a,c,d){return null==d&&(d="0"),a.length>=c?a:new Array(c-a.length+1).join(d)+a};void 0!==N&&N||(T.KJUR=N={}),void 0!==N.crypto&&N.crypto||(N.crypto={}),N.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:J.algo.MD5,sha1:J.algo.SHA1,sha224:J.algo.SHA224,sha256:J.algo.SHA256,sha384:J.algo.SHA384,sha512:J.algo.SHA512,ripemd160:J.algo.RIPEMD160},this.getDigestInfoHex=function(l,a){if(void 0===this.DIGESTINFOHEAD[a])throw"alg not supported in Util.DIGESTINFOHEAD: "+a;return this.DIGESTINFOHEAD[a]+l},this.getPaddedDigestInfoHex=function(l,a,c){var d=this.getDigestInfoHex(l,a),h=c/4;if(d.length+22>h)throw"key is too short for SigAlg: keylen="+c+","+a;for(var b="0001",M="00"+d,H="",L=h-b.length-M.length,j=0;j<L;j+=2)H+="ff";return b+H+M},this.hashString=function(l,a){return new N.crypto.MessageDigest({alg:a}).digestString(l)},this.hashHex=function(l,a){return new N.crypto.MessageDigest({alg:a}).digestHex(l)},this.sha1=function(l){return this.hashString(l,"sha1")},this.sha256=function(l){return this.hashString(l,"sha256")},this.sha256Hex=function(l){return this.hashHex(l,"sha256")},this.sha512=function(l){return this.hashString(l,"sha512")},this.sha512Hex=function(l){return this.hashHex(l,"sha512")},this.isKey=function(l){return l instanceof jt||l instanceof N.crypto.DSA||l instanceof N.crypto.ECDSA}},N.crypto.Util.md5=function(l){return new N.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(l)},N.crypto.Util.ripemd160=function(l){return new N.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(l)},N.crypto.Util.SECURERANDOMGEN=new Be,N.crypto.Util.getRandomHexOfNbytes=function(l){var a=new Array(l);return N.crypto.Util.SECURERANDOMGEN.nextBytes(a),ii(a)},N.crypto.Util.getRandomBigIntegerOfNbytes=function(l){return new q(N.crypto.Util.getRandomHexOfNbytes(l),16)},N.crypto.Util.getRandomHexOfNbits=function(l){var a=l%8,c=new Array((l-a)/8+1);return N.crypto.Util.SECURERANDOMGEN.nextBytes(c),c[0]=(255<<a&255^255)&c[0],ii(c)},N.crypto.Util.getRandomBigIntegerOfNbits=function(l){return new q(N.crypto.Util.getRandomHexOfNbits(l),16)},N.crypto.Util.getRandomBigIntegerZeroToMax=function(l){for(var a=l.bitLength();;){var c=N.crypto.Util.getRandomBigIntegerOfNbits(a);if(-1!=l.compareTo(c))return c}},N.crypto.Util.getRandomBigIntegerMinToMax=function(l,a){var c=l.compareTo(a);if(1==c)throw"biMin is greater than biMax";if(0==c)return l;var d=a.subtract(l);return N.crypto.Util.getRandomBigIntegerZeroToMax(d).add(l)},N.crypto.MessageDigest=function(l){this.setAlgAndProvider=function(a,c){if(null!==(a=N.crypto.MessageDigest.getCanonicalAlgName(a))&&void 0===c&&(c=N.crypto.Util.DEFAULTPROVIDER[a]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(a)&&"cryptojs"==c){try{this.md=N.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[a].create()}catch(d){throw"setAlgAndProvider hash alg set fail alg="+a+"/"+d}this.updateString=function(d){this.md.update(d)},this.updateHex=function(d){var h=J.enc.Hex.parse(d);this.md.update(h)},this.digest=function(){return this.md.finalize().toString(J.enc.Hex)},this.digestString=function(d){return this.updateString(d),this.digest()},this.digestHex=function(d){return this.updateHex(d),this.digest()}}if(-1!=":sha256:".indexOf(a)&&"sjcl"==c){try{this.md=new sjcl.hash.sha256}catch(d){throw"setAlgAndProvider hash alg set fail alg="+a+"/"+d}this.updateString=function(d){this.md.update(d)},this.updateHex=function(d){var h=sjcl.codec.hex.toBits(d);this.md.update(h)},this.digest=function(){var d=this.md.finalize();return sjcl.codec.hex.fromBits(d)},this.digestString=function(d){return this.updateString(d),this.digest()},this.digestHex=function(d){return this.updateHex(d),this.digest()}}},this.updateString=function(a){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(a){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(a){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(a){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==l&&void 0!==l.alg&&(this.algName=l.alg,void 0===l.prov&&(this.provName=N.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},N.crypto.MessageDigest.getCanonicalAlgName=function(l){return"string"==typeof l&&(l=(l=l.toLowerCase()).replace(/-/,"")),l},N.crypto.MessageDigest.getHashLength=function(l){var a=N.crypto.MessageDigest,c=a.getCanonicalAlgName(l);if(void 0===a.HASHLENGTH[c])throw"not supported algorithm: "+l;return a.HASHLENGTH[c]},N.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},N.crypto.Mac=function(l){this.setAlgAndProvider=function(a,c){if(null==(a=a.toLowerCase())&&(a="hmacsha1"),"hmac"!=(a=a.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+a;void 0===c&&(c=N.crypto.Util.DEFAULTPROVIDER[a]),this.algProv=a+"/"+c;var d=a.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(d)&&"cryptojs"==c){try{this.mac=J.algo.HMAC.create(N.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[d],this.pass)}catch(b){throw"setAlgAndProvider hash alg set fail hashAlg="+d+"/"+b}this.updateString=function(b){this.mac.update(b)},this.updateHex=function(b){var M=J.enc.Hex.parse(b);this.mac.update(M)},this.doFinal=function(){return this.mac.finalize().toString(J.enc.Hex)},this.doFinalString=function(b){return this.updateString(b),this.doFinal()},this.doFinalHex=function(b){return this.updateHex(b),this.doFinal()}}},this.updateString=function(a){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(a){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(a){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(a){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(a){if("string"==typeof a){var c=a;return a.length%2!=1&&a.match(/^[0-9A-Fa-f]+$/)||(c=Tn(a)),void(this.pass=J.enc.Hex.parse(c))}if("object"!=(void 0===a?"undefined":C(a)))throw"KJUR.crypto.Mac unsupported password type: "+a;if(c=null,void 0!==a.hex){if(a.hex.length%2!=0||!a.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+a.hex;c=a.hex}if(void 0!==a.utf8&&(c=Fn(a.utf8)),void 0!==a.rstr&&(c=Tn(a.rstr)),void 0!==a.b64&&(c=ct(a.b64)),void 0!==a.b64u&&(c=fe(a.b64u)),null==c)throw"KJUR.crypto.Mac unsupported password type: "+a;this.pass=J.enc.Hex.parse(c)},void 0!==l&&(void 0!==l.pass&&this.setPassword(l.pass),void 0!==l.alg&&(this.algName=l.alg,void 0===l.prov&&(this.provName=N.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},N.crypto.Signature=function(l){var a=null;if(this._setAlgNames=function(){var c=this.algName.match(/^(.+)with(.+)$/);c&&(this.mdAlgName=c[1].toLowerCase(),this.pubkeyAlgName=c[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(c,d){for(var h="",b=d/4-c.length,M=0;M<b;M++)h+="0";return h+c},this.setAlgAndProvider=function(c,d){if(this._setAlgNames(),"cryptojs/jsrsa"!=d)throw new Error("provider not supported: "+d);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new N.crypto.MessageDigest({alg:this.mdAlgName})}catch(h){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+h)}this.init=function(h,b){var M=null;try{M=void 0===b?be.getKey(h):be.getKey(h,b)}catch(H){throw"init failed:"+H}if(!0===M.isPrivate)this.prvKey=M,this.state="SIGN";else{if(!0!==M.isPublic)throw"init failed.:"+M;this.pubKey=M,this.state="VERIFY"}},this.updateString=function(h){this.md.updateString(h)},this.updateHex=function(h){this.md.updateHex(h)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==N.crypto.ECDSA&&(this.prvKey=new N.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof jt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof jt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof N.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof N.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(h){return this.updateString(h),this.sign()},this.signHex=function(h){return this.updateHex(h),this.sign()},this.verify=function(h){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==N.crypto.ECDSA&&(this.pubKey=new N.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof jt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,h,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof jt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,h);if(void 0!==N.crypto.ECDSA&&this.pubKey instanceof N.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,h);if(void 0!==N.crypto.DSA&&this.pubKey instanceof N.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,h);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(c,d){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(c){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(c){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(c){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(c){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(c){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=l,void 0!==l&&(void 0!==l.alg&&(this.algName=l.alg,this.provName=void 0===l.prov?N.crypto.Util.DEFAULTPROVIDER[this.algName]:l.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==l.psssaltlen&&(this.pssSaltLen=l.psssaltlen),void 0!==l.prvkeypem)){if(void 0!==l.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{a=be.getKey(l.prvkeypem),this.init(a)}catch(c){throw"fatal error to load pem private key: "+c}}},N.crypto.Cipher=function(l){},N.crypto.Cipher.encrypt=function(l,a,c){if(a instanceof jt&&a.isPublic){var d=N.crypto.Cipher.getAlgByKeyAndName(a,c);if("RSA"===d)return a.encrypt(l);if("RSAOAEP"===d)return a.encryptOAEP(l,"sha1");var h=d.match(/^RSAOAEP(\d+)$/);if(null!==h)return a.encryptOAEP(l,"sha"+h[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+c}throw"Cipher.encrypt: unsupported key or algorithm"},N.crypto.Cipher.decrypt=function(l,a,c){if(a instanceof jt&&a.isPrivate){var d=N.crypto.Cipher.getAlgByKeyAndName(a,c);if("RSA"===d)return a.decrypt(l);if("RSAOAEP"===d)return a.decryptOAEP(l,"sha1");var h=d.match(/^RSAOAEP(\d+)$/);if(null!==h)return a.decryptOAEP(l,"sha"+h[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+c}throw"Cipher.decrypt: unsupported key or algorithm"},N.crypto.Cipher.getAlgByKeyAndName=function(l,a){if(l instanceof jt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(a))return a;if(null==a)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+a}throw"getAlgByKeyAndName: not supported algorithm name: "+a},N.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==N&&N||(T.KJUR=N={}),void 0!==N.crypto&&N.crypto||(N.crypto={}),N.crypto.ECDSA=function(l){var a=Error,c=q,d=ie,h=N.crypto.ECDSA,b=N.crypto.ECParameterDB,M=h.getName,L=kt.getVbyListEx,j=kt.isASN1HEX,Y=new Be;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(W){return new c(W.bitLength(),Y).mod(W.subtract(c.ONE)).add(c.ONE)},this.setNamedCurve=function(W){this.ecparams=b.getByName(W),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=W},this.setPrivateKeyHex=function(W){this.isPrivate=!0,this.prvKeyHex=W},this.setPublicKeyHex=function(W){this.isPublic=!0,this.pubKeyHex=W},this.getPublicKeyXYHex=function(){var W=this.pubKeyHex;if("04"!==W.substr(0,2))throw"this method supports uncompressed format(04) only";var rt=this.ecparams.keylen/4;if(W.length!==2+2*rt)throw"malformed public key hex length";var at={};return at.x=W.substr(2,rt),at.y=W.substr(2+rt),at},this.getShortNISTPCurveName=function(){var W=this.curveName;return"secp256r1"===W||"NIST P-256"===W||"P-256"===W||"prime256v1"===W?"P-256":"secp384r1"===W||"NIST P-384"===W||"P-384"===W?"P-384":null},this.generateKeyPairHex=function(){var rt=this.getBigRandom(this.ecparams.n),at=this.ecparams.G.multiply(rt),ft=at.getX().toBigInteger(),_t=at.getY().toBigInteger(),vt=this.ecparams.keylen/4,F=("0000000000"+rt.toString(16)).slice(-vt),$="04"+("0000000000"+ft.toString(16)).slice(-vt)+("0000000000"+_t.toString(16)).slice(-vt);return this.setPrivateKeyHex(F),this.setPublicKeyHex($),{ecprvhex:F,ecpubhex:$}},this.signWithMessageHash=function(W){return this.signHex(W,this.prvKeyHex)},this.signHex=function(W,rt){var at=new c(rt,16),ft=this.ecparams.n,_t=new c(W.substring(0,this.ecparams.keylen/4),16);do{var vt=this.getBigRandom(ft),F=this.ecparams.G.multiply(vt).getX().toBigInteger().mod(ft)}while(F.compareTo(c.ZERO)<=0);var $=vt.modInverse(ft).multiply(_t.add(at.multiply(F))).mod(ft);return h.biRSSigToASN1Sig(F,$)},this.sign=function(W,rt){var at=rt,ft=this.ecparams.n,_t=c.fromByteArrayUnsigned(W);do{var vt=this.getBigRandom(ft),F=this.ecparams.G.multiply(vt).getX().toBigInteger().mod(ft)}while(F.compareTo(q.ZERO)<=0);var $=vt.modInverse(ft).multiply(_t.add(at.multiply(F))).mod(ft);return this.serializeSig(F,$)},this.verifyWithMessageHash=function(W,rt){return this.verifyHex(W,rt,this.pubKeyHex)},this.verifyHex=function(W,rt,at){try{var ft,_t,vt=h.parseSigHex(rt);ft=vt.r,_t=vt.s;var F=d.decodeFromHex(this.ecparams.curve,at),$=new c(W.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw($,ft,_t,F)}catch{return!1}},this.verify=function(W,rt,at){var ft,_t,vt;if(Bitcoin.Util.isArray(rt)){var F=this.parseSig(rt);ft=F.r,_t=F.s}else{if("object"!==(void 0===rt?"undefined":C(rt))||!rt.r||!rt.s)throw"Invalid value for signature";ft=rt.r,_t=rt.s}if(at instanceof ie)vt=at;else{if(!Bitcoin.Util.isArray(at))throw"Invalid format for pubkey value, must be byte array or ECPointFp";vt=d.decodeFrom(this.ecparams.curve,at)}var $=c.fromByteArrayUnsigned(W);return this.verifyRaw($,ft,_t,vt)},this.verifyRaw=function(W,rt,at,ft){var _t=this.ecparams.n,vt=this.ecparams.G;if(rt.compareTo(c.ONE)<0||rt.compareTo(_t)>=0||at.compareTo(c.ONE)<0||at.compareTo(_t)>=0)return!1;var F=at.modInverse(_t),$=W.multiply(F).mod(_t),tt=rt.multiply(F).mod(_t);return vt.multiply($).add(ft.multiply(tt)).getX().toBigInteger().mod(_t).equals(rt)},this.serializeSig=function(W,rt){var at=W.toByteArraySigned(),ft=rt.toByteArraySigned(),_t=[];return _t.push(2),_t.push(at.length),(_t=_t.concat(at)).push(2),_t.push(ft.length),(_t=_t.concat(ft)).unshift(_t.length),_t.unshift(48),_t},this.parseSig=function(W){var rt;if(48!=W[0])throw new Error("Signature not a valid DERSequence");if(2!=W[rt=2])throw new Error("First element in signature must be a DERInteger");var at=W.slice(rt+2,rt+2+W[rt+1]);if(2!=W[rt+=2+W[rt+1]])throw new Error("Second element in signature must be a DERInteger");var ft=W.slice(rt+2,rt+2+W[rt+1]);return rt+=2+W[rt+1],{r:c.fromByteArrayUnsigned(at),s:c.fromByteArrayUnsigned(ft)}},this.parseSigCompact=function(W){if(65!==W.length)throw"Signature has the wrong length";var rt=W[0]-27;if(rt<0||rt>7)throw"Invalid signature type";var at=this.ecparams.n;return{r:c.fromByteArrayUnsigned(W.slice(1,33)).mod(at),s:c.fromByteArrayUnsigned(W.slice(33,65)).mod(at),i:rt}},this.readPKCS5PrvKeyHex=function(W){if(!1===j(W))throw new Error("not ASN.1 hex string");var rt,at,ft;try{rt=L(W,0,["[0]",0],"06"),at=L(W,0,[1],"04");try{ft=L(W,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=M(rt),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ft),this.setPrivateKeyHex(at),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(W){if(!1===j(W))throw new a("not ASN.1 hex string");var rt,at,ft;try{L(W,0,[1,0],"06"),rt=L(W,0,[1,1],"06"),at=L(W,0,[2,0,1],"04");try{ft=L(W,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new a("malformed PKCS#8 plain ECC private key")}if(this.curveName=M(rt),void 0===this.curveName)throw new a("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ft),this.setPrivateKeyHex(at),this.isPublic=!1},this.readPKCS8PubKeyHex=function(W){if(!1===j(W))throw new a("not ASN.1 hex string");var rt,at;try{L(W,0,[0,0],"06"),rt=L(W,0,[0,1],"06"),at=L(W,0,[1],"03")}catch{throw new a("malformed PKCS#8 ECC public key")}if(this.curveName=M(rt),null===this.curveName)throw new a("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(at)},this.readCertPubKeyHex=function(W,rt){if(!1===j(W))throw new a("not ASN.1 hex string");var at,ft;try{at=L(W,0,[0,5,0,1],"06"),ft=L(W,0,[0,5,1],"03")}catch{throw new a("malformed X.509 certificate ECC public key")}if(this.curveName=M(at),null===this.curveName)throw new a("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ft)},void 0!==l&&void 0!==l.curve&&(this.curveName=l.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==l&&(void 0!==l.prv&&this.setPrivateKeyHex(l.prv),void 0!==l.pub&&this.setPublicKeyHex(l.pub))},N.crypto.ECDSA.parseSigHex=function(l){var a=N.crypto.ECDSA.parseSigHexInHexRS(l);return{r:new q(a.r,16),s:new q(a.s,16)}},N.crypto.ECDSA.parseSigHexInHexRS=function(l){var c=kt.getChildIdx,d=kt.getV;if(kt.checkStrictDER(l,0),"30"!=l.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var h=c(l,0);if(2!=h.length)throw new Error("signature shall have two elements");var b=h[0],M=h[1];if("02"!=l.substr(b,2))throw new Error("1st item not ASN.1 integer");if("02"!=l.substr(M,2))throw new Error("2nd item not ASN.1 integer");return{r:d(l,b),s:d(l,M)}},N.crypto.ECDSA.asn1SigToConcatSig=function(l){var a=N.crypto.ECDSA.parseSigHexInHexRS(l),c=a.r,d=a.s;if("00"==c.substr(0,2)&&c.length%32==2&&(c=c.substr(2)),"00"==d.substr(0,2)&&d.length%32==2&&(d=d.substr(2)),c.length%32==30&&(c="00"+c),d.length%32==30&&(d="00"+d),c.length%32!=0)throw"unknown ECDSA sig r length error";if(d.length%32!=0)throw"unknown ECDSA sig s length error";return c+d},N.crypto.ECDSA.concatSigToASN1Sig=function(l){if(l.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var a=l.substr(0,l.length/2),c=l.substr(l.length/2);return N.crypto.ECDSA.hexRSSigToASN1Sig(a,c)},N.crypto.ECDSA.hexRSSigToASN1Sig=function(l,a){var c=new q(l,16),d=new q(a,16);return N.crypto.ECDSA.biRSSigToASN1Sig(c,d)},N.crypto.ECDSA.biRSSigToASN1Sig=function(l,a){var c=N.asn1,d=new c.DERInteger({bigint:l}),h=new c.DERInteger({bigint:a});return new c.DERSequence({array:[d,h]}).getEncodedHex()},N.crypto.ECDSA.getName=function(l){return"2b8104001f"===l?"secp192k1":"2a8648ce3d030107"===l?"secp256r1":"2b8104000a"===l?"secp256k1":"2b81040021"===l?"secp224r1":"2b81040022"===l?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(l)?"secp256r1":-1!=="|secp256k1|".indexOf(l)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(l)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(l)?"secp384r1":null},void 0!==N&&N||(T.KJUR=N={}),void 0!==N.crypto&&N.crypto||(N.crypto={}),N.crypto.ECParameterDB=new function(){var l={},a={};function c(d){return new q(d,16)}this.getByName=function(d){var h=d;if(void 0!==a[h]&&(h=a[d]),void 0!==l[h])return l[h];throw"unregistered EC curve name: "+h},this.regist=function(d,h,b,M,H,L,j,Y,W,rt,at,ft){l[d]={};var _t=c(b),vt=c(M),F=c(H),$=c(L),tt=c(j),nt=new pn(_t,vt,F),pt=nt.decodePointHex("04"+Y+W);l[d].name=d,l[d].keylen=h,l[d].curve=nt,l[d].G=pt,l[d].n=$,l[d].h=tt,l[d].oid=at,l[d].info=ft;for(var yt=0;yt<rt.length;yt++)a[rt[yt]]=d}},N.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),N.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),N.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),N.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),N.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),N.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),N.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),N.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),N.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),N.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var be=function(){var l=function(j,Y,W){return a(J.AES,j,Y,W)},a=function(j,Y,W,rt){var at=J.enc.Hex.parse(Y),ft=J.enc.Hex.parse(W),_t=J.enc.Hex.parse(rt),vt={};vt.key=ft,vt.iv=_t,vt.ciphertext=at;var F=j.decrypt(vt,ft,{iv:_t});return J.enc.Hex.stringify(F)},c=function(j,Y,W){return d(J.AES,j,Y,W)},d=function(j,Y,W,rt){var at=J.enc.Hex.parse(Y),ft=J.enc.Hex.parse(W),_t=J.enc.Hex.parse(rt),vt=j.encrypt(at,ft,{iv:_t}),F=J.enc.Hex.parse(vt.toString());return J.enc.Base64.stringify(F)},h={"AES-256-CBC":{proc:l,eproc:c,keylen:32,ivlen:16},"AES-192-CBC":{proc:l,eproc:c,keylen:24,ivlen:16},"AES-128-CBC":{proc:l,eproc:c,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(j,Y,W){return a(J.TripleDES,j,Y,W)},eproc:function(j,Y,W){return d(J.TripleDES,j,Y,W)},keylen:24,ivlen:8},"DES-CBC":{proc:function(j,Y,W){return a(J.DES,j,Y,W)},eproc:function(j,Y,W){return d(J.DES,j,Y,W)},keylen:8,ivlen:8}},b=function(j){var Y={},W=j.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));W&&(Y.cipher=W[1],Y.ivsalt=W[2]);var rt=j.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));rt&&(Y.type=rt[1]);var at=-1,ft=0;-1!=j.indexOf("\r\n\r\n")&&(at=j.indexOf("\r\n\r\n"),ft=2),-1!=j.indexOf("\n\n")&&(at=j.indexOf("\n\n"),ft=1);var _t=j.indexOf("-----END");if(-1!=at&&-1!=_t){var vt=j.substring(at+2*ft,_t-ft);vt=vt.replace(/\s+/g,""),Y.data=vt}return Y},M=function(j,Y,W){for(var rt=W.substring(0,16),at=J.enc.Hex.parse(rt),ft=J.enc.Utf8.parse(Y),_t=h[j].keylen+h[j].ivlen,vt="",F=null;;){var $=J.algo.MD5.create();if(null!=F&&$.update(F),$.update(ft),$.update(at),F=$.finalize(),(vt+=J.enc.Hex.stringify(F)).length>=2*_t)break}var tt={};return tt.keyhex=vt.substr(0,2*h[j].keylen),tt.ivhex=vt.substr(2*h[j].keylen,2*h[j].ivlen),tt},H=function(j,Y,W,rt){var at=J.enc.Base64.parse(j),ft=J.enc.Hex.stringify(at);return(0,h[Y].proc)(ft,W,rt)};return{version:"1.0.0",parsePKCS5PEM:function(j){return b(j)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(j,Y,W){return M(j,Y,W)},decryptKeyB64:function(j,Y,W,rt){return H(j,Y,W,rt)},getDecryptedKeyHex:function(j,Y){var W=b(j),rt=W.cipher,at=W.ivsalt,ft=W.data,_t=M(rt,Y,at).keyhex;return H(ft,rt,_t,at)},getEncryptedPKCS5PEMFromPrvKeyHex:function(j,Y,W,rt,at){var F,$,ft="";if(void 0!==rt&&null!=rt||(rt="AES-256-CBC"),void 0===h[rt])throw"KEYUTIL unsupported algorithm: "+rt;void 0!==at&&null!=at||(at=(F=h[rt].ivlen,$=J.lib.WordArray.random(F),J.enc.Hex.stringify($)).toUpperCase());var _t=function(F,$,tt,nt){return(0,h[$].eproc)(F,tt,nt)}(Y,rt,M(rt,W,at).keyhex,at);return ft="-----BEGIN "+j+" PRIVATE KEY-----\r\n",ft+="Proc-Type: 4,ENCRYPTED\r\n",ft+="DEK-Info: "+rt+","+at+"\r\n",ft+="\r\n",(ft+=_t.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+j+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(j){var W=kt.getChildIdx,rt=kt.getV,at={},ft=W(j,0);if(2!=ft.length)throw"malformed format: SEQUENCE(0).items != 2: "+ft.length;at.ciphertext=rt(j,ft[1]);var _t=W(j,ft[0]);if(2!=_t.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+_t.length;if("2a864886f70d01050d"!=rt(j,_t[0]))throw"this only supports pkcs5PBES2";var vt=W(j,_t[1]);if(2!=_t.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+vt.length;var F=W(j,vt[1]);if(2!=F.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+F.length;if("2a864886f70d0307"!=rt(j,F[0]))throw"this only supports TripleDES";at.encryptionSchemeAlg="TripleDES",at.encryptionSchemeIV=rt(j,F[1]);var $=W(j,vt[0]);if(2!=$.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+$.length;if("2a864886f70d01050c"!=rt(j,$[0]))throw"this only supports pkcs5PBKDF2";var tt=W(j,$[1]);if(tt.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+tt.length;at.pbkdf2Salt=rt(j,tt[0]);var nt=rt(j,tt[1]);try{at.pbkdf2Iter=parseInt(nt,16)}catch{throw"malformed format pbkdf2Iter: "+nt}return at},getPBKDF2KeyHexFromParam:function(j,Y){var W=J.enc.Hex.parse(j.pbkdf2Salt),at=J.PBKDF2(Y,W,{keySize:6,iterations:j.pbkdf2Iter});return J.enc.Hex.stringify(at)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(j,Y){var W=cn(j,"ENCRYPTED PRIVATE KEY"),rt=this.parseHexOfEncryptedPKCS8(W),at=be.getPBKDF2KeyHexFromParam(rt,Y),ft={};ft.ciphertext=J.enc.Hex.parse(rt.ciphertext);var _t=J.enc.Hex.parse(at),vt=J.enc.Hex.parse(rt.encryptionSchemeIV),F=J.TripleDES.decrypt(ft,_t,{iv:vt});return J.enc.Hex.stringify(F)},getKeyFromEncryptedPKCS8PEM:function(j,Y){var W=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(j,Y);return this.getKeyFromPlainPrivatePKCS8Hex(W)},parsePlainPrivatePKCS8Hex:function(j){var Y=kt,W=Y.getChildIdx,rt=Y.getV,at={algparam:null};if("30"!=j.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var ft=W(j,0);if(3!=ft.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=j.substr(ft[1],2))throw"malformed PKCS8 private key(code:003)";var _t=W(j,ft[1]);if(2!=_t.length)throw"malformed PKCS8 private key(code:004)";if("06"!=j.substr(_t[0],2))throw"malformed PKCS8 private key(code:005)";if(at.algoid=rt(j,_t[0]),"06"==j.substr(_t[1],2)&&(at.algparam=rt(j,_t[1])),"04"!=j.substr(ft[2],2))throw"malformed PKCS8 private key(code:006)";return at.keyidx=Y.getVidx(j,ft[2]),at},getKeyFromPlainPrivatePKCS8PEM:function(j){var Y=cn(j,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Y)},getKeyFromPlainPrivatePKCS8Hex:function(j){var Y,W=this.parsePlainPrivatePKCS8Hex(j);if("2a864886f70d010101"==W.algoid)Y=new jt;else if("2a8648ce380401"==W.algoid)Y=new N.crypto.DSA;else{if("2a8648ce3d0201"!=W.algoid)throw"unsupported private key algorithm";Y=new N.crypto.ECDSA}return Y.readPKCS8PrvKeyHex(j),Y},_getKeyFromPublicPKCS8Hex:function(j){var Y,W=kt.getVbyList(j,0,[0,0],"06");if("2a864886f70d010101"===W)Y=new jt;else if("2a8648ce380401"===W)Y=new N.crypto.DSA;else{if("2a8648ce3d0201"!==W)throw"unsupported PKCS#8 public key hex";Y=new N.crypto.ECDSA}return Y.readPKCS8PubKeyHex(j),Y},parsePublicRawRSAKeyHex:function(j){var W=kt.getChildIdx,rt=kt.getV,at={};if("30"!=j.substr(0,2))throw"malformed RSA key(code:001)";var ft=W(j,0);if(2!=ft.length)throw"malformed RSA key(code:002)";if("02"!=j.substr(ft[0],2))throw"malformed RSA key(code:003)";if(at.n=rt(j,ft[0]),"02"!=j.substr(ft[1],2))throw"malformed RSA key(code:004)";return at.e=rt(j,ft[1]),at},parsePublicPKCS8Hex:function(j){var Y=kt,W=Y.getChildIdx,rt=Y.getV,at={algparam:null},ft=W(j,0);if(2!=ft.length)throw"outer DERSequence shall have 2 elements: "+ft.length;var _t=ft[0];if("30"!=j.substr(_t,2))throw"malformed PKCS8 public key(code:001)";var vt=W(j,_t);if(2!=vt.length)throw"malformed PKCS8 public key(code:002)";if("06"!=j.substr(vt[0],2))throw"malformed PKCS8 public key(code:003)";if(at.algoid=rt(j,vt[0]),"06"==j.substr(vt[1],2)?at.algparam=rt(j,vt[1]):"30"==j.substr(vt[1],2)&&(at.algparam={},at.algparam.p=Y.getVbyList(j,vt[1],[0],"02"),at.algparam.q=Y.getVbyList(j,vt[1],[1],"02"),at.algparam.g=Y.getVbyList(j,vt[1],[2],"02")),"03"!=j.substr(ft[1],2))throw"malformed PKCS8 public key(code:004)";return at.key=rt(j,ft[1]).substr(2),at}}}();be.getKey=function(l,a,c){var pe,d=(vt=kt).getChildIdx,h=vt.getVbyList,b=N.crypto,M=b.ECDSA,H=b.DSA,L=jt,j=cn,Y=be;if(void 0!==L&&l instanceof L||void 0!==M&&l instanceof M||void 0!==H&&l instanceof H)return l;if(void 0!==l.curve&&void 0!==l.xy&&void 0===l.d)return new M({pub:l.xy,curve:l.curve});if(void 0!==l.curve&&void 0!==l.d)return new M({prv:l.d,curve:l.curve});if(void 0===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0===l.d)return(Vt=new L).setPublic(l.n,l.e),Vt;if(void 0===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0!==l.d&&void 0!==l.p&&void 0!==l.q&&void 0!==l.dp&&void 0!==l.dq&&void 0!==l.co&&void 0===l.qi)return(Vt=new L).setPrivateEx(l.n,l.e,l.d,l.p,l.q,l.dp,l.dq,l.co),Vt;if(void 0===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0!==l.d&&void 0===l.p)return(Vt=new L).setPrivate(l.n,l.e,l.d),Vt;if(void 0!==l.p&&void 0!==l.q&&void 0!==l.g&&void 0!==l.y&&void 0===l.x)return(Vt=new H).setPublic(l.p,l.q,l.g,l.y),Vt;if(void 0!==l.p&&void 0!==l.q&&void 0!==l.g&&void 0!==l.y&&void 0!==l.x)return(Vt=new H).setPrivate(l.p,l.q,l.g,l.y,l.x),Vt;if("RSA"===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0===l.d)return(Vt=new L).setPublic(fe(l.n),fe(l.e)),Vt;if("RSA"===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0!==l.d&&void 0!==l.p&&void 0!==l.q&&void 0!==l.dp&&void 0!==l.dq&&void 0!==l.qi)return(Vt=new L).setPrivateEx(fe(l.n),fe(l.e),fe(l.d),fe(l.p),fe(l.q),fe(l.dp),fe(l.dq),fe(l.qi)),Vt;if("RSA"===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0!==l.d)return(Vt=new L).setPrivate(fe(l.n),fe(l.e),fe(l.d)),Vt;if("EC"===l.kty&&void 0!==l.crv&&void 0!==l.x&&void 0!==l.y&&void 0===l.d){var W=(Pt=new M({curve:l.crv})).ecparams.keylen/4,rt="04"+("0000000000"+fe(l.x)).slice(-W)+("0000000000"+fe(l.y)).slice(-W);return Pt.setPublicKeyHex(rt),Pt}if("EC"===l.kty&&void 0!==l.crv&&void 0!==l.x&&void 0!==l.y&&void 0!==l.d){W=(Pt=new M({curve:l.crv})).ecparams.keylen/4,rt="04"+("0000000000"+fe(l.x)).slice(-W)+("0000000000"+fe(l.y)).slice(-W);var at=("0000000000"+fe(l.d)).slice(-W);return Pt.setPublicKeyHex(rt),Pt.setPrivateKeyHex(at),Pt}if("pkcs5prv"===c){var ft,_t=l,vt=kt;if(9===(ft=d(_t,0)).length)(Vt=new L).readPKCS5PrvKeyHex(_t);else if(6===ft.length)(Vt=new H).readPKCS5PrvKeyHex(_t);else{if(!(ft.length>2&&"04"===_t.substr(ft[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(Vt=new M).readPKCS5PrvKeyHex(_t)}return Vt}if("pkcs8prv"===c)return Y.getKeyFromPlainPrivatePKCS8Hex(l);if("pkcs8pub"===c)return Y._getKeyFromPublicPKCS8Hex(l);if("x509pub"===c)return Ce.getPublicKeyFromCertHex(l);if(-1!=l.indexOf("-END CERTIFICATE-",0)||-1!=l.indexOf("-END X509 CERTIFICATE-",0)||-1!=l.indexOf("-END TRUSTED CERTIFICATE-",0))return Ce.getPublicKeyFromCertPEM(l);if(-1!=l.indexOf("-END PUBLIC KEY-")){var F=cn(l,"PUBLIC KEY");return Y._getKeyFromPublicPKCS8Hex(F)}if(-1!=l.indexOf("-END RSA PRIVATE KEY-")&&-1==l.indexOf("4,ENCRYPTED")){var $=j(l,"RSA PRIVATE KEY");return Y.getKey($,null,"pkcs5prv")}if(-1!=l.indexOf("-END DSA PRIVATE KEY-")&&-1==l.indexOf("4,ENCRYPTED")){var tt=h(pe=j(l,"DSA PRIVATE KEY"),0,[1],"02"),nt=h(pe,0,[2],"02"),pt=h(pe,0,[3],"02"),yt=h(pe,0,[4],"02"),Ot=h(pe,0,[5],"02");return(Vt=new H).setPrivate(new q(tt,16),new q(nt,16),new q(pt,16),new q(yt,16),new q(Ot,16)),Vt}if(-1!=l.indexOf("-END EC PRIVATE KEY-")&&-1==l.indexOf("4,ENCRYPTED"))return $=j(l,"EC PRIVATE KEY"),Y.getKey($,null,"pkcs5prv");if(-1!=l.indexOf("-END PRIVATE KEY-"))return Y.getKeyFromPlainPrivatePKCS8PEM(l);if(-1!=l.indexOf("-END RSA PRIVATE KEY-")&&-1!=l.indexOf("4,ENCRYPTED")){var St=Y.getDecryptedKeyHex(l,a),Xt=new jt;return Xt.readPKCS5PrvKeyHex(St),Xt}if(-1!=l.indexOf("-END EC PRIVATE KEY-")&&-1!=l.indexOf("4,ENCRYPTED")){var Pt,Vt=h(pe=Y.getDecryptedKeyHex(l,a),0,[1],"04"),de=h(pe,0,[2,0],"06"),ge=h(pe,0,[3,0],"03").substr(2);if(void 0===N.crypto.OID.oidhex2name[de])throw"undefined OID(hex) in KJUR.crypto.OID: "+de;return(Pt=new M({curve:N.crypto.OID.oidhex2name[de]})).setPublicKeyHex(ge),Pt.setPrivateKeyHex(Vt),Pt.isPublic=!1,Pt}if(-1!=l.indexOf("-END DSA PRIVATE KEY-")&&-1!=l.indexOf("4,ENCRYPTED"))return tt=h(pe=Y.getDecryptedKeyHex(l,a),0,[1],"02"),nt=h(pe,0,[2],"02"),pt=h(pe,0,[3],"02"),yt=h(pe,0,[4],"02"),Ot=h(pe,0,[5],"02"),(Vt=new H).setPrivate(new q(tt,16),new q(nt,16),new q(pt,16),new q(yt,16),new q(Ot,16)),Vt;if(-1!=l.indexOf("-END ENCRYPTED PRIVATE KEY-"))return Y.getKeyFromEncryptedPKCS8PEM(l,a);throw new Error("not supported argument")},be.generateKeypair=function(l,a){if("RSA"==l){var c=a;(M=new jt).generate(c,"10001"),M.isPrivate=!0,M.isPublic=!0;var d=new jt,h=M.n.toString(16),b=M.e.toString(16);return d.setPublic(h,b),d.isPrivate=!1,d.isPublic=!0,(H={}).prvKeyObj=M,H.pubKeyObj=d,H}if("EC"==l){var M,H,L=a,j=new N.crypto.ECDSA({curve:L}).generateKeyPairHex();return(M=new N.crypto.ECDSA({curve:L})).setPublicKeyHex(j.ecpubhex),M.setPrivateKeyHex(j.ecprvhex),M.isPrivate=!0,M.isPublic=!1,(d=new N.crypto.ECDSA({curve:L})).setPublicKeyHex(j.ecpubhex),d.isPrivate=!1,d.isPublic=!0,(H={}).prvKeyObj=M,H.pubKeyObj=d,H}throw"unknown algorithm: "+l},be.getPEM=function(l,a,c,d,h,b){var H=N.asn1,L=H.DERObjectIdentifier,j=H.DERInteger,Y=H.ASN1Util.newObject,rt=N.crypto,at=rt.DSA,ft=rt.ECDSA,_t=jt;function vt(Pt){return Y({seq:[{int:0},{int:{bigint:Pt.n}},{int:Pt.e},{int:{bigint:Pt.d}},{int:{bigint:Pt.p}},{int:{bigint:Pt.q}},{int:{bigint:Pt.dmp1}},{int:{bigint:Pt.dmq1}},{int:{bigint:Pt.coeff}}]})}function F(Pt){return Y({seq:[{int:1},{octstr:{hex:Pt.prvKeyHex}},{tag:["a0",!0,{oid:{name:Pt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Pt.pubKeyHex}}]}]})}function $(Pt){return Y({seq:[{int:0},{int:{bigint:Pt.p}},{int:{bigint:Pt.q}},{int:{bigint:Pt.g}},{int:{bigint:Pt.y}},{int:{bigint:Pt.x}}]})}if((void 0!==_t&&l instanceof _t||void 0!==at&&l instanceof at||void 0!==ft&&l instanceof ft)&&1==l.isPublic&&(void 0===a||"PKCS8PUB"==a))return nn(yt=new(0,H.x509.SubjectPublicKeyInfo)(l).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==a&&void 0!==_t&&l instanceof _t&&(void 0===c||null==c)&&1==l.isPrivate)return nn(yt=vt(l).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==a&&void 0!==ft&&l instanceof ft&&(void 0===c||null==c)&&1==l.isPrivate){var tt=new L({name:l.curveName}).getEncodedHex(),nt=F(l).getEncodedHex(),pt="";return(pt+=nn(tt,"EC PARAMETERS"))+nn(nt,"EC PRIVATE KEY")}if("PKCS1PRV"==a&&void 0!==at&&l instanceof at&&(void 0===c||null==c)&&1==l.isPrivate)return nn(yt=$(l).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==a&&void 0!==_t&&l instanceof _t&&void 0!==c&&null!=c&&1==l.isPrivate){var yt=vt(l).getEncodedHex();return void 0===d&&(d="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",yt,c,d,b)}if("PKCS5PRV"==a&&void 0!==ft&&l instanceof ft&&void 0!==c&&null!=c&&1==l.isPrivate)return yt=F(l).getEncodedHex(),void 0===d&&(d="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",yt,c,d,b);if("PKCS5PRV"==a&&void 0!==at&&l instanceof at&&void 0!==c&&null!=c&&1==l.isPrivate)return yt=$(l).getEncodedHex(),void 0===d&&(d="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",yt,c,d,b);var Ot=function(Vt,de){var ge=St(Vt,de);return new Y({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:ge.pbkdf2Salt}},{int:ge.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:ge.encryptionSchemeIV}}]}]}]},{octstr:{hex:ge.ciphertext}}]}).getEncodedHex()},St=function(Vt,de){var ge=J.lib.WordArray.random(8),pe=J.lib.WordArray.random(8),Ke=J.PBKDF2(de,ge,{keySize:6,iterations:100}),Ue=J.enc.Hex.parse(Vt),xe=J.TripleDES.encrypt(Ue,Ke,{iv:pe})+"",ve={};return ve.ciphertext=xe,ve.pbkdf2Salt=J.enc.Hex.stringify(ge),ve.pbkdf2Iter=100,ve.encryptionSchemeAlg="DES-EDE3-CBC",ve.encryptionSchemeIV=J.enc.Hex.stringify(pe),ve};if("PKCS8PRV"==a&&null!=_t&&l instanceof _t&&1==l.isPrivate){var Xt=vt(l).getEncodedHex();return yt=Y({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Xt}}]}).getEncodedHex(),void 0===c||null==c?nn(yt,"PRIVATE KEY"):nn(nt=Ot(yt,c),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==a&&void 0!==ft&&l instanceof ft&&1==l.isPrivate)return Xt=new Y({seq:[{int:1},{octstr:{hex:l.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+l.pubKeyHex}}]}]}).getEncodedHex(),yt=Y({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:l.curveName}}]},{octstr:{hex:Xt}}]}).getEncodedHex(),void 0===c||null==c?nn(yt,"PRIVATE KEY"):nn(nt=Ot(yt,c),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==a&&void 0!==at&&l instanceof at&&1==l.isPrivate)return Xt=new j({bigint:l.x}).getEncodedHex(),yt=Y({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:l.p}},{int:{bigint:l.q}},{int:{bigint:l.g}}]}]},{octstr:{hex:Xt}}]}).getEncodedHex(),void 0===c||null==c?nn(yt,"PRIVATE KEY"):nn(nt=Ot(yt,c),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},be.getKeyFromCSRPEM=function(l){var a=cn(l,"CERTIFICATE REQUEST");return be.getKeyFromCSRHex(a)},be.getKeyFromCSRHex=function(l){var a=be.parseCSRHex(l);return be.getKey(a.p8pubkeyhex,null,"pkcs8pub")},be.parseCSRHex=function(l){var c=kt.getChildIdx,d=kt.getTLV,h={},b=l;if("30"!=b.substr(0,2))throw"malformed CSR(code:001)";var M=c(b,0);if(M.length<1)throw"malformed CSR(code:002)";if("30"!=b.substr(M[0],2))throw"malformed CSR(code:003)";var H=c(b,M[0]);if(H.length<3)throw"malformed CSR(code:004)";return h.p8pubkeyhex=d(b,H[2]),h},be.getKeyID=function(l){var a=be,c=kt;"string"==typeof l&&-1!=l.indexOf("BEGIN ")&&(l=a.getKey(l));var d=cn(a.getPEM(l)),h=c.getIdxbyList(d,0,[1]),b=c.getV(d,h).substring(2);return N.crypto.Util.hashHex(b,"sha1")},be.getJWKFromKey=function(l){var a={};if(l instanceof jt&&l.isPrivate)return a.kty="RSA",a.n=Te(l.n.toString(16)),a.e=Te(l.e.toString(16)),a.d=Te(l.d.toString(16)),a.p=Te(l.p.toString(16)),a.q=Te(l.q.toString(16)),a.dp=Te(l.dmp1.toString(16)),a.dq=Te(l.dmq1.toString(16)),a.qi=Te(l.coeff.toString(16)),a;if(l instanceof jt&&l.isPublic)return a.kty="RSA",a.n=Te(l.n.toString(16)),a.e=Te(l.e.toString(16)),a;if(l instanceof N.crypto.ECDSA&&l.isPrivate){if("P-256"!==(d=l.getShortNISTPCurveName())&&"P-384"!==d)throw"unsupported curve name for JWT: "+d;var c=l.getPublicKeyXYHex();return a.kty="EC",a.crv=d,a.x=Te(c.x),a.y=Te(c.y),a.d=Te(l.prvKeyHex),a}if(l instanceof N.crypto.ECDSA&&l.isPublic){var d;if("P-256"!==(d=l.getShortNISTPCurveName())&&"P-384"!==d)throw"unsupported curve name for JWT: "+d;return c=l.getPublicKeyXYHex(),a.kty="EC",a.crv=d,a.x=Te(c.x),a.y=Te(c.y),a}throw"not supported key object"},jt.getPosArrayOfChildrenFromHex=function(l){return kt.getChildIdx(l,0)},jt.getHexValueArrayOfChildrenFromHex=function(l){var a,c=kt.getV,d=c(l,(a=jt.getPosArrayOfChildrenFromHex(l))[0]),h=c(l,a[1]),b=c(l,a[2]),M=c(l,a[3]),H=c(l,a[4]),L=c(l,a[5]),j=c(l,a[6]),Y=c(l,a[7]),W=c(l,a[8]);return(a=new Array).push(d,h,b,M,H,L,j,Y,W),a},jt.prototype.readPrivateKeyFromPEMString=function(l){var a=cn(l),c=jt.getHexValueArrayOfChildrenFromHex(a);this.setPrivateEx(c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8])},jt.prototype.readPKCS5PrvKeyHex=function(l){var a=jt.getHexValueArrayOfChildrenFromHex(l);this.setPrivateEx(a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])},jt.prototype.readPKCS8PrvKeyHex=function(l){var a,c,d,h,b,M,H,L,Y=kt.getVbyListEx;if(!1===kt.isASN1HEX(l))throw new Error("not ASN.1 hex string");try{a=Y(l,0,[2,0,1],"02"),c=Y(l,0,[2,0,2],"02"),d=Y(l,0,[2,0,3],"02"),h=Y(l,0,[2,0,4],"02"),b=Y(l,0,[2,0,5],"02"),M=Y(l,0,[2,0,6],"02"),H=Y(l,0,[2,0,7],"02"),L=Y(l,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(a,c,d,h,b,M,H,L)},jt.prototype.readPKCS5PubKeyHex=function(l){var a=kt,c=a.getV;if(!1===a.isASN1HEX(l))throw new Error("keyHex is not ASN.1 hex string");var d=a.getChildIdx(l,0);if(2!==d.length||"02"!==l.substr(d[0],2)||"02"!==l.substr(d[1],2))throw new Error("wrong hex for PKCS#5 public key");var h=c(l,d[0]),b=c(l,d[1]);this.setPublic(h,b)},jt.prototype.readPKCS8PubKeyHex=function(l){var a=kt;if(!1===a.isASN1HEX(l))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==a.getTLVbyListEx(l,0,[0,0]))throw new Error("not PKCS8 RSA public key");var c=a.getTLVbyListEx(l,0,[1,0]);this.readPKCS5PubKeyHex(c)},jt.prototype.readCertPubKeyHex=function(l,a){var c,d;(c=new Ce).readCertHex(l),d=c.getPublicKeyHex(),this.readPKCS8PubKeyHex(d)};var nr=new RegExp("[^0-9a-f]","gi");function wo(l,a){for(var c="",d=a/4-l.length,h=0;h<d;h++)c+="0";return c+l}function oi(l,a,c){for(var d="",h=0;d.length<a;)d+=en(c(Tn(l+String.fromCharCode.apply(String,[(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])))),h+=1;return d}function Mr(l){for(var a in N.crypto.Util.DIGESTINFOHEAD){var c=N.crypto.Util.DIGESTINFOHEAD[a],d=c.length;if(l.substring(0,d)==c)return[a,l.substring(d)]}return[]}function Ce(l){var a,c=kt,d=c.getChildIdx,h=c.getV,b=c.getTLV,M=c.getVbyList,H=c.getVbyListEx,L=c.getTLVbyList,j=c.getTLVbyListEx,Y=c.getIdxbyList,W=c.getIdxbyListEx,rt=c.getVidx,at=c.oidname,ft=c.hextooidstr,_t=Ce,vt=cn;try{a=N.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==L(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return H(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var F=j(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(F)},this.getAlgorithmIdentifierName=function(F){for(var $ in a)if(F===a[$])return $;return at(H(F,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return L(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return _t.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return L(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return _t.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var F=M(this.hex,0,[0,4+this.foffset,0]);return F=F.replace(/(..)/g,"%$1"),decodeURIComponent(F)},this.getNotAfter=function(){var F=M(this.hex,0,[0,4+this.foffset,1]);return F=F.replace(/(..)/g,"%$1"),decodeURIComponent(F)},this.getPublicKeyHex=function(){return c.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Y(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var F=this.getPublicKeyIdx();return Y(this.hex,F,[1,0],"30")},this.getPublicKey=function(){return be.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var F=L(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(F)},this.getSignatureValueHex=function(){return M(this.hex,0,[2],"03",!0)},this.verifySignature=function(F){var $=this.getSignatureAlgorithmField(),tt=this.getSignatureValueHex(),nt=L(this.hex,0,[0],"30"),pt=new N.crypto.Signature({alg:$});return pt.init(F),pt.updateHex(nt),pt.verify(tt)},this.parseExt=function(F){var $,tt,nt;if(void 0===F){if(3!==this.version)return-1;$=Y(nt=this.hex,0,[0,7,0],"30"),tt=d(nt,$)}else{nt=cn(F);var pt=Y(nt,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=h(nt,pt))return void(this.aExtInfo=new Array);$=Y(nt,0,[0,3,0,1,0],"30"),tt=d(nt,$),this.hex=nt}this.aExtInfo=new Array;for(var yt=0;yt<tt.length;yt++){var Ot={critical:!1},St=0;3===d(nt,tt[yt]).length&&(Ot.critical=!0,St=1),Ot.oid=c.hextooidstr(M(nt,tt[yt],[0],"06"));var Xt=Y(nt,tt[yt],[1+St]);Ot.vidx=rt(nt,Xt),this.aExtInfo.push(Ot)}},this.getExtInfo=function(F){var $=this.aExtInfo,tt=F;if(F.match(/^[0-9.]+$/)||(tt=N.asn1.x509.OID.name2oid(F)),""!==tt)for(var nt=0;nt<$.length;nt++)if($[nt].oid===tt)return $[nt]},this.getExtBasicConstraints=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("basicConstraints");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"basicConstraints"};if($&&(nt.critical=!0),"3000"===F)return nt;if("30030101ff"===F)return nt.cA=!0,nt;if("30060101ff02"===F.substr(0,12)){var pt=h(F,10),yt=parseInt(pt,16);return nt.cA=!0,nt.pathLen=yt,nt}throw new Error("hExtV parse error: "+F)},this.getExtKeyUsage=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("keyUsage");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"keyUsage"};return $&&(nt.critical=!0),nt.names=this.getExtKeyUsageString(F).split(","),nt},this.getExtKeyUsageBin=function(F){if(void 0===F){var $=this.getExtInfo("keyUsage");if(void 0===$)return"";F=b(this.hex,$.vidx)}if(8!=F.length&&10!=F.length)throw new Error("malformed key usage value: "+F);var tt="000000000000000"+parseInt(F.substr(6),16).toString(2);return 8==F.length&&(tt=tt.slice(-8)),10==F.length&&(tt=tt.slice(-16)),""==(tt=tt.replace(/0+$/,""))&&(tt="0"),tt},this.getExtKeyUsageString=function(F){for(var $=this.getExtKeyUsageBin(F),tt=new Array,nt=0;nt<$.length;nt++)"1"==$.substr(nt,1)&&tt.push(Ce.KEYUSAGE_NAME[nt]);return tt.join(",")},this.getExtSubjectKeyIdentifier=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("subjectKeyIdentifier");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"subjectKeyIdentifier"};$&&(nt.critical=!0);var pt=h(F,0);return nt.kid={hex:pt},nt},this.getExtAuthorityKeyIdentifier=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("authorityKeyIdentifier");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"authorityKeyIdentifier"};$&&(nt.critical=!0);for(var pt=d(F,0),yt=0;yt<pt.length;yt++){var Ot=F.substr(pt[yt],2);if("80"===Ot&&(nt.kid={hex:h(F,pt[yt])}),"a1"===Ot){var St=b(F,pt[yt]),Xt=this.getGeneralNames(St);nt.issuer=Xt[0].dn}"82"===Ot&&(nt.sn={hex:h(F,pt[yt])})}return nt},this.getExtExtKeyUsage=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("extKeyUsage");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"extKeyUsage",array:[]};$&&(nt.critical=!0);for(var pt=d(F,0),yt=0;yt<pt.length;yt++)nt.array.push(at(h(F,pt[yt])));return nt},this.getExtExtKeyUsageName=function(){var F=this.getExtInfo("extKeyUsage");if(void 0===F)return F;var $=new Array,tt=b(this.hex,F.vidx);if(""===tt)return $;for(var nt=d(tt,0),pt=0;pt<nt.length;pt++)$.push(at(h(tt,nt[pt])));return $},this.getExtSubjectAltName=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("subjectAltName");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"subjectAltName",array:[]};return $&&(nt.critical=!0),nt.array=this.getGeneralNames(F),nt},this.getExtIssuerAltName=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("issuerAltName");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"issuerAltName",array:[]};return $&&(nt.critical=!0),nt.array=this.getGeneralNames(F),nt},this.getGeneralNames=function(F){for(var $=d(F,0),tt=[],nt=0;nt<$.length;nt++){var pt=this.getGeneralName(b(F,$[nt]));void 0!==pt&&tt.push(pt)}return tt},this.getGeneralName=function(F){var $=F.substr(0,2),tt=h(F,0),nt=en(tt);return"81"==$?{rfc822:nt}:"82"==$?{dns:nt}:"86"==$?{uri:nt}:"87"==$?{ip:ri(tt)}:"a4"==$?{dn:this.getX500Name(tt)}:void 0},this.getExtSubjectAltName2=function(){var F,$,tt,nt=this.getExtInfo("subjectAltName");if(void 0===nt)return nt;for(var pt=new Array,yt=b(this.hex,nt.vidx),Ot=d(yt,0),St=0;St<Ot.length;St++)tt=yt.substr(Ot[St],2),F=h(yt,Ot[St]),"81"===tt&&($=ke(F),pt.push(["MAIL",$])),"82"===tt&&($=ke(F),pt.push(["DNS",$])),"84"===tt&&($=Ce.hex2dn(F,0),pt.push(["DN",$])),"86"===tt&&($=ke(F),pt.push(["URI",$])),"87"===tt&&($=ri(F),pt.push(["IP",$]));return pt},this.getExtCRLDistributionPoints=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("cRLDistributionPoints");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"cRLDistributionPoints",array:[]};$&&(nt.critical=!0);for(var pt=d(F,0),yt=0;yt<pt.length;yt++){var Ot=b(F,pt[yt]);nt.array.push(this.getDistributionPoint(Ot))}return nt},this.getDistributionPoint=function(F){for(var $={},tt=d(F,0),nt=0;nt<tt.length;nt++){var pt=F.substr(tt[nt],2),yt=b(F,tt[nt]);"a0"==pt&&($.dpname=this.getDistributionPointName(yt))}return $},this.getDistributionPointName=function(F){for(var $={},tt=d(F,0),nt=0;nt<tt.length;nt++){var pt=F.substr(tt[nt],2),yt=b(F,tt[nt]);"a0"==pt&&($.full=this.getGeneralNames(yt))}return $},this.getExtCRLDistributionPointsURI=function(){var F=this.getExtInfo("cRLDistributionPoints");if(void 0===F)return F;for(var $=new Array,tt=d(this.hex,F.vidx),nt=0;nt<tt.length;nt++)try{var pt=ke(M(this.hex,tt[nt],[0,0,0],"86"));$.push(pt)}catch{}return $},this.getExtAIAInfo=function(){var F=this.getExtInfo("authorityInfoAccess");if(void 0===F)return F;for(var $={ocsp:[],caissuer:[]},tt=d(this.hex,F.vidx),nt=0;nt<tt.length;nt++){var pt=M(this.hex,tt[nt],[0],"06"),yt=M(this.hex,tt[nt],[1],"86");"2b06010505073001"===pt&&$.ocsp.push(ke(yt)),"2b06010505073002"===pt&&$.caissuer.push(ke(yt))}return $},this.getExtAuthorityInfoAccess=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("authorityInfoAccess");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"authorityInfoAccess",array:[]};$&&(nt.critical=!0);for(var pt=d(F,0),yt=0;yt<pt.length;yt++){var Ot=H(F,pt[yt],[0],"06"),St=ke(M(F,pt[yt],[1],"86"));if("2b06010505073001"==Ot)nt.array.push({ocsp:St});else{if("2b06010505073002"!=Ot)throw new Error("unknown method: "+Ot);nt.array.push({caissuer:St})}}return nt},this.getExtCertificatePolicies=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("certificatePolicies");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"certificatePolicies",array:[]};$&&(nt.critical=!0);for(var pt=d(F,0),yt=0;yt<pt.length;yt++){var Ot=b(F,pt[yt]),St=this.getPolicyInformation(Ot);nt.array.push(St)}return nt},this.getPolicyInformation=function(F){var $={},tt=M(F,0,[0],"06");$.policyoid=at(tt);var nt=W(F,0,[1],"30");if(-1!=nt){$.array=[];for(var pt=d(F,nt),yt=0;yt<pt.length;yt++){var Ot=b(F,pt[yt]),St=this.getPolicyQualifierInfo(Ot);$.array.push(St)}}return $},this.getPolicyQualifierInfo=function(F){var $={},tt=M(F,0,[0],"06");if("2b06010505070201"===tt){var nt=H(F,0,[1],"16");$.cps=en(nt)}else if("2b06010505070202"===tt){var pt=L(F,0,[1],"30");$.unotice=this.getUserNotice(pt)}return $},this.getUserNotice=function(F){for(var $={},tt=d(F,0),nt=0;nt<tt.length;nt++){var pt=b(F,tt[nt]);"30"!=pt.substr(0,2)&&($.exptext=this.getDisplayText(pt))}return $},this.getDisplayText=function(F){var $={};return $.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[F.substr(0,2)],$.str=en(h(F,0)),$},this.getExtCRLNumber=function(F,$){var tt={extname:"cRLNumber"};if($&&(tt.critical=!0),"02"==F.substr(0,2))return tt.num={hex:h(F,0)},tt;throw new Error("hExtV parse error: "+F)},this.getExtCRLReason=function(F,$){var tt={extname:"cRLReason"};if($&&(tt.critical=!0),"0a"==F.substr(0,2))return tt.code=parseInt(h(F,0),16),tt;throw new Error("hExtV parse error: "+F)},this.getExtOcspNonce=function(F,$){var tt={extname:"ocspNonce"};$&&(tt.critical=!0);var nt=h(F,0);return tt.hex=nt,tt},this.getExtOcspNoCheck=function(F,$){var tt={extname:"ocspNoCheck"};return $&&(tt.critical=!0),tt},this.getExtAdobeTimeStamp=function(F,$){if(void 0===F&&void 0===$){var tt=this.getExtInfo("adobeTimeStamp");if(void 0===tt)return;F=b(this.hex,tt.vidx),$=tt.critical}var nt={extname:"adobeTimeStamp"};$&&(nt.critical=!0);var pt=d(F,0);if(pt.length>1){var yt=b(F,pt[1]),Ot=this.getGeneralName(yt);null!=Ot.uri&&(nt.uri=Ot.uri)}if(pt.length>2){var St=b(F,pt[2]);"0101ff"==St&&(nt.reqauth=!0),"010100"==St&&(nt.reqauth=!1)}return nt},this.getX500NameRule=function(F){for(var $=null,tt=[],nt=0;nt<F.length;nt++)for(var pt=F[nt],yt=0;yt<pt.length;yt++)tt.push(pt[yt]);for(nt=0;nt<tt.length;nt++){var Ot=tt[nt],St=Ot.ds,Pt=Ot.type;if("prn"!=St&&"utf8"!=St&&"ia5"!=St)return"mixed";if("ia5"==St){if("CN"!=Pt)return"mixed";if(N.lang.String.isMail(Ot.value))continue;return"mixed"}if("C"==Pt){if("prn"==St)continue;return"mixed"}if(null==$)$=St;else if($!==St)return"mixed"}return $??"prn"},this.getX500Name=function(F){var $=this.getX500NameArray(F);return{array:$,str:this.dnarraytostr($)}},this.getX500NameArray=function(F){for(var $=[],tt=d(F,0),nt=0;nt<tt.length;nt++)$.push(this.getRDN(b(F,tt[nt])));return $},this.getRDN=function(F){for(var $=[],tt=d(F,0),nt=0;nt<tt.length;nt++)$.push(this.getAttrTypeAndValue(b(F,tt[nt])));return $},this.getAttrTypeAndValue=function(F){var $={type:null,value:null,ds:null},tt=d(F,0),nt=M(F,tt[0],[],"06"),pt=M(F,tt[1],[]),yt=N.asn1.ASN1Util.oidHexToInt(nt);return $.type=N.asn1.x509.OID.oid2atype(yt),$.value=en(pt),$.ds=this.HEX2STAG[F.substr(tt[1],2)],$},this.readCertPEM=function(F){this.readCertHex(vt(F))},this.readCertHex=function(F){this.hex=F,this.getVersion();try{Y(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var F={};return F.version=this.getVersion(),F.serial={hex:this.getSerialNumberHex()},F.sigalg=this.getSignatureAlgorithmField(),F.issuer=this.getIssuer(),F.notbefore=this.getNotBefore(),F.notafter=this.getNotAfter(),F.subject=this.getSubject(),F.sbjpubkey=nn(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(F.ext=this.getExtParamArray()),F.sighex=this.getSignatureValueHex(),F},this.getExtParamArray=function(F){null==F&&-1!=W(this.hex,0,[0,"[3]"])&&(F=j(this.hex,0,[0,"[3]",0],"30"));for(var $=[],tt=d(F,0),nt=0;nt<tt.length;nt++){var pt=b(F,tt[nt]),yt=this.getExtParam(pt);null!=yt&&$.push(yt)}return $},this.getExtParam=function(F){var $=d(F,0).length;if(2!=$&&3!=$)throw new Error("wrong number elements in Extension: "+$+" "+F);var tt=ft(M(F,0,[0],"06")),nt=!1;3==$&&"0101ff"==L(F,0,[1])&&(nt=!0);var pt=L(F,0,[$-1,0]),yt=void 0;if("2.5.29.14"==tt?yt=this.getExtSubjectKeyIdentifier(pt,nt):"2.5.29.15"==tt?yt=this.getExtKeyUsage(pt,nt):"2.5.29.17"==tt?yt=this.getExtSubjectAltName(pt,nt):"2.5.29.18"==tt?yt=this.getExtIssuerAltName(pt,nt):"2.5.29.19"==tt?yt=this.getExtBasicConstraints(pt,nt):"2.5.29.31"==tt?yt=this.getExtCRLDistributionPoints(pt,nt):"2.5.29.32"==tt?yt=this.getExtCertificatePolicies(pt,nt):"2.5.29.35"==tt?yt=this.getExtAuthorityKeyIdentifier(pt,nt):"2.5.29.37"==tt?yt=this.getExtExtKeyUsage(pt,nt):"1.3.6.1.5.5.7.1.1"==tt?yt=this.getExtAuthorityInfoAccess(pt,nt):"2.5.29.20"==tt?yt=this.getExtCRLNumber(pt,nt):"2.5.29.21"==tt?yt=this.getExtCRLReason(pt,nt):"1.3.6.1.5.5.7.48.1.2"==tt?yt=this.getExtOcspNonce(pt,nt):"1.3.6.1.5.5.7.48.1.5"==tt?yt=this.getExtOcspNoCheck(pt,nt):"1.2.840.113583.1.1.9.1"==tt&&(yt=this.getExtAdobeTimeStamp(pt,nt)),null!=yt)return yt;var Ot={extname:tt,extn:pt};return nt&&(Ot.critical=!0),Ot},this.findExt=function(F,$){for(var tt=0;tt<F.length;tt++)if(F[tt].extname==$)return F[tt];return null},this.updateExtCDPFullURI=function(F,$){var tt=this.findExt(F,"cRLDistributionPoints");if(null!=tt&&null!=tt.array)for(var nt=tt.array,pt=0;pt<nt.length;pt++)if(null!=nt[pt].dpname&&null!=nt[pt].dpname.full)for(var yt=nt[pt].dpname.full,Ot=0;Ot<yt.length;Ot++){var St=yt[pt];null!=St.uri&&(St.uri=$)}},this.updateExtAIAOCSP=function(F,$){var tt=this.findExt(F,"authorityInfoAccess");if(null!=tt&&null!=tt.array)for(var nt=tt.array,pt=0;pt<nt.length;pt++)null!=nt[pt].ocsp&&(nt[pt].ocsp=$)},this.updateExtAIACAIssuer=function(F,$){var tt=this.findExt(F,"authorityInfoAccess");if(null!=tt&&null!=tt.array)for(var nt=tt.array,pt=0;pt<nt.length;pt++)null!=nt[pt].caissuer&&(nt[pt].caissuer=$)},this.dnarraytostr=function(F){return"/"+F.map(function($){return $.map(function(pt){return(Ot=pt).type+"="+Ot.value;var Ot}).join("+")}).join("/")},this.getInfo=function(){var F,$,tt,Ke,pt=function(Ke){for(var Ue="",xe=Ke.array,ve=0;ve<xe.length;ve++){var we=xe[ve];if(Ue+="    policy oid: "+we.policyoid+"\n",void 0!==we.array)for(var Ee=0;Ee<we.array.length;Ee++){var ze=we.array[Ee];void 0!==ze.cps&&(Ue+="    cps: "+ze.cps+"\n")}}return Ue},yt=function(Ke){for(var Ue="",xe=Ke.array,ve=0;ve<xe.length;ve++){var we=xe[ve];try{void 0!==we.dpname.full[0].uri&&(Ue+="    "+we.dpname.full[0].uri+"\n")}catch{}try{void 0!==we.dname.full[0].dn.hex&&(Ue+="    "+Ce.hex2dn(we.dpname.full[0].dn.hex)+"\n")}catch{}}return Ue},Ot=function(Ke){for(var Ue="",xe=Ke.array,ve=0;ve<xe.length;ve++){var we=xe[ve];void 0!==we.caissuer&&(Ue+="    caissuer: "+we.caissuer+"\n"),void 0!==we.ocsp&&(Ue+="    ocsp: "+we.ocsp+"\n")}return Ue};if(F="Basic Fields\n",F+="  serial number: "+this.getSerialNumberHex()+"\n",F+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",F+="  issuer: "+this.getIssuerString()+"\n",F+="  notBefore: "+this.getNotBefore()+"\n",F+="  notAfter: "+this.getNotAfter()+"\n",F+="  subject: "+this.getSubjectString()+"\n",F+="  subject public key info: \n",F+="    key algorithm: "+($=this.getPublicKey()).type+"\n","RSA"===$.type&&(F+="    n="+Fi($.n.toString(16)).substr(0,16)+"...\n",F+="    e="+Fi($.e.toString(16))+"\n"),null!=(tt=this.aExtInfo)){F+="X509v3 Extensions:\n";for(var St=0;St<tt.length;St++){var Xt=tt[St],Pt=N.asn1.x509.OID.oid2name(Xt.oid);""===Pt&&(Pt=Xt.oid);var Vt="";if(!0===Xt.critical&&(Vt="CRITICAL"),F+="  "+Pt+" "+Vt+":\n","basicConstraints"===Pt){var de=this.getExtBasicConstraints();void 0===de.cA?F+="    {}\n":(F+="    cA=true",void 0!==de.pathLen&&(F+=", pathLen="+de.pathLen),F+="\n")}else if("keyUsage"===Pt)F+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===Pt)F+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===Pt){var ge=this.getExtAuthorityKeyIdentifier();void 0!==ge.kid&&(F+="    kid="+ge.kid.hex+"\n")}else"extKeyUsage"===Pt?F+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===Pt?F+="    "+(Ke=this.getExtSubjectAltName(),JSON.stringify(Ke.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===Pt?F+=yt(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===Pt?F+=Ot(this.getExtAuthorityInfoAccess()):"certificatePolicies"===Pt&&(F+=pt(this.getExtCertificatePolicies()))}}return(F+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof l&&(-1!=l.indexOf("-----BEGIN")?this.readCertPEM(l):N.lang.String.isHex(l)&&this.readCertHex(l))}jt.prototype.sign=function(l,a){var c=function(h){return N.crypto.Util.hashString(h,a)}(l);return this.signWithMessageHash(c,a)},jt.prototype.signWithMessageHash=function(l,a){var c=Ye(N.crypto.Util.getPaddedDigestInfoHex(l,a,this.n.bitLength()),16);return wo(this.doPrivate(c).toString(16),this.n.bitLength())},jt.prototype.signPSS=function(l,a,c){var b,d=(b=Tn(l),N.crypto.Util.hashHex(b,a));return void 0===c&&(c=-1),this.signWithMessageHashPSS(d,a,c)},jt.prototype.signWithMessageHashPSS=function(l,a,c){var d,h=en(l),b=h.length,M=this.n.bitLength()-1,H=Math.ceil(M/8),L=function(F){return N.crypto.Util.hashHex(F,a)};if(-1===c||void 0===c)c=b;else if(-2===c)c=H-b-2;else if(c<-2)throw new Error("invalid salt length");if(H<b+c+2)throw new Error("data too long");var j="";c>0&&(j=new Array(c),(new Be).nextBytes(j),j=String.fromCharCode.apply(String,j));var Y=en(L(Tn("\0\0\0\0\0\0\0\0"+h+j))),W=[];for(d=0;d<H-c-b-2;d+=1)W[d]=0;var rt=String.fromCharCode.apply(String,W)+"\x01"+j,at=oi(Y,rt.length,L),ft=[];for(d=0;d<rt.length;d+=1)ft[d]=rt.charCodeAt(d)^at.charCodeAt(d);for(ft[0]&=~(65280>>8*H-M&255),d=0;d<b;d++)ft.push(Y.charCodeAt(d));return ft.push(188),wo(this.doPrivate(new q(ft)).toString(16),this.n.bitLength())},jt.prototype.verify=function(l,a){var c=Ye(a=(a=a.replace(nr,"")).replace(/[ \n]+/g,""),16);if(c.bitLength()>this.n.bitLength())return 0;var d=Mr(this.doPublic(c).toString(16).replace(/^1f+00/,""));return 0!=d.length&&d[1]==N.crypto.Util.hashString(l,d[0])},jt.prototype.verifyWithMessageHash=function(l,a){if(a.length!=Math.ceil(this.n.bitLength()/4))return!1;var c=Ye(a,16);if(c.bitLength()>this.n.bitLength())return 0;var d=Mr(this.doPublic(c).toString(16).replace(/^1f+00/,""));return 0!=d.length&&d[1]==l},jt.prototype.verifyPSS=function(l,a,c,d){var M,h=(M=Tn(l),N.crypto.Util.hashHex(M,c));return void 0===d&&(d=-1),this.verifyWithMessageHashPSS(h,a,c,d)},jt.prototype.verifyWithMessageHashPSS=function(l,a,c,d){if(a.length!=Math.ceil(this.n.bitLength()/4))return!1;var h,b=new q(a,16),M=function(tt){return N.crypto.Util.hashHex(tt,c)},H=en(l),L=H.length,j=this.n.bitLength()-1,Y=Math.ceil(j/8);if(-1===d||void 0===d)d=L;else if(-2===d)d=Y-L-2;else if(d<-2)throw new Error("invalid salt length");if(Y<L+d+2)throw new Error("data too long");var W=this.doPublic(b).toByteArray();for(h=0;h<W.length;h+=1)W[h]&=255;for(;W.length<Y;)W.unshift(0);if(188!==W[Y-1])throw new Error("encoded message does not end in 0xbc");var rt=(W=String.fromCharCode.apply(String,W)).substr(0,Y-L-1),at=W.substr(rt.length,L),ft=65280>>8*Y-j&255;if(rt.charCodeAt(0)&ft)throw new Error("bits beyond keysize not zero");var _t=oi(at,rt.length,M),vt=[];for(h=0;h<rt.length;h+=1)vt[h]=rt.charCodeAt(h)^_t.charCodeAt(h);vt[0]&=~ft;var F=Y-L-d-2;for(h=0;h<F;h+=1)if(0!==vt[h])throw new Error("leftmost octets not zero");if(1!==vt[F])throw new Error("0x01 marker not found");return at===en(M(Tn("\0\0\0\0\0\0\0\0"+H+String.fromCharCode.apply(String,vt.slice(-d)))))},jt.SALT_LEN_HLEN=-1,jt.SALT_LEN_MAX=-2,jt.SALT_LEN_RECOVER=-2,Ce.hex2dn=function(l,a){if(void 0===a&&(a=0),"30"!==l.substr(a,2))throw new Error("malformed DN");for(var c=new Array,d=kt.getChildIdx(l,a),h=0;h<d.length;h++)c.push(Ce.hex2rdn(l,d[h]));return"/"+(c=c.map(function(b){return b.replace("/","\\/")})).join("/")},Ce.hex2rdn=function(l,a){if(void 0===a&&(a=0),"31"!==l.substr(a,2))throw new Error("malformed RDN");for(var c=new Array,d=kt.getChildIdx(l,a),h=0;h<d.length;h++)c.push(Ce.hex2attrTypeValue(l,d[h]));return(c=c.map(function(b){return b.replace("+","\\+")})).join("+")},Ce.hex2attrTypeValue=function(l,a){var c=kt,d=c.getV;if(void 0===a&&(a=0),"30"!==l.substr(a,2))throw new Error("malformed attribute type and value");var h=c.getChildIdx(l,a);2!==h.length||l.substr(h[0],2);var b=d(l,h[0]),M=N.asn1.ASN1Util.oidHexToInt(b);return N.asn1.x509.OID.oid2atype(M)+"="+en(d(l,h[1]))},Ce.getPublicKeyFromCertHex=function(l){var a=new Ce;return a.readCertHex(l),a.getPublicKey()},Ce.getPublicKeyFromCertPEM=function(l){var a=new Ce;return a.readCertPEM(l),a.getPublicKey()},Ce.getPublicKeyInfoPropOfCertPEM=function(l){var a,c,d=kt.getVbyList,h={algparam:null};return(a=new Ce).readCertPEM(l),c=a.getPublicKeyHex(),h.keyhex=d(c,0,[1],"03").substr(2),h.algoid=d(c,0,[0,0],"06"),"2a8648ce3d0201"===h.algoid&&(h.algparam=d(c,0,[0,1],"06")),h},Ce.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==N&&N||(T.KJUR=N={}),void 0!==N.jws&&N.jws||(N.jws={}),N.jws.JWS=function(){var l=N.jws.JWS.isSafeJSONString;this.parseJWS=function(a,c){if(void 0===this.parsedJWS||!c&&void 0===this.parsedJWS.sigvalH){var d=a.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==d)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var h=d[1],b=d[2],M=d[3],H=h+"."+b;if(this.parsedJWS={},this.parsedJWS.headB64U=h,this.parsedJWS.payloadB64U=b,this.parsedJWS.sigvalB64U=M,this.parsedJWS.si=H,!c){var L=fe(M),j=Ye(L,16);this.parsedJWS.sigvalH=L,this.parsedJWS.sigvalBI=j}var Y=tn(h),W=tn(b);if(this.parsedJWS.headS=Y,this.parsedJWS.payloadS=W,!l(Y,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Y}}},N.jws.JWS.sign=function(l,a,c,d,h){var b,M,H,j=N.jws.JWS,Y=j.readSafeJSONString,W=j.isSafeJSONString,rt=N.crypto,at=rt.Mac,ft=rt.Signature,_t=JSON;if("string"!=typeof a&&"object"!=(void 0===a?"undefined":C(a)))throw"spHeader must be JSON string or object: "+a;if("object"==(void 0===a?"undefined":C(a))&&(b=_t.stringify(M=a)),"string"==typeof a){if(!W(b=a))throw"JWS Head is not safe JSON string: "+b;M=Y(b)}if(H=c,"object"==(void 0===c?"undefined":C(c))&&(H=_t.stringify(c)),""!=l&&null!=l||void 0===M.alg||(l=M.alg),""!=l&&null!=l&&void 0===M.alg&&(M.alg=l,b=_t.stringify(M)),l!==M.alg)throw"alg and sHeader.alg doesn't match: "+l+"!="+M.alg;var vt=null;if(void 0===j.jwsalg2sigalg[l])throw"unsupported alg name: "+l;vt=j.jwsalg2sigalg[l];var F=Un(b)+"."+Un(H),$="";if("Hmac"==vt.substr(0,4)){if(void 0===d)throw"mac key shall be specified for HS* alg";var tt=new at({alg:vt,prov:"cryptojs",pass:d});tt.updateString(F),$=tt.doFinal()}else if(-1!=vt.indexOf("withECDSA")){(pt=new ft({alg:vt})).init(d,h),pt.updateString(F);var nt=pt.sign();$=N.crypto.ECDSA.asn1SigToConcatSig(nt)}else{var pt;"none"!=vt&&((pt=new ft({alg:vt})).init(d,h),pt.updateString(F),$=pt.sign())}return F+"."+Te($)},N.jws.JWS.verify=function(l,a,c){var d,b=N.jws.JWS,M=b.readSafeJSONString,H=N.crypto,L=H.ECDSA,j=H.Mac,Y=H.Signature;void 0!==C(jt)&&(d=jt);var W=l.split(".");if(3!==W.length)return!1;var vt,rt=W[0]+"."+W[1],at=fe(W[2]),ft=M(tn(W[0])),_t=null;if(void 0===ft.alg)throw"algorithm not specified in header";if(vt=(_t=ft.alg).substr(0,2),null!=c&&"[object Array]"===Object.prototype.toString.call(c)&&c.length>0&&-1==(":"+c.join(":")+":").indexOf(":"+_t+":"))throw"algorithm '"+_t+"' not accepted in the list";if("none"!=_t&&null===a)throw"key shall be specified to verify.";if("string"==typeof a&&-1!=a.indexOf("-----BEGIN ")&&(a=be.getKey(a)),!("RS"!=vt&&"PS"!=vt||a instanceof d))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==vt&&!(a instanceof L))throw"key shall be a ECDSA obj for ES* algs";var F=null;if(void 0===b.jwsalg2sigalg[ft.alg])throw"unsupported alg name: "+_t;if("none"==(F=b.jwsalg2sigalg[_t]))throw"not supported";if("Hmac"==F.substr(0,4)){if(void 0===a)throw"hexadecimal key shall be specified for HMAC";var $=new j({alg:F,pass:a});return $.updateString(rt),at==$.doFinal()}if(-1!=F.indexOf("withECDSA")){var tt,nt=null;try{nt=L.concatSigToASN1Sig(at)}catch{return!1}return(tt=new Y({alg:F})).init(a),tt.updateString(rt),tt.verify(nt)}return(tt=new Y({alg:F})).init(a),tt.updateString(rt),tt.verify(at)},N.jws.JWS.parse=function(l){var c,d,h=l.split("."),b={};if(2!=h.length&&3!=h.length)throw"malformed sJWS: wrong number of '.' splitted elements";return c=h[1],3==h.length&&(d=h[2]),b.headerObj=N.jws.JWS.readSafeJSONString(tn(h[0])),b.payloadObj=N.jws.JWS.readSafeJSONString(tn(c)),b.headerPP=JSON.stringify(b.headerObj,null,"  "),b.payloadPP=null==b.payloadObj?tn(c):JSON.stringify(b.payloadObj,null,"  "),void 0!==d&&(b.sigHex=fe(d)),b},N.jws.JWS.verifyJWT=function(l,a,c){var d=N.jws,h=d.JWS,b=h.readSafeJSONString,M=h.inArray,H=h.includedArray,L=l.split("."),j=L[0],Y=L[1],W=(fe(L[2]),b(tn(j))),rt=b(tn(Y));if(void 0===W.alg)return!1;if(void 0===c.alg)throw"acceptField.alg shall be specified";if(!M(W.alg,c.alg)||void 0!==rt.iss&&"object"===C(c.iss)&&!M(rt.iss,c.iss)||void 0!==rt.sub&&"object"===C(c.sub)&&!M(rt.sub,c.sub))return!1;if(void 0!==rt.aud&&"object"===C(c.aud))if("string"==typeof rt.aud){if(!M(rt.aud,c.aud))return!1}else if("object"==C(rt.aud)&&!H(rt.aud,c.aud))return!1;var at=d.IntDate.getNow();return void 0!==c.verifyAt&&"number"==typeof c.verifyAt&&(at=c.verifyAt),void 0!==c.gracePeriod&&"number"==typeof c.gracePeriod||(c.gracePeriod=0),!(void 0!==rt.exp&&"number"==typeof rt.exp&&rt.exp+c.gracePeriod<at||void 0!==rt.nbf&&"number"==typeof rt.nbf&&at<rt.nbf-c.gracePeriod||void 0!==rt.iat&&"number"==typeof rt.iat&&at<rt.iat-c.gracePeriod||void 0!==rt.jti&&void 0!==c.jti&&rt.jti!==c.jti||!h.verify(l,a,c.alg))},N.jws.JWS.includedArray=function(l,a){var c=N.jws.JWS.inArray;if(null===l||"object"!==(void 0===l?"undefined":C(l))||"number"!=typeof l.length)return!1;for(var d=0;d<l.length;d++)if(!c(l[d],a))return!1;return!0},N.jws.JWS.inArray=function(l,a){if(null===a||"object"!==(void 0===a?"undefined":C(a))||"number"!=typeof a.length)return!1;for(var c=0;c<a.length;c++)if(a[c]==l)return!0;return!1},N.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},N.jws.JWS.isSafeJSONString=function(l,a,c){var d=null;try{return"object"!=(void 0===(d=Mn(l))?"undefined":C(d))||d.constructor===Array?0:(a&&(a[c]=d),1)}catch{return 0}},N.jws.JWS.readSafeJSONString=function(l){var a=null;try{return"object"!=(void 0===(a=Mn(l))?"undefined":C(a))||a.constructor===Array?null:a}catch{return null}},N.jws.JWS.getEncodedSignatureValueFromJWS=function(l){var a=l.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==a)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return a[1]},N.jws.JWS.getJWKthumbprint=function(l){if("RSA"!==l.kty&&"EC"!==l.kty&&"oct"!==l.kty)throw"unsupported algorithm for JWK Thumprint";var a="{";if("RSA"===l.kty){if("string"!=typeof l.n||"string"!=typeof l.e)throw"wrong n and e value for RSA key";a+='"e":"'+l.e+'",',a+='"kty":"'+l.kty+'",',a+='"n":"'+l.n+'"}'}else if("EC"===l.kty){if("string"!=typeof l.crv||"string"!=typeof l.x||"string"!=typeof l.y)throw"wrong crv, x and y value for EC key";a+='"crv":"'+l.crv+'",',a+='"kty":"'+l.kty+'",',a+='"x":"'+l.x+'",',a+='"y":"'+l.y+'"}'}else if("oct"===l.kty){if("string"!=typeof l.k)throw"wrong k value for oct(symmetric) key";a+='"kty":"'+l.kty+'",',a+='"k":"'+l.k+'"}'}var c=Tn(a);return Te(N.crypto.Util.hashHex(c,"sha256"))},N.jws.IntDate={},N.jws.IntDate.get=function(l){var a=N.jws.IntDate,c=a.getNow,d=a.getZulu;if("now"==l)return c();if("now + 1hour"==l)return c()+3600;if("now + 1day"==l)return c()+86400;if("now + 1month"==l)return c()+2592e3;if("now + 1year"==l)return c()+31536e3;if(l.match(/Z$/))return d(l);if(l.match(/^[0-9]+$/))return parseInt(l);throw"unsupported format: "+l},N.jws.IntDate.getZulu=function(l){return xo(l)},N.jws.IntDate.getNow=function(){return~~(new Date/1e3)},N.jws.IntDate.intDate2UTCString=function(l){return new Date(1e3*l).toUTCString()},N.jws.IntDate.intDate2Zulu=function(l){var a=new Date(1e3*l);return("0000"+a.getUTCFullYear()).slice(-4)+("00"+(a.getUTCMonth()+1)).slice(-2)+("00"+a.getUTCDate()).slice(-2)+("00"+a.getUTCHours()).slice(-2)+("00"+a.getUTCMinutes()).slice(-2)+("00"+a.getUTCSeconds()).slice(-2)+"Z"},T.SecureRandom=Be,T.rng_seed_time=xt,T.BigInteger=q,T.RSAKey=jt,T.EDSA=N.crypto.EDSA,T.DSA=N.crypto.DSA,T.Signature=N.crypto.Signature,T.MessageDigest=N.crypto.MessageDigest,T.Mac=N.crypto.Mac,T.Cipher=N.crypto.Cipher,T.KEYUTIL=be,T.ASN1HEX=kt,T.X509=Ce,T.CryptoJS=J,T.b64tohex=ct,T.b64toBA=wt,T.stoBA=$e,T.BAtos=Sr,T.BAtohex=ii,T.stohex=mn,T.stob64=function(a){return st(mn(a))},T.stob64u=function(a){return Ci(st(mn(a)))},T.b64utos=function(a){return Sr(wt(Hn(a)))},T.b64tob64u=Ci,T.b64utob64=Hn,T.hex2b64=st,T.hextob64u=Te,T.b64utohex=fe,T.utf8tob64u=Un,T.b64utoutf8=tn,T.utf8tob64=function(a){return st(Ai(Vn(a)))},T.b64toutf8=function(a){return decodeURIComponent(tr(ct(a)))},T.utf8tohex=Fn,T.hextoutf8=ke,T.hextorstr=en,T.rstrtohex=Tn,T.hextob64=bo,T.hextob64nl=Cr,T.b64nltohex=Er,T.hextopem=nn,T.pemtohex=cn,T.hextoArrayBuffer=function(a){if(a.length%2!=0)throw"input is not even length";if(null==a.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var c=new ArrayBuffer(a.length/2),d=new DataView(c),h=0;h<a.length/2;h++)d.setUint8(h,parseInt(a.substr(2*h,2),16));return c},T.ArrayBuffertohex=function(a){for(var c="",d=new DataView(a),h=0;h<a.byteLength;h++)c+=("00"+d.getUint8(h).toString(16)).slice(-2);return c},T.zulutomsec=Ei,T.zulutosec=xo,T.zulutodate=function(a){return new Date(Ei(a))},T.datetozulu=function(a,c,d){var h,b=a.getUTCFullYear();if(c){if(b<1950||2049<b)throw"not proper year for UTCTime: "+b;h=(""+b).slice(-2)}else h=("000"+b).slice(-4);if(h+=("0"+(a.getUTCMonth()+1)).slice(-2),h+=("0"+a.getUTCDate()).slice(-2),h+=("0"+a.getUTCHours()).slice(-2),h+=("0"+a.getUTCMinutes()).slice(-2),h+=("0"+a.getUTCSeconds()).slice(-2),d){var M=a.getUTCMilliseconds();0!==M&&(h+="."+(M=(M=("00"+M).slice(-3)).replace(/0+$/g,"")))}return h+"Z"},T.uricmptohex=Ai,T.hextouricmp=tr,T.ipv6tohex=er,T.hextoipv6=Mi,T.hextoip=ri,T.iptohex=function(a){var c="malformed IP address";if(!(a=a.toLowerCase(a)).match(/^[0-9.]+$/)){if(a.match(/^[0-9a-f:]+$/)&&-1!==a.indexOf(":"))return er(a);throw c}var d=a.split(".");if(4!==d.length)throw c;var h="";try{for(var b=0;b<4;b++)h+=("0"+parseInt(d[b]).toString(16)).slice(-2);return h}catch{throw c}},T.encodeURIComponentAll=Vn,T.newline_toUnix=function(a){return a.replace(/\r\n/gm,"\n")},T.newline_toDos=function(a){return(a=a.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},T.hextoposhex=Fi,T.intarystrtohex=function(a){a=(a=(a=a.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return a.split(/,/).map(function(c,d,h){var b=parseInt(c);if(b<0||255<b)throw"integer not in range 0-255";return("00"+b.toString(16)).slice(-2)}).join("")}catch(c){throw"malformed integer array string: "+c}},T.strdiffidx=function(a,c){var d=a.length;a.length>c.length&&(d=c.length);for(var h=0;h<d;h++)if(a.charCodeAt(h)!=c.charCodeAt(h))return h;return a.length!=c.length?d:-1},T.KJUR=N,T.crypto=N.crypto,T.asn1=N.asn1,T.jws=N.jws,T.lang=N.lang}).call(this,et(28).Buffer)},function(Tt,T,et){"use strict";(function(r){var C=et(30),z=et(31),R=et(32);function v(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function _(X,x){if(v()<x)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(X=new Uint8Array(x)).__proto__=g.prototype:(null===X&&(X=new g(x)),X.length=x),X}function g(X,x,w){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(X,x,w);if("number"==typeof X){if("string"==typeof x)throw new Error("If encoding is specified then the first argument must be a string");return E(this,X)}return p(this,X,x,w)}function p(X,x,w,Q){if("number"==typeof x)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&x instanceof ArrayBuffer?function(ht,xt,Rt,Yt){if(Rt<0||xt.byteLength<Rt)throw new RangeError("'offset' is out of bounds");if(xt.byteLength<Rt+(Yt||0))throw new RangeError("'length' is out of bounds");return xt=void 0===Rt&&void 0===Yt?new Uint8Array(xt):void 0===Yt?new Uint8Array(xt,Rt):new Uint8Array(xt,Rt,Yt),g.TYPED_ARRAY_SUPPORT?(ht=xt).__proto__=g.prototype:ht=U(ht,xt),ht}(X,x,w,Q):"string"==typeof x?function(ht,xt,Rt){if("string"==typeof Rt&&""!==Rt||(Rt="utf8"),!g.isEncoding(Rt))throw new TypeError('"encoding" must be a valid string encoding');var Yt=0|O(xt,Rt),le=(ht=_(ht,Yt)).write(xt,Rt);return le!==Yt&&(ht=ht.slice(0,le)),ht}(X,x,w):function(ht,xt){if(g.isBuffer(xt)){var Rt=0|B(xt.length);return 0===(ht=_(ht,Rt)).length||xt.copy(ht,0,0,Rt),ht}if(xt){if(typeof ArrayBuffer<"u"&&xt.buffer instanceof ArrayBuffer||"length"in xt)return"number"!=typeof xt.length||(le=xt.length)!=le?_(ht,0):U(ht,xt);if("Buffer"===xt.type&&R(xt.data))return U(ht,xt.data)}var le;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(X,x)}function V(X){if("number"!=typeof X)throw new TypeError('"size" argument must be a number');if(X<0)throw new RangeError('"size" argument must not be negative')}function E(X,x){if(V(x),X=_(X,x<0?0:0|B(x)),!g.TYPED_ARRAY_SUPPORT)for(var w=0;w<x;++w)X[w]=0;return X}function U(X,x){var w=x.length<0?0:0|B(x.length);X=_(X,w);for(var Q=0;Q<w;Q+=1)X[Q]=255&x[Q];return X}function B(X){if(X>=v())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v().toString(16)+" bytes");return 0|X}function O(X,x){if(g.isBuffer(X))return X.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(X)||X instanceof ArrayBuffer))return X.byteLength;"string"!=typeof X&&(X=""+X);var w=X.length;if(0===w)return 0;for(var Q=!1;;)switch(x){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":case void 0:return Kt(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*w;case"hex":return w>>>1;case"base64":return te(X).length;default:if(Q)return Kt(X).length;x=(""+x).toLowerCase(),Q=!0}}function D(X,x,w){var Q=!1;if((void 0===x||x<0)&&(x=0),x>this.length||((void 0===w||w>this.length)&&(w=this.length),w<=0)||(w>>>=0)<=(x>>>=0))return"";for(X||(X="utf8");;)switch(X){case"hex":return It(this,x,w);case"utf8":case"utf-8":return Lt(this,x,w);case"ascii":return he(this,x,w);case"latin1":case"binary":return ae(this,x,w);case"base64":return Et(this,x,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,x,w);default:if(Q)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),Q=!0}}function K(X,x,w){var Q=X[x];X[x]=X[w],X[w]=Q}function lt(X,x,w,Q,ot){if(0===X.length)return-1;if("string"==typeof w?(Q=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,isNaN(w)&&(w=ot?0:X.length-1),w<0&&(w=X.length+w),w>=X.length){if(ot)return-1;w=X.length-1}else if(w<0){if(!ot)return-1;w=0}if("string"==typeof x&&(x=g.from(x,Q)),g.isBuffer(x))return 0===x.length?-1:J(X,x,w,Q,ot);if("number"==typeof x)return x&=255,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ot?Uint8Array.prototype.indexOf.call(X,x,w):Uint8Array.prototype.lastIndexOf.call(X,x,w):J(X,[x],w,Q,ot);throw new TypeError("val must be string, number or Buffer")}function J(X,x,w,Q,ot){var ht,xt=1,Rt=X.length,Yt=x.length;if(void 0!==Q&&("ucs2"===(Q=String(Q).toLowerCase())||"ucs-2"===Q||"utf16le"===Q||"utf-16le"===Q)){if(X.length<2||x.length<2)return-1;xt=2,Rt/=2,Yt/=2,w/=2}function le(Ye,fn){return 1===xt?Ye[fn]:Ye.readUInt16BE(fn*xt)}if(ot){var ne=-1;for(ht=w;ht<Rt;ht++)if(le(X,ht)===le(x,-1===ne?0:ht-ne)){if(-1===ne&&(ne=ht),ht-ne+1===Yt)return ne*xt}else-1!==ne&&(ht-=ht-ne),ne=-1}else for(w+Yt>Rt&&(w=Rt-Yt),ht=w;ht>=0;ht--){for(var ye=!0,Be=0;Be<Yt;Be++)if(le(X,ht+Be)!==le(x,Be)){ye=!1;break}if(ye)return ht}return-1}function P(X,x,w,Q){w=Number(w)||0;var ot=X.length-w;Q?(Q=Number(Q))>ot&&(Q=ot):Q=ot;var ht=x.length;if(ht%2!=0)throw new TypeError("Invalid hex string");Q>ht/2&&(Q=ht/2);for(var xt=0;xt<Q;++xt){var Rt=parseInt(x.substr(2*xt,2),16);if(isNaN(Rt))return xt;X[w+xt]=Rt}return xt}function k(X,x,w,Q){return ee(Kt(x,X.length-w),X,w,Q)}function st(X,x,w,Q){return ee(function(ht){for(var xt=[],Rt=0;Rt<ht.length;++Rt)xt.push(255&ht.charCodeAt(Rt));return xt}(x),X,w,Q)}function ct(X,x,w,Q){return st(X,x,w,Q)}function wt(X,x,w,Q){return ee(te(x),X,w,Q)}function q(X,x,w,Q){return ee(function(ht,xt){for(var Rt,Yt,ne=[],ye=0;ye<ht.length&&!((xt-=2)<0);++ye)Yt=(Rt=ht.charCodeAt(ye))>>8,ne.push(Rt%256),ne.push(Yt);return ne}(x,X.length-w),X,w,Q)}function Et(X,x,w){return C.fromByteArray(0===x&&w===X.length?X:X.slice(x,w))}function Lt(X,x,w){w=Math.min(X.length,w);for(var Q=[],ot=x;ot<w;){var ht,xt,Rt,Yt,le=X[ot],ne=null,ye=le>239?4:le>223?3:le>191?2:1;if(ot+ye<=w)switch(ye){case 1:le<128&&(ne=le);break;case 2:128==(192&(ht=X[ot+1]))&&(Yt=(31&le)<<6|63&ht)>127&&(ne=Yt);break;case 3:xt=X[ot+2],128==(192&(ht=X[ot+1]))&&128==(192&xt)&&(Yt=(15&le)<<12|(63&ht)<<6|63&xt)>2047&&(Yt<55296||Yt>57343)&&(ne=Yt);break;case 4:xt=X[ot+2],Rt=X[ot+3],128==(192&(ht=X[ot+1]))&&128==(192&xt)&&128==(192&Rt)&&(Yt=(15&le)<<18|(63&ht)<<12|(63&xt)<<6|63&Rt)>65535&&Yt<1114112&&(ne=Yt)}null===ne?(ne=65533,ye=1):ne>65535&&(Q.push((ne-=65536)>>>10&1023|55296),ne=56320|1023&ne),Q.push(ne),ot+=ye}return function(Ye){var fn=Ye.length;if(fn<=Wt)return String.fromCharCode.apply(String,Ye);for(var jt="",_e=0;_e<fn;)jt+=String.fromCharCode.apply(String,Ye.slice(_e,_e+=Wt));return jt}(Q)}T.Buffer=g,T.SlowBuffer=function(x){return+x!=x&&(x=0),g.alloc(+x)},T.INSPECT_MAX_BYTES=50,g.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:function(){try{var x=new Uint8Array(1);return x.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===x.foo()&&"function"==typeof x.subarray&&0===x.subarray(1,1).byteLength}catch{return!1}}(),T.kMaxLength=v(),g.poolSize=8192,g._augment=function(X){return X.__proto__=g.prototype,X},g.from=function(X,x,w){return p(null,X,x,w)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0})),g.alloc=function(X,x,w){return null,xt=x,Rt=w,V(ht=X),ht<=0?_(null,ht):void 0!==xt?"string"==typeof Rt?_(null,ht).fill(xt,Rt):_(null,ht).fill(xt):_(null,ht);var ht,xt,Rt},g.allocUnsafe=function(X){return E(null,X)},g.allocUnsafeSlow=function(X){return E(null,X)},g.isBuffer=function(x){return!(null==x||!x._isBuffer)},g.compare=function(x,w){if(!g.isBuffer(x)||!g.isBuffer(w))throw new TypeError("Arguments must be Buffers");if(x===w)return 0;for(var Q=x.length,ot=w.length,ht=0,xt=Math.min(Q,ot);ht<xt;++ht)if(x[ht]!==w[ht]){Q=x[ht],ot=w[ht];break}return Q<ot?-1:ot<Q?1:0},g.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(x,w){if(!R(x))throw new TypeError('"list" argument must be an Array of Buffers');if(0===x.length)return g.alloc(0);var Q;if(void 0===w)for(w=0,Q=0;Q<x.length;++Q)w+=x[Q].length;var ot=g.allocUnsafe(w),ht=0;for(Q=0;Q<x.length;++Q){var xt=x[Q];if(!g.isBuffer(xt))throw new TypeError('"list" argument must be an Array of Buffers');xt.copy(ot,ht),ht+=xt.length}return ot},g.byteLength=O,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var x=this.length;if(x%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<x;w+=2)K(this,w,w+1);return this},g.prototype.swap32=function(){var x=this.length;if(x%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<x;w+=4)K(this,w,w+3),K(this,w+1,w+2);return this},g.prototype.swap64=function(){var x=this.length;if(x%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<x;w+=8)K(this,w,w+7),K(this,w+1,w+6),K(this,w+2,w+5),K(this,w+3,w+4);return this},g.prototype.toString=function(){var x=0|this.length;return 0===x?"":0===arguments.length?Lt(this,0,x):D.apply(this,arguments)},g.prototype.equals=function(x){if(!g.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x||0===g.compare(this,x)},g.prototype.inspect=function(){var x="",w=T.INSPECT_MAX_BYTES;return this.length>0&&(x=this.toString("hex",0,w).match(/.{2}/g).join(" "),this.length>w&&(x+=" ... ")),"<Buffer "+x+">"},g.prototype.compare=function(x,w,Q,ot,ht){if(!g.isBuffer(x))throw new TypeError("Argument must be a Buffer");if(void 0===w&&(w=0),void 0===Q&&(Q=x?x.length:0),void 0===ot&&(ot=0),void 0===ht&&(ht=this.length),w<0||Q>x.length||ot<0||ht>this.length)throw new RangeError("out of range index");if(ot>=ht&&w>=Q)return 0;if(ot>=ht)return-1;if(w>=Q)return 1;if(this===x)return 0;for(var xt=(ht>>>=0)-(ot>>>=0),Rt=(Q>>>=0)-(w>>>=0),Yt=Math.min(xt,Rt),le=this.slice(ot,ht),ne=x.slice(w,Q),ye=0;ye<Yt;++ye)if(le[ye]!==ne[ye]){xt=le[ye],Rt=ne[ye];break}return xt<Rt?-1:Rt<xt?1:0},g.prototype.includes=function(x,w,Q){return-1!==this.indexOf(x,w,Q)},g.prototype.indexOf=function(x,w,Q){return lt(this,x,w,Q,!0)},g.prototype.lastIndexOf=function(x,w,Q){return lt(this,x,w,Q,!1)},g.prototype.write=function(x,w,Q,ot){if(void 0===w)ot="utf8",Q=this.length,w=0;else if(void 0===Q&&"string"==typeof w)ot=w,Q=this.length,w=0;else{if(!isFinite(w))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");w|=0,isFinite(Q)?(Q|=0,void 0===ot&&(ot="utf8")):(ot=Q,Q=void 0)}var ht=this.length-w;if((void 0===Q||Q>ht)&&(Q=ht),x.length>0&&(Q<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");ot||(ot="utf8");for(var xt=!1;;)switch(ot){case"hex":return P(this,x,w,Q);case"utf8":case"utf-8":return k(this,x,w,Q);case"ascii":return st(this,x,w,Q);case"latin1":case"binary":return ct(this,x,w,Q);case"base64":return wt(this,x,w,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,x,w,Q);default:if(xt)throw new TypeError("Unknown encoding: "+ot);ot=(""+ot).toLowerCase(),xt=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Wt=4096;function he(X,x,w){var Q="";w=Math.min(X.length,w);for(var ot=x;ot<w;++ot)Q+=String.fromCharCode(127&X[ot]);return Q}function ae(X,x,w){var Q="";w=Math.min(X.length,w);for(var ot=x;ot<w;++ot)Q+=String.fromCharCode(X[ot]);return Q}function It(X,x,w){var Q=X.length;(!x||x<0)&&(x=0),(!w||w<0||w>Q)&&(w=Q);for(var ot="",ht=x;ht<w;++ht)ot+=Bt(X[ht]);return ot}function ce(X,x,w){for(var Q=X.slice(x,w),ot="",ht=0;ht<Q.length;ht+=2)ot+=String.fromCharCode(Q[ht]+256*Q[ht+1]);return ot}function m(X,x,w){if(X%1!=0||X<0)throw new RangeError("offset is not uint");if(X+x>w)throw new RangeError("Trying to access beyond buffer length")}function S(X,x,w,Q,ot,ht){if(!g.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>ot||x<ht)throw new RangeError('"value" argument is out of bounds');if(w+Q>X.length)throw new RangeError("Index out of range")}function G(X,x,w,Q){x<0&&(x=65535+x+1);for(var ot=0,ht=Math.min(X.length-w,2);ot<ht;++ot)X[w+ot]=(x&255<<8*(Q?ot:1-ot))>>>8*(Q?ot:1-ot)}function ut(X,x,w,Q){x<0&&(x=4294967295+x+1);for(var ot=0,ht=Math.min(X.length-w,4);ot<ht;++ot)X[w+ot]=x>>>8*(Q?ot:3-ot)&255}function dt(X,x,w,Q,ot,ht){if(w+Q>X.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function gt(X,x,w,Q,ot){return ot||dt(X,0,w,4),z.write(X,x,w,Q,23,4),w+4}function bt(X,x,w,Q,ot){return ot||dt(X,0,w,8),z.write(X,x,w,Q,52,8),w+8}g.prototype.slice=function(x,w){var Q,ot=this.length;if((x=~~x)<0?(x+=ot)<0&&(x=0):x>ot&&(x=ot),(w=void 0===w?ot:~~w)<0?(w+=ot)<0&&(w=0):w>ot&&(w=ot),w<x&&(w=x),g.TYPED_ARRAY_SUPPORT)(Q=this.subarray(x,w)).__proto__=g.prototype;else{var ht=w-x;Q=new g(ht,void 0);for(var xt=0;xt<ht;++xt)Q[xt]=this[xt+x]}return Q},g.prototype.readUIntLE=function(x,w,Q){x|=0,w|=0,Q||m(x,w,this.length);for(var ot=this[x],ht=1,xt=0;++xt<w&&(ht*=256);)ot+=this[x+xt]*ht;return ot},g.prototype.readUIntBE=function(x,w,Q){x|=0,w|=0,Q||m(x,w,this.length);for(var ot=this[x+--w],ht=1;w>0&&(ht*=256);)ot+=this[x+--w]*ht;return ot},g.prototype.readUInt8=function(x,w){return w||m(x,1,this.length),this[x]},g.prototype.readUInt16LE=function(x,w){return w||m(x,2,this.length),this[x]|this[x+1]<<8},g.prototype.readUInt16BE=function(x,w){return w||m(x,2,this.length),this[x]<<8|this[x+1]},g.prototype.readUInt32LE=function(x,w){return w||m(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+16777216*this[x+3]},g.prototype.readUInt32BE=function(x,w){return w||m(x,4,this.length),16777216*this[x]+(this[x+1]<<16|this[x+2]<<8|this[x+3])},g.prototype.readIntLE=function(x,w,Q){x|=0,w|=0,Q||m(x,w,this.length);for(var ot=this[x],ht=1,xt=0;++xt<w&&(ht*=256);)ot+=this[x+xt]*ht;return ot>=(ht*=128)&&(ot-=Math.pow(2,8*w)),ot},g.prototype.readIntBE=function(x,w,Q){x|=0,w|=0,Q||m(x,w,this.length);for(var ot=w,ht=1,xt=this[x+--ot];ot>0&&(ht*=256);)xt+=this[x+--ot]*ht;return xt>=(ht*=128)&&(xt-=Math.pow(2,8*w)),xt},g.prototype.readInt8=function(x,w){return w||m(x,1,this.length),128&this[x]?-1*(255-this[x]+1):this[x]},g.prototype.readInt16LE=function(x,w){w||m(x,2,this.length);var Q=this[x]|this[x+1]<<8;return 32768&Q?4294901760|Q:Q},g.prototype.readInt16BE=function(x,w){w||m(x,2,this.length);var Q=this[x+1]|this[x]<<8;return 32768&Q?4294901760|Q:Q},g.prototype.readInt32LE=function(x,w){return w||m(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},g.prototype.readInt32BE=function(x,w){return w||m(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},g.prototype.readFloatLE=function(x,w){return w||m(x,4,this.length),z.read(this,x,!0,23,4)},g.prototype.readFloatBE=function(x,w){return w||m(x,4,this.length),z.read(this,x,!1,23,4)},g.prototype.readDoubleLE=function(x,w){return w||m(x,8,this.length),z.read(this,x,!0,52,8)},g.prototype.readDoubleBE=function(x,w){return w||m(x,8,this.length),z.read(this,x,!1,52,8)},g.prototype.writeUIntLE=function(x,w,Q,ot){x=+x,w|=0,Q|=0,ot||S(this,x,w,Q,Math.pow(2,8*Q)-1,0);var ht=1,xt=0;for(this[w]=255&x;++xt<Q&&(ht*=256);)this[w+xt]=x/ht&255;return w+Q},g.prototype.writeUIntBE=function(x,w,Q,ot){x=+x,w|=0,Q|=0,ot||S(this,x,w,Q,Math.pow(2,8*Q)-1,0);var ht=Q-1,xt=1;for(this[w+ht]=255&x;--ht>=0&&(xt*=256);)this[w+ht]=x/xt&255;return w+Q},g.prototype.writeUInt8=function(x,w,Q){return x=+x,w|=0,Q||S(this,x,w,1,255,0),g.TYPED_ARRAY_SUPPORT||(x=Math.floor(x)),this[w]=255&x,w+1},g.prototype.writeUInt16LE=function(x,w,Q){return x=+x,w|=0,Q||S(this,x,w,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[w]=255&x,this[w+1]=x>>>8):G(this,x,w,!0),w+2},g.prototype.writeUInt16BE=function(x,w,Q){return x=+x,w|=0,Q||S(this,x,w,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[w]=x>>>8,this[w+1]=255&x):G(this,x,w,!1),w+2},g.prototype.writeUInt32LE=function(x,w,Q){return x=+x,w|=0,Q||S(this,x,w,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[w+3]=x>>>24,this[w+2]=x>>>16,this[w+1]=x>>>8,this[w]=255&x):ut(this,x,w,!0),w+4},g.prototype.writeUInt32BE=function(x,w,Q){return x=+x,w|=0,Q||S(this,x,w,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[w]=x>>>24,this[w+1]=x>>>16,this[w+2]=x>>>8,this[w+3]=255&x):ut(this,x,w,!1),w+4},g.prototype.writeIntLE=function(x,w,Q,ot){if(x=+x,w|=0,!ot){var ht=Math.pow(2,8*Q-1);S(this,x,w,Q,ht-1,-ht)}var xt=0,Rt=1,Yt=0;for(this[w]=255&x;++xt<Q&&(Rt*=256);)x<0&&0===Yt&&0!==this[w+xt-1]&&(Yt=1),this[w+xt]=(x/Rt>>0)-Yt&255;return w+Q},g.prototype.writeIntBE=function(x,w,Q,ot){if(x=+x,w|=0,!ot){var ht=Math.pow(2,8*Q-1);S(this,x,w,Q,ht-1,-ht)}var xt=Q-1,Rt=1,Yt=0;for(this[w+xt]=255&x;--xt>=0&&(Rt*=256);)x<0&&0===Yt&&0!==this[w+xt+1]&&(Yt=1),this[w+xt]=(x/Rt>>0)-Yt&255;return w+Q},g.prototype.writeInt8=function(x,w,Q){return x=+x,w|=0,Q||S(this,x,w,1,127,-128),g.TYPED_ARRAY_SUPPORT||(x=Math.floor(x)),x<0&&(x=255+x+1),this[w]=255&x,w+1},g.prototype.writeInt16LE=function(x,w,Q){return x=+x,w|=0,Q||S(this,x,w,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[w]=255&x,this[w+1]=x>>>8):G(this,x,w,!0),w+2},g.prototype.writeInt16BE=function(x,w,Q){return x=+x,w|=0,Q||S(this,x,w,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[w]=x>>>8,this[w+1]=255&x):G(this,x,w,!1),w+2},g.prototype.writeInt32LE=function(x,w,Q){return x=+x,w|=0,Q||S(this,x,w,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[w]=255&x,this[w+1]=x>>>8,this[w+2]=x>>>16,this[w+3]=x>>>24):ut(this,x,w,!0),w+4},g.prototype.writeInt32BE=function(x,w,Q){return x=+x,w|=0,Q||S(this,x,w,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),g.TYPED_ARRAY_SUPPORT?(this[w]=x>>>24,this[w+1]=x>>>16,this[w+2]=x>>>8,this[w+3]=255&x):ut(this,x,w,!1),w+4},g.prototype.writeFloatLE=function(x,w,Q){return gt(this,x,w,!0,Q)},g.prototype.writeFloatBE=function(x,w,Q){return gt(this,x,w,!1,Q)},g.prototype.writeDoubleLE=function(x,w,Q){return bt(this,x,w,!0,Q)},g.prototype.writeDoubleBE=function(x,w,Q){return bt(this,x,w,!1,Q)},g.prototype.copy=function(x,w,Q,ot){if(Q||(Q=0),ot||0===ot||(ot=this.length),w>=x.length&&(w=x.length),w||(w=0),ot>0&&ot<Q&&(ot=Q),ot===Q||0===x.length||0===this.length)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("sourceStart out of bounds");if(ot<0)throw new RangeError("sourceEnd out of bounds");ot>this.length&&(ot=this.length),x.length-w<ot-Q&&(ot=x.length-w+Q);var ht,xt=ot-Q;if(this===x&&Q<w&&w<ot)for(ht=xt-1;ht>=0;--ht)x[ht+w]=this[ht+Q];else if(xt<1e3||!g.TYPED_ARRAY_SUPPORT)for(ht=0;ht<xt;++ht)x[ht+w]=this[ht+Q];else Uint8Array.prototype.set.call(x,this.subarray(Q,Q+xt),w);return xt},g.prototype.fill=function(x,w,Q,ot){if("string"==typeof x){if("string"==typeof w?(ot=w,w=0,Q=this.length):"string"==typeof Q&&(ot=Q,Q=this.length),1===x.length){var ht=x.charCodeAt(0);ht<256&&(x=ht)}if(void 0!==ot&&"string"!=typeof ot)throw new TypeError("encoding must be a string");if("string"==typeof ot&&!g.isEncoding(ot))throw new TypeError("Unknown encoding: "+ot)}else"number"==typeof x&&(x&=255);if(w<0||this.length<w||this.length<Q)throw new RangeError("Out of range index");if(Q<=w)return this;var xt;if(w>>>=0,Q=void 0===Q?this.length:Q>>>0,x||(x=0),"number"==typeof x)for(xt=w;xt<Q;++xt)this[xt]=x;else{var Rt=g.isBuffer(x)?x:Kt(new g(x,ot).toString()),Yt=Rt.length;for(xt=0;xt<Q-w;++xt)this[xt+w]=Rt[xt%Yt]}return this};var Dt=/[^+\/0-9A-Za-z-_]/g;function Bt(X){return X<16?"0"+X.toString(16):X.toString(16)}function Kt(X,x){var w;x=x||1/0;for(var Q=X.length,ot=null,ht=[],xt=0;xt<Q;++xt){if((w=X.charCodeAt(xt))>55295&&w<57344){if(!ot){if(w>56319){(x-=3)>-1&&ht.push(239,191,189);continue}if(xt+1===Q){(x-=3)>-1&&ht.push(239,191,189);continue}ot=w;continue}if(w<56320){(x-=3)>-1&&ht.push(239,191,189),ot=w;continue}w=65536+(ot-55296<<10|w-56320)}else ot&&(x-=3)>-1&&ht.push(239,191,189);if(ot=null,w<128){if((x-=1)<0)break;ht.push(w)}else if(w<2048){if((x-=2)<0)break;ht.push(w>>6|192,63&w|128)}else if(w<65536){if((x-=3)<0)break;ht.push(w>>12|224,w>>6&63|128,63&w|128)}else{if(!(w<1114112))throw new Error("Invalid code point");if((x-=4)<0)break;ht.push(w>>18|240,w>>12&63|128,w>>6&63|128,63&w|128)}}return ht}function te(X){return C.toByteArray(function(w){if((w=(ot=w,ot.trim?ot.trim():ot.replace(/^\s+|\s+$/g,"")).replace(Dt,"")).length<2)return"";for(var ot;w.length%4!=0;)w+="=";return w}(X))}function ee(X,x,w,Q){for(var ot=0;ot<Q&&!(ot+w>=x.length||ot>=X.length);++ot)x[ot+w]=X[ot];return ot}}).call(this,et(29))},function(Tt,T){var et;et=function(){return this}();try{et=et||new Function("return this")()}catch{"object"==typeof window&&(et=window)}Tt.exports=et},function(Tt,T,et){"use strict";T.byteLength=function(E){var U=g(E),O=U[1];return 3*(U[0]+O)/4-O},T.toByteArray=function(E){var U,B,wt,O=g(E),D=O[0],K=O[1],lt=new z(3*(D+(wt=K))/4-wt),J=0,P=K>0?D-4:D;for(B=0;B<P;B+=4)U=C[E.charCodeAt(B)]<<18|C[E.charCodeAt(B+1)]<<12|C[E.charCodeAt(B+2)]<<6|C[E.charCodeAt(B+3)],lt[J++]=U>>16&255,lt[J++]=U>>8&255,lt[J++]=255&U;return 2===K&&(U=C[E.charCodeAt(B)]<<2|C[E.charCodeAt(B+1)]>>4,lt[J++]=255&U),1===K&&(U=C[E.charCodeAt(B)]<<10|C[E.charCodeAt(B+1)]<<4|C[E.charCodeAt(B+2)]>>2,lt[J++]=U>>8&255,lt[J++]=255&U),lt},T.fromByteArray=function(E){for(var U,B=E.length,O=B%3,D=[],K=16383,lt=0,J=B-O;lt<J;lt+=K)D.push(p(E,lt,lt+K>J?J:lt+K));return 1===O?D.push(r[(U=E[B-1])>>2]+r[U<<4&63]+"=="):2===O&&D.push(r[(U=(E[B-2]<<8)+E[B-1])>>10]+r[U>>4&63]+r[U<<2&63]+"="),D.join("")};for(var r=[],C=[],z=typeof Uint8Array<"u"?Uint8Array:Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=0,_=R.length;v<_;++v)r[v]=R[v],C[R.charCodeAt(v)]=v;function g(V){var E=V.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=V.indexOf("=");return-1===U&&(U=E),[U,U===E?0:4-U%4]}function p(V,E,U){for(var O,D=[],K=E;K<U;K+=3)D.push(r[(O=(V[K]<<16&16711680)+(V[K+1]<<8&65280)+(255&V[K+2]))>>18&63]+r[O>>12&63]+r[O>>6&63]+r[63&O]);return D.join("")}C["-".charCodeAt(0)]=62,C["_".charCodeAt(0)]=63},function(Tt,T){T.read=function(et,r,C,z,R){var v,_,g=8*R-z-1,p=(1<<g)-1,V=p>>1,E=-7,U=C?R-1:0,B=C?-1:1,O=et[r+U];for(U+=B,v=O&(1<<-E)-1,O>>=-E,E+=g;E>0;v=256*v+et[r+U],U+=B,E-=8);for(_=v&(1<<-E)-1,v>>=-E,E+=z;E>0;_=256*_+et[r+U],U+=B,E-=8);if(0===v)v=1-V;else{if(v===p)return _?NaN:1/0*(O?-1:1);_+=Math.pow(2,z),v-=V}return(O?-1:1)*_*Math.pow(2,v-z)},T.write=function(et,r,C,z,R,v){var _,g,p,V=8*v-R-1,E=(1<<V)-1,U=E>>1,B=23===R?Math.pow(2,-24)-Math.pow(2,-77):0,O=z?0:v-1,D=z?1:-1,K=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(g=isNaN(r)?1:0,_=E):(_=Math.floor(Math.log(r)/Math.LN2),r*(p=Math.pow(2,-_))<1&&(_--,p*=2),(r+=_+U>=1?B/p:B*Math.pow(2,1-U))*p>=2&&(_++,p/=2),_+U>=E?(g=0,_=E):_+U>=1?(g=(r*p-1)*Math.pow(2,R),_+=U):(g=r*Math.pow(2,U-1)*Math.pow(2,R),_=0));R>=8;et[C+O]=255&g,O+=D,g/=256,R-=8);for(_=_<<R|g,V+=R;V>0;et[C+O]=255&_,O+=D,_/=256,V-=8);et[C+O-D]|=128*K}},function(Tt,T){var et={}.toString;Tt.exports=Array.isArray||function(r){return"[object Array]"==et.call(r)}},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(z){var R=z.jws,v=z.KeyUtil,_=z.X509,g=z.crypto,p=z.hextob64u,V=z.b64tohex,E=z.AllowedSigningAlgs;return function(){function U(){!function(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,U)}return U.parseJwt=function(O){r.Log.debug("JoseUtil.parseJwt");try{var D=R.JWS.parse(O);return{header:D.headerObj,payload:D.payloadObj}}catch(K){r.Log.error(K)}},U.validateJwt=function(O,D,K,lt,J,P,k){r.Log.debug("JoseUtil.validateJwt");try{if("RSA"===D.kty)if(D.e&&D.n)D=v.getKey(D);else{if(!D.x5c||!D.x5c.length)return r.Log.error("JoseUtil.validateJwt: RSA key missing key material",D),Promise.reject(new Error("RSA key missing key material"));var st=V(D.x5c[0]);D=_.getPublicKeyFromCertHex(st)}else{if("EC"!==D.kty)return r.Log.error("JoseUtil.validateJwt: Unsupported key type",D&&D.kty),Promise.reject(new Error(D.kty));if(!(D.crv&&D.x&&D.y))return r.Log.error("JoseUtil.validateJwt: EC key missing key material",D),Promise.reject(new Error("EC key missing key material"));D=v.getKey(D)}return U._validateJwt(O,D,K,lt,J,P,k)}catch(ct){return r.Log.error(ct&&ct.message||ct),Promise.reject("JWT validation failed")}},U.validateJwtAttributes=function(O,D,K,lt,J,P){lt||(lt=0),J||(J=parseInt(Date.now()/1e3));var k=U.parseJwt(O).payload;if(!k.iss)return r.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(k.iss!==D)return r.Log.error("JoseUtil._validateJwt: Invalid issuer in token",k.iss),Promise.reject(new Error("Invalid issuer in token: "+k.iss));if(!k.aud)return r.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(k.aud===K||Array.isArray(k.aud)&&k.aud.indexOf(K)>=0))return r.Log.error("JoseUtil._validateJwt: Invalid audience in token",k.aud),Promise.reject(new Error("Invalid audience in token: "+k.aud));if(k.azp&&k.azp!==K)return r.Log.error("JoseUtil._validateJwt: Invalid azp in token",k.azp),Promise.reject(new Error("Invalid azp in token: "+k.azp));if(!P){var st=J+lt,ct=J-lt;if(!k.iat)return r.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(st<k.iat)return r.Log.error("JoseUtil._validateJwt: iat is in the future",k.iat),Promise.reject(new Error("iat is in the future: "+k.iat));if(k.nbf&&st<k.nbf)return r.Log.error("JoseUtil._validateJwt: nbf is in the future",k.nbf),Promise.reject(new Error("nbf is in the future: "+k.nbf));if(!k.exp)return r.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(k.exp<ct)return r.Log.error("JoseUtil._validateJwt: exp is in the past",k.exp),Promise.reject(new Error("exp is in the past:"+k.exp))}return Promise.resolve(k)},U._validateJwt=function(O,D,K,lt,J,P,k){return U.validateJwtAttributes(O,K,lt,J,P,k).then(function(st){try{return R.JWS.verify(O,D,E)?st:(r.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(ct){return r.Log.error(ct&&ct.message||ct),Promise.reject(new Error("signature validation failed"))}})},U.hashString=function(O,D){try{return g.Util.hashString(O,D)}catch(K){r.Log.error(K)}},U.hexToBase64Url=function(O){try{return p(O)}catch(D){r.Log.error(D)}},U}()};var r=et(0);Tt.exports=T.default},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SigninResponse=void 0;var r=function(){function R(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&R(v.prototype,_),g&&R(v,g),v}}(),C=et(3);T.SigninResponse=function(){function R(v){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function z(R,v){if(!(R instanceof v))throw new TypeError("Cannot call a class as a function")}(this,R);var g=C.UrlUtility.parseUrlFragment(v,_);this.error=g.error,this.error_description=g.error_description,this.error_uri=g.error_uri,this.code=g.code,this.state=g.state,this.id_token=g.id_token,this.session_state=g.session_state,this.access_token=g.access_token,this.token_type=g.token_type,this.scope=g.scope,this.profile=void 0,this.expires_in=g.expires_in}return r(R,[{key:"expires_in",get:function(){if(this.expires_at){var _=parseInt(Date.now()/1e3);return this.expires_at-_}},set:function(_){var g=parseInt(_);if("number"==typeof g&&g>0){var p=parseInt(Date.now()/1e3);this.expires_at=p+g}}},{key:"expired",get:function(){var _=this.expires_in;if(void 0!==_)return _<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),R}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SignoutRequest=void 0;var r=et(0),C=et(3),z=et(9);T.SignoutRequest=function R(v){var _=v.url,g=v.id_token_hint,p=v.post_logout_redirect_uri,V=v.data,E=v.extraQueryParams,U=v.request_type;if(function(D,K){if(!(D instanceof K))throw new TypeError("Cannot call a class as a function")}(this,R),!_)throw r.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var B in g&&(_=C.UrlUtility.addQueryParam(_,"id_token_hint",g)),p&&(_=C.UrlUtility.addQueryParam(_,"post_logout_redirect_uri",p),V&&(this.state=new z.State({data:V,request_type:U}),_=C.UrlUtility.addQueryParam(_,"state",this.state.id))),E)_=C.UrlUtility.addQueryParam(_,B,E[B]);this.url=_}},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SignoutResponse=void 0;var r=et(3);T.SignoutResponse=function C(z){!function(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}(this,C);var R=r.UrlUtility.parseUrlFragment(z,"?");this.error=R.error,this.error_description=R.error_description,this.error_uri=R.error_uri,this.state=R.state}},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.InMemoryWebStorage=void 0;var r=function(){function z(R,v){for(var _=0;_<v.length;_++){var g=v[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(R,g.key,g)}}return function(R,v,_){return v&&z(R.prototype,v),_&&z(R,_),R}}(),C=et(0);T.InMemoryWebStorage=function(){function z(){(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,z),this._data={}}return z.prototype.getItem=function(v){return C.Log.debug("InMemoryWebStorage.getItem",v),this._data[v]},z.prototype.setItem=function(v,_){C.Log.debug("InMemoryWebStorage.setItem",v),this._data[v]=_},z.prototype.removeItem=function(v){C.Log.debug("InMemoryWebStorage.removeItem",v),delete this._data[v]},z.prototype.key=function(v){return Object.getOwnPropertyNames(this._data)[v]},r(z,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),z}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.UserManager=void 0;var r=function(){function K(lt,J){for(var P=0;P<J.length;P++){var k=J[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(lt,k.key,k)}}return function(lt,J,P){return J&&K(lt.prototype,J),P&&K(lt,P),lt}}(),C=et(0),z=et(10),R=et(39),v=et(15),_=et(45),g=et(47),p=et(18),V=et(8),E=et(20),U=et(11),B=et(4);T.UserManager=function(K){function lt(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.SilentRenewService,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.SessionMonitor,st=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.TokenRevocationClient,ct=arguments.length>4&&void 0!==arguments[4]?arguments[4]:U.TokenClient,wt=arguments.length>5&&void 0!==arguments[5]?arguments[5]:B.JoseUtil;(function O(K,lt){if(!(K instanceof lt))throw new TypeError("Cannot call a class as a function")})(this,lt),J instanceof R.UserManagerSettings||(J=new R.UserManagerSettings(J));var q=function D(K,lt){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!lt||"object"!=typeof lt&&"function"!=typeof lt?K:lt}(this,K.call(this,J));return q._events=new _.UserManagerEvents(J),q._silentRenewService=new P(q),q.settings.automaticSilentRenew&&(C.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),q.startSilentRenew()),q.settings.monitorSession&&(C.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),q._sessionMonitor=new k(q)),q._tokenRevocationClient=new st(q._settings),q._tokenClient=new ct(q._settings),q._joseUtil=wt,q}return function(P,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(P,k):P.__proto__=k)}(lt,K),lt.prototype.getUser=function(){var P=this;return this._loadUser().then(function(k){return k?(C.Log.info("UserManager.getUser: user loaded"),P._events.load(k,!1),k):(C.Log.info("UserManager.getUser: user not found in storage"),null)})},lt.prototype.removeUser=function(){var P=this;return this.storeUser(null).then(function(){C.Log.info("UserManager.removeUser: user removed from storage"),P._events.unload()})},lt.prototype.signinRedirect=function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(P=Object.assign({},P)).request_type="si:r",this._signinStart(P,this._redirectNavigator,{useReplaceToNavigate:P.useReplaceToNavigate}).then(function(){C.Log.info("UserManager.signinRedirect: successful")})},lt.prototype.signinRedirectCallback=function(P){return this._signinEnd(P||this._redirectNavigator.url).then(function(k){return k.profile&&k.profile.sub?C.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",k.profile.sub):C.Log.info("UserManager.signinRedirectCallback: no sub"),k})},lt.prototype.signinPopup=function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(P=Object.assign({},P)).request_type="si:p";var k=P.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return k?(P.redirect_uri=k,P.display="popup",this._signin(P,this._popupNavigator,{startUrl:k,popupWindowFeatures:P.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:P.popupWindowTarget||this.settings.popupWindowTarget}).then(function(st){return st&&(st.profile&&st.profile.sub?C.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",st.profile.sub):C.Log.info("UserManager.signinPopup: no sub")),st})):(C.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},lt.prototype.signinPopupCallback=function(P){return this._signinCallback(P,this._popupNavigator).then(function(k){return k&&(k.profile&&k.profile.sub?C.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",k.profile.sub):C.Log.info("UserManager.signinPopupCallback: no sub")),k}).catch(function(k){C.Log.error(k.message)})},lt.prototype.signinSilent=function(){var P=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k=Object.assign({},k),this._loadUser().then(function(st){return st&&st.refresh_token?(k.refresh_token=st.refresh_token,P._useRefreshToken(k)):(k.request_type="si:s",k.id_token_hint=k.id_token_hint||P.settings.includeIdTokenInSilentRenew&&st&&st.id_token,st&&P._settings.validateSubOnSilentRenew&&(C.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",st.profile.sub),k.current_sub=st.profile.sub),P._signinSilentIframe(k))})},lt.prototype._useRefreshToken=function(){var P=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(st){return st?st.access_token?P._loadUser().then(function(ct){if(ct){var wt=Promise.resolve();return st.id_token&&(wt=P._validateIdTokenFromTokenRefreshToken(ct.profile,st.id_token)),wt.then(function(){return C.Log.debug("UserManager._useRefreshToken: refresh token response success"),ct.id_token=st.id_token||ct.id_token,ct.access_token=st.access_token,ct.refresh_token=st.refresh_token||ct.refresh_token,ct.expires_in=st.expires_in,P.storeUser(ct).then(function(){return P._events.load(ct),ct})})}return null}):(C.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(C.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},lt.prototype._validateIdTokenFromTokenRefreshToken=function(P,k){var st=this;return this._metadataService.getIssuer().then(function(ct){return st.settings.getEpochTime().then(function(wt){return st._joseUtil.validateJwtAttributes(k,ct,st._settings.client_id,st._settings.clockSkew,wt).then(function(q){return q?q.sub!==P.sub?(C.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):q.auth_time&&q.auth_time!==P.auth_time?(C.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):q.azp&&q.azp!==P.azp?(C.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!q.azp&&P.azp?(C.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(C.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},lt.prototype._signinSilentIframe=function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=P.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return k?(P.redirect_uri=k,P.prompt=P.prompt||"none",this._signin(P,this._iframeNavigator,{startUrl:k,silentRequestTimeout:P.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(st){return st&&(st.profile&&st.profile.sub?C.Log.info("UserManager.signinSilent: successful, signed in sub: ",st.profile.sub):C.Log.info("UserManager.signinSilent: no sub")),st})):(C.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},lt.prototype.signinSilentCallback=function(P){return this._signinCallback(P,this._iframeNavigator).then(function(k){return k&&(k.profile&&k.profile.sub?C.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",k.profile.sub):C.Log.info("UserManager.signinSilentCallback: no sub")),k})},lt.prototype.signinCallback=function(P){var k=this;return this.readSigninResponseState(P).then(function(st){var ct=st.state;return"si:r"===ct.request_type?k.signinRedirectCallback(P):"si:p"===ct.request_type?k.signinPopupCallback(P):"si:s"===ct.request_type?k.signinSilentCallback(P):Promise.reject(new Error("invalid response_type in state"))})},lt.prototype.signoutCallback=function(P,k){var st=this;return this.readSignoutResponseState(P).then(function(ct){var wt=ct.state,q=ct.response;return wt?"so:r"===wt.request_type?st.signoutRedirectCallback(P):"so:p"===wt.request_type?st.signoutPopupCallback(P,k):Promise.reject(new Error("invalid response_type in state")):q})},lt.prototype.querySessionStatus=function(){var P=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(k=Object.assign({},k)).request_type="si:s";var st=k.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return st?(k.redirect_uri=st,k.prompt="none",k.response_type=k.response_type||this.settings.query_status_response_type,k.scope=k.scope||"openid",k.skipUserInfo=!0,this._signinStart(k,this._iframeNavigator,{startUrl:st,silentRequestTimeout:k.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ct){return P.processSigninResponse(ct.url).then(function(wt){if(C.Log.debug("UserManager.querySessionStatus: got signin response"),wt.session_state&&wt.profile.sub)return C.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",wt.profile.sub),{session_state:wt.session_state,sub:wt.profile.sub,sid:wt.profile.sid};C.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(wt){if(wt.session_state&&P.settings.monitorAnonymousSession&&("login_required"==wt.message||"consent_required"==wt.message||"interaction_required"==wt.message||"account_selection_required"==wt.message))return C.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:wt.session_state};throw wt})})):(C.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},lt.prototype._signin=function(P,k){var st=this;return this._signinStart(P,k,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(wt){return st._signinEnd(wt.url,P)})},lt.prototype._signinStart=function(P,k){var st=this,ct=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return k.prepare(ct).then(function(wt){return C.Log.debug("UserManager._signinStart: got navigator window handle"),st.createSigninRequest(P).then(function(q){return C.Log.debug("UserManager._signinStart: got signin request"),ct.url=q.url,ct.id=q.state.id,wt.navigate(ct)}).catch(function(q){throw wt.close&&(C.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),wt.close()),q})})},lt.prototype._signinEnd=function(P){var k=this,st=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(P).then(function(ct){C.Log.debug("UserManager._signinEnd: got signin response");var wt=new v.User(ct);if(st.current_sub){if(st.current_sub!==wt.profile.sub)return C.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",wt.profile.sub),Promise.reject(new Error("login_required"));C.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return k.storeUser(wt).then(function(){return C.Log.debug("UserManager._signinEnd: user stored"),k._events.load(wt),wt})})},lt.prototype._signinCallback=function(P,k){C.Log.debug("UserManager._signinCallback");var st="query"===this._settings.response_mode||!this._settings.response_mode&&V.SigninRequest.isCode(this._settings.response_type)?"?":"#";return k.callback(P,void 0,st)},lt.prototype.signoutRedirect=function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(P=Object.assign({},P)).request_type="so:r";var k=P.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return k&&(P.post_logout_redirect_uri=k),this._signoutStart(P,this._redirectNavigator,{useReplaceToNavigate:P.useReplaceToNavigate}).then(function(){C.Log.info("UserManager.signoutRedirect: successful")})},lt.prototype.signoutRedirectCallback=function(P){return this._signoutEnd(P||this._redirectNavigator.url).then(function(k){return C.Log.info("UserManager.signoutRedirectCallback: successful"),k})},lt.prototype.signoutPopup=function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(P=Object.assign({},P)).request_type="so:p";var k=P.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return P.post_logout_redirect_uri=k,P.display="popup",P.post_logout_redirect_uri&&(P.state=P.state||{}),this._signout(P,this._popupNavigator,{startUrl:k,popupWindowFeatures:P.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:P.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){C.Log.info("UserManager.signoutPopup: successful")})},lt.prototype.signoutPopupCallback=function(P,k){return void 0===k&&"boolean"==typeof P&&(k=P,P=null),this._popupNavigator.callback(P,k,"?").then(function(){C.Log.info("UserManager.signoutPopupCallback: successful")})},lt.prototype._signout=function(P,k){var st=this;return this._signoutStart(P,k,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(wt){return st._signoutEnd(wt.url)})},lt.prototype._signoutStart=function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=this,ct=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(ct).then(function(wt){return C.Log.debug("UserManager._signoutStart: got navigator window handle"),k._loadUser().then(function(q){return C.Log.debug("UserManager._signoutStart: loaded current user from storage"),(k._settings.revokeAccessTokenOnSignout?k._revokeInternal(q):Promise.resolve()).then(function(){var Et=P.id_token_hint||q&&q.id_token;return Et&&(C.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),P.id_token_hint=Et),k.removeUser().then(function(){return C.Log.debug("UserManager._signoutStart: user removed, creating signout request"),k.createSignoutRequest(P).then(function(Lt){return C.Log.debug("UserManager._signoutStart: got signout request"),ct.url=Lt.url,Lt.state&&(ct.id=Lt.state.id),wt.navigate(ct)})})})}).catch(function(q){throw wt.close&&(C.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),wt.close()),q})})},lt.prototype._signoutEnd=function(P){return this.processSignoutResponse(P).then(function(k){return C.Log.debug("UserManager._signoutEnd: got signout response"),k})},lt.prototype.revokeAccessToken=function(){var P=this;return this._loadUser().then(function(k){return P._revokeInternal(k,!0).then(function(st){if(st)return C.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),k.access_token=null,k.refresh_token=null,k.expires_at=null,k.token_type=null,P.storeUser(k).then(function(){C.Log.debug("UserManager.revokeAccessToken: user stored"),P._events.load(k)})})}).then(function(){C.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},lt.prototype._revokeInternal=function(P,k){var st=this;if(P){var wt=P.refresh_token;return this._revokeAccessTokenInternal(P.access_token,k).then(function(q){return st._revokeRefreshTokenInternal(wt,k).then(function(Et){return q||Et||C.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),q||Et})})}return Promise.resolve(!1)},lt.prototype._revokeAccessTokenInternal=function(P,k){return!P||P.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(P,k).then(function(){return!0})},lt.prototype._revokeRefreshTokenInternal=function(P,k){return P?this._tokenRevocationClient.revoke(P,k,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},lt.prototype.startSilentRenew=function(){this._silentRenewService.start()},lt.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},lt.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(P){return P?(C.Log.debug("UserManager._loadUser: user storageString loaded"),v.User.fromStorageString(P)):(C.Log.debug("UserManager._loadUser: no user storageString"),null)})},lt.prototype.storeUser=function(P){if(P){C.Log.debug("UserManager.storeUser: storing user");var k=P.toStorageString();return this._userStore.set(this._userStoreKey,k)}return C.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},r(lt,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),lt}(z.OidcClient)},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.UserManagerSettings=void 0;var r=function(){function U(B,O){for(var D=0;D<O.length;D++){var K=O[D];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(B,K.key,K)}}return function(B,O,D){return O&&U(B.prototype,O),D&&U(B,D),B}}(),C=(et(0),et(5)),z=et(40),R=et(41),v=et(43),_=et(6),g=et(1),p=et(8);T.UserManagerSettings=function(U){function B(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=O.popup_redirect_uri,K=O.popup_post_logout_redirect_uri,lt=O.popupWindowFeatures,J=O.popupWindowTarget,P=O.silent_redirect_uri,k=O.silentRequestTimeout,st=O.automaticSilentRenew,ct=void 0!==st&&st,wt=O.validateSubOnSilentRenew,q=void 0!==wt&&wt,Et=O.includeIdTokenInSilentRenew,Lt=void 0===Et||Et,Wt=O.monitorSession,he=void 0===Wt||Wt,ae=O.monitorAnonymousSession,It=void 0!==ae&&ae,ce=O.checkSessionInterval,m=void 0===ce?2e3:ce,S=O.stopCheckSessionOnError,G=void 0===S||S,ut=O.query_status_response_type,dt=O.revokeAccessTokenOnSignout,gt=void 0!==dt&&dt,bt=O.accessTokenExpiringNotificationTime,Dt=void 0===bt?60:bt,Bt=O.redirectNavigator,Kt=void 0===Bt?new z.RedirectNavigator:Bt,te=O.popupNavigator,ee=void 0===te?new R.PopupNavigator:te,X=O.iframeNavigator,x=void 0===X?new v.IFrameNavigator:X,w=O.userStore,Q=void 0===w?new _.WebStorageStateStore({store:g.Global.sessionStorage}):w;!function V(U,B){if(!(U instanceof B))throw new TypeError("Cannot call a class as a function")}(this,B);var ot=function E(U,B){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!B||"object"!=typeof B&&"function"!=typeof B?U:B}(this,U.call(this,arguments[0]));return ot._popup_redirect_uri=D,ot._popup_post_logout_redirect_uri=K,ot._popupWindowFeatures=lt,ot._popupWindowTarget=J,ot._silent_redirect_uri=P,ot._silentRequestTimeout=k,ot._automaticSilentRenew=ct,ot._validateSubOnSilentRenew=q,ot._includeIdTokenInSilentRenew=Lt,ot._accessTokenExpiringNotificationTime=Dt,ot._monitorSession=he,ot._monitorAnonymousSession=It,ot._checkSessionInterval=m,ot._stopCheckSessionOnError=G,ot._query_status_response_type=ut||(arguments[0]&&arguments[0].response_type?p.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),ot._revokeAccessTokenOnSignout=gt,ot._redirectNavigator=Kt,ot._popupNavigator=ee,ot._iframeNavigator=x,ot._userStore=Q,ot}return function(D,K){if("function"!=typeof K&&null!==K)throw new TypeError("Super expression must either be null or a function, not "+typeof K);D.prototype=Object.create(K&&K.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(D,K):D.__proto__=K)}(B,U),r(B,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),B}(C.OidcClientSettings)},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.RedirectNavigator=void 0;var r=function(){function z(R,v){for(var _=0;_<v.length;_++){var g=v[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(R,g.key,g)}}return function(R,v,_){return v&&z(R.prototype,v),_&&z(R,_),R}}(),C=et(0);T.RedirectNavigator=function(){function z(){!function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}(this,z)}return z.prototype.prepare=function(){return Promise.resolve(this)},z.prototype.navigate=function(v){return v&&v.url?(v.useReplaceToNavigate?window.location.replace(v.url):window.location=v.url,Promise.resolve()):(C.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},r(z,[{key:"url",get:function(){return window.location.href}}]),z}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.PopupNavigator=void 0;var r=et(0),C=et(42);T.PopupNavigator=function(){function z(){!function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}(this,z)}return z.prototype.prepare=function(v){var _=new C.PopupWindow(v);return Promise.resolve(_)},z.prototype.callback=function(v,_,g){r.Log.debug("PopupNavigator.callback");try{return C.PopupWindow.notifyOpener(v,_,g),Promise.resolve()}catch(p){return Promise.reject(p)}},z}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.PopupWindow=void 0;var r=function(){function R(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&R(v.prototype,_),g&&R(v,g),v}}(),C=et(0),z=et(3);T.PopupWindow=function(){function R(v){var _=this;(function(E,U){if(!(E instanceof U))throw new TypeError("Cannot call a class as a function")})(this,R),this._promise=new Promise(function(V,E){_._resolve=V,_._reject=E}),this._popup=window.open("",v.popupWindowTarget||"_blank",v.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(C.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return R.prototype.navigate=function(_){return this._popup?_&&_.url?(C.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=_.id,this._id&&(window["popupCallback_"+_.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=_.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},R.prototype._success=function(_){C.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(_)},R.prototype._error=function(_){C.Log.error("PopupWindow.error: ",_),this._cleanup(),this._reject(new Error(_))},R.prototype.close=function(){this._cleanup(!1)},R.prototype._cleanup=function(_){C.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!_&&this._popup.close(),this._popup=null},R.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},R.prototype._callback=function(_,g){this._cleanup(g),_?(C.Log.debug("PopupWindow.callback success"),this._success({url:_})):(C.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},R.notifyOpener=function(_,g,p){if(window.opener){if(_=_||window.location.href){var V=z.UrlUtility.parseUrlFragment(_,p);if(V.state){var U=window.opener["popupCallback_"+V.state];U?(C.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),U(_,g)):C.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else C.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else C.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},r(R,[{key:"promise",get:function(){return this._promise}}]),R}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.IFrameNavigator=void 0;var r=et(0),C=et(44);T.IFrameNavigator=function(){function z(){!function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}(this,z)}return z.prototype.prepare=function(v){var _=new C.IFrameWindow(v);return Promise.resolve(_)},z.prototype.callback=function(v){r.Log.debug("IFrameNavigator.callback");try{return C.IFrameWindow.notifyParent(v),Promise.resolve()}catch(_){return Promise.reject(_)}},z}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.IFrameWindow=void 0;var r=function(){function z(R,v){for(var _=0;_<v.length;_++){var g=v[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(R,g.key,g)}}return function(R,v,_){return v&&z(R.prototype,v),_&&z(R,_),R}}(),C=et(0);T.IFrameWindow=function(){function z(R){var v=this;(function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,z),this._promise=new Promise(function(_,g){v._resolve=_,v._reject=g}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return z.prototype.navigate=function(v){if(v&&v.url){var _=v.silentRequestTimeout||1e4;C.Log.debug("IFrameWindow.navigate: Using timeout of:",_),this._timer=window.setTimeout(this._timeout.bind(this),_),this._frame.src=v.url}else this._error("No url provided");return this.promise},z.prototype._success=function(v){this._cleanup(),C.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(v)},z.prototype._error=function(v){this._cleanup(),C.Log.error(v),this._reject(new Error(v))},z.prototype.close=function(){this._cleanup()},z.prototype._cleanup=function(){this._frame&&(C.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},z.prototype._timeout=function(){C.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},z.prototype._message=function(v){if(C.Log.debug("IFrameWindow.message"),this._timer&&v.origin===this._origin&&v.source===this._frame.contentWindow&&"string"==typeof v.data&&(v.data.startsWith("http://")||v.data.startsWith("https://"))){var _=v.data;_?this._success({url:_}):this._error("Invalid response from frame")}},z.notifyParent=function(v){C.Log.debug("IFrameWindow.notifyParent"),(v=v||window.location.href)&&(C.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(v,location.protocol+"//"+location.host))},r(z,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),z}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.UserManagerEvents=void 0;var r=et(0),C=et(16),z=et(17);T.UserManagerEvents=function(R){function v(_){!function(V,E){if(!(V instanceof E))throw new TypeError("Cannot call a class as a function")}(this,v);var g=function(V,E){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||"object"!=typeof E&&"function"!=typeof E?V:E}(this,R.call(this,_));return g._userLoaded=new z.Event("User loaded"),g._userUnloaded=new z.Event("User unloaded"),g._silentRenewError=new z.Event("Silent renew error"),g._userSignedIn=new z.Event("User signed in"),g._userSignedOut=new z.Event("User signed out"),g._userSessionChanged=new z.Event("User session changed"),g}return function(g,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}(v,R),v.prototype.load=function(g){var p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.Log.debug("UserManagerEvents.load"),R.prototype.load.call(this,g),p&&this._userLoaded.raise(g)},v.prototype.unload=function(){r.Log.debug("UserManagerEvents.unload"),R.prototype.unload.call(this),this._userUnloaded.raise()},v.prototype.addUserLoaded=function(g){this._userLoaded.addHandler(g)},v.prototype.removeUserLoaded=function(g){this._userLoaded.removeHandler(g)},v.prototype.addUserUnloaded=function(g){this._userUnloaded.addHandler(g)},v.prototype.removeUserUnloaded=function(g){this._userUnloaded.removeHandler(g)},v.prototype.addSilentRenewError=function(g){this._silentRenewError.addHandler(g)},v.prototype.removeSilentRenewError=function(g){this._silentRenewError.removeHandler(g)},v.prototype._raiseSilentRenewError=function(g){r.Log.debug("UserManagerEvents._raiseSilentRenewError",g.message),this._silentRenewError.raise(g)},v.prototype.addUserSignedIn=function(g){this._userSignedIn.addHandler(g)},v.prototype.removeUserSignedIn=function(g){this._userSignedIn.removeHandler(g)},v.prototype._raiseUserSignedIn=function(){r.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},v.prototype.addUserSignedOut=function(g){this._userSignedOut.addHandler(g)},v.prototype.removeUserSignedOut=function(g){this._userSignedOut.removeHandler(g)},v.prototype._raiseUserSignedOut=function(){r.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},v.prototype.addUserSessionChanged=function(g){this._userSessionChanged.addHandler(g)},v.prototype.removeUserSessionChanged=function(g){this._userSessionChanged.removeHandler(g)},v.prototype._raiseUserSessionChanged=function(){r.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},v}(C.AccessTokenEvents)},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.Timer=void 0;var r=function(){function g(p,V){for(var E=0;E<V.length;E++){var U=V[E];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(p,U.key,U)}}return function(p,V,E){return V&&g(p.prototype,V),E&&g(p,E),p}}(),C=et(0),z=et(1),R=et(17);T.Timer=function(g){function p(V){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.Global.timer,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function v(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}(this,p);var B=function _(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?g:p}(this,g.call(this,V));return B._timer=E,B._nowFunc=U||function(){return Date.now()/1e3},B}return function(E,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);E.prototype=Object.create(U&&U.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(E,U):E.__proto__=U)}(p,g),p.prototype.init=function(E){E<=0&&(E=1),E=parseInt(E);var U=this.now+E;if(this.expiration===U&&this._timerHandle)C.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),C.Log.debug("Timer.init timer "+this._name+" for duration:",E),this._expiration=U;var B=5;E<B&&(B=E),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*B)}},p.prototype.cancel=function(){this._timerHandle&&(C.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},p.prototype._callback=function(){C.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),g.prototype.raise.call(this))},r(p,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),p}(R.Event)},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SilentRenewService=void 0;var r=et(0);T.SilentRenewService=function(){function C(z){(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,C),this._userManager=z}return C.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(R){}).catch(function(R){r.Log.error("SilentRenewService.start: Error from getUser:",R.message)}))},C.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},C.prototype._tokenExpiring=function(){var R=this;this._userManager.signinSilent().then(function(v){r.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(v){r.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",v.message),R._userManager.events._raiseSilentRenewError(v)})},C}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CordovaPopupNavigator=void 0;var r=et(21);T.CordovaPopupNavigator=function(){function C(){!function(R,v){if(!(R instanceof v))throw new TypeError("Cannot call a class as a function")}(this,C)}return C.prototype.prepare=function(R){var v=new r.CordovaPopupWindow(R);return Promise.resolve(v)},C}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CordovaIFrameNavigator=void 0;var r=et(21);T.CordovaIFrameNavigator=function(){function C(){!function(R,v){if(!(R instanceof v))throw new TypeError("Cannot call a class as a function")}(this,C)}return C.prototype.prepare=function(R){R.popupWindowFeatures="hidden=yes";var v=new r.CordovaPopupWindow(R);return Promise.resolve(v)},C}()},function(Tt,T,et){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.Version="1.11.5"}])},2858:(oe,Tt)=>{"use strict";var T=Object.prototype.hasOwnProperty;function r(v){try{return decodeURIComponent(v.replace(/\+/g," "))}catch{return null}}function C(v){try{return encodeURIComponent(v)}catch{return null}}Tt.stringify=function R(v,_){_=_||"";var p,V,g=[];for(V in"string"!=typeof _&&(_="?"),v)if(T.call(v,V)){if(!(p=v[V])&&(null==p||isNaN(p))&&(p=""),V=C(V),p=C(p),null===V||null===p)continue;g.push(V+"="+p)}return g.length?_+g.join("&"):""},Tt.parse=function z(v){for(var p,_=/([^=?#&]+)=?([^&]*)/g,g={};p=_.exec(v);){var V=r(p[1]),E=r(p[2]);null===V||null===E||V in g||(g[V]=E)}return g}},8237:oe=>{"use strict";oe.exports=function(T,et){if(et=et.split(":")[0],!(T=+T))return!1;switch(et){case"http":case"ws":return 80!==T;case"https":case"wss":return 443!==T;case"ftp":return 21!==T;case"gopher":return 70!==T;case"file":return!1}return 0!==T}},1731:function(oe,Tt,T){var et,r;!function(C,z){"use strict";oe.exports?oe.exports=z():void 0!==(r="function"==typeof(et=z)?et.call(Tt,T,Tt,oe):et)&&(oe.exports=r)}(0,function(C){"use strict";var z=C&&C.IPv6;return{best:function R(_){var U,p=_.toLowerCase().split(":"),V=p.length,E=8;for(""===p[0]&&""===p[1]&&""===p[2]?(p.shift(),p.shift()):""===p[0]&&""===p[1]?p.shift():""===p[V-1]&&""===p[V-2]&&p.pop(),-1!==p[(V=p.length)-1].indexOf(".")&&(E=7),U=0;U<V&&""!==p[U];U++);if(U<E)for(p.splice(U,1,"0000");p.length<E;)p.splice(U,0,"0000");for(var B,O=0;O<E;O++){B=p[O].split("");for(var D=0;D<3&&"0"===B[0]&&B.length>1;D++)B.splice(0,1);p[O]=B.join("")}var K=-1,lt=0,J=0,P=-1,k=!1;for(O=0;O<E;O++)k?"0"===p[O]?J+=1:(k=!1,J>lt&&(K=P,lt=J)):"0"===p[O]&&(k=!0,P=O,J=1);J>lt&&(K=P,lt=J),lt>1&&p.splice(K,lt,""),V=p.length;var st="";for(""===p[0]&&(st=":"),O=0;O<V&&(st+=p[O],O!==V-1);O++)st+=":";return""===p[V-1]&&(st+=":"),st},noConflict:function v(){return C.IPv6===this&&(C.IPv6=z),this}}})},7791:function(oe,Tt,T){var et,r;!function(C,z){"use strict";oe.exports?oe.exports=z():void 0!==(r="function"==typeof(et=z)?et.call(Tt,T,Tt,oe):et)&&(oe.exports=r)}(0,function(C){"use strict";var z=C&&C.SecondLevelDomains,R={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(v){var _=v.lastIndexOf(".");if(_<=0||_>=v.length-1)return!1;var g=v.lastIndexOf(".",_-1);if(g<=0||g>=_-1)return!1;var p=R.list[v.slice(_+1)];return!!p&&p.indexOf(" "+v.slice(g+1,_)+" ")>=0},is:function(v){var _=v.lastIndexOf(".");if(_<=0||_>=v.length-1)return!1;if(v.lastIndexOf(".",_-1)>=0)return!1;var p=R.list[v.slice(_+1)];return!!p&&p.indexOf(" "+v.slice(0,_)+" ")>=0},get:function(v){var _=v.lastIndexOf(".");if(_<=0||_>=v.length-1)return null;var g=v.lastIndexOf(".",_-1);if(g<=0||g>=_-1)return null;var p=R.list[v.slice(_+1)];return!p||p.indexOf(" "+v.slice(g+1,_)+" ")<0?null:v.slice(g+1)},noConflict:function(){return C.SecondLevelDomains===this&&(C.SecondLevelDomains=z),this}};return R})},6876:function(oe,Tt,T){var et,r,C;!function(z,R){"use strict";oe.exports?oe.exports=R(T(709),T(1731),T(7791)):(r=[T(709),T(1731),T(7791)],void 0!==(C="function"==typeof(et=R)?et.apply(Tt,r):et)&&(oe.exports=C))}(0,function(z,R,v,_){"use strict";var g=_&&_.URI;function p(m,S){var G=arguments.length>=1;if(!(this instanceof p))return G?arguments.length>=2?new p(m,S):new p(m):new p;if(void 0===m){if(G)throw new TypeError("undefined is not a valid argument for URI");m=typeof location<"u"?location.href+"":""}if(null===m&&G)throw new TypeError("null is not a valid argument for URI");return this.href(m),void 0!==S?this.absoluteTo(S):this}p.version="1.19.11";var E=p.prototype,U=Object.prototype.hasOwnProperty;function B(m){return m.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function O(m){return void 0===m?"Undefined":String(Object.prototype.toString.call(m)).slice(8,-1)}function D(m){return"Array"===O(m)}function K(m,S){var ut,dt,G={};if("RegExp"===O(S))G=null;else if(D(S))for(ut=0,dt=S.length;ut<dt;ut++)G[S[ut]]=!0;else G[S]=!0;for(ut=0,dt=m.length;ut<dt;ut++)(G&&void 0!==G[m[ut]]||!G&&S.test(m[ut]))&&(m.splice(ut,1),dt--,ut--);return m}function lt(m,S){var G,ut;if(D(S)){for(G=0,ut=S.length;G<ut;G++)if(!lt(m,S[G]))return!1;return!0}var dt=O(S);for(G=0,ut=m.length;G<ut;G++)if("RegExp"===dt){if("string"==typeof m[G]&&m[G].match(S))return!0}else if(m[G]===S)return!0;return!1}function J(m,S){if(!D(m)||!D(S)||m.length!==S.length)return!1;m.sort(),S.sort();for(var G=0,ut=m.length;G<ut;G++)if(m[G]!==S[G])return!1;return!0}function P(m){return m.replace(/^\/+|\/+$/g,"")}function k(m){return escape(m)}function st(m){return encodeURIComponent(m).replace(/[!'()*]/g,k).replace(/\*/g,"%2A")}p._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:p.preventInvalidHostname,duplicateQueryParameters:p.duplicateQueryParameters,escapeQuerySpace:p.escapeQuerySpace}},p.preventInvalidHostname=!1,p.duplicateQueryParameters=!1,p.escapeQuerySpace=!0,p.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,p.idn_expression=/[^a-z0-9\._-]/i,p.punycode_expression=/(xn--)/i,p.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,p.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/gi,p.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u201e\u2018\u2019]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},p.leading_whitespace_expression=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,p.ascii_tab_whitespace=/[\u0009\u000A\u000D]+/g,p.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},p.hostProtocols=["http","https"],p.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,p.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},p.getDomAttribute=function(m){if(m&&m.nodeName){var S=m.nodeName.toLowerCase();if("input"!==S||"image"===m.type)return p.domAttributes[S]}},p.encode=st,p.decode=decodeURIComponent,p.iso8859=function(){p.encode=escape,p.decode=unescape},p.unicode=function(){p.encode=st,p.decode=decodeURIComponent},p.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},p.encodeQuery=function(m,S){var G=p.encode(m+"");return void 0===S&&(S=p.escapeQuerySpace),S?G.replace(/%20/g,"+"):G},p.decodeQuery=function(m,S){m+="",void 0===S&&(S=p.escapeQuerySpace);try{return p.decode(S?m.replace(/\+/g,"%20"):m)}catch{return m}};var wt,ct={encode:"encode",decode:"decode"},q=function(m,S){return function(G){try{return p[S](G+"").replace(p.characters[m][S].expression,function(ut){return p.characters[m][S].map[ut]})}catch{return G}}};for(wt in ct)p[wt+"PathSegment"]=q("pathname",ct[wt]),p[wt+"UrnPathSegment"]=q("urnpath",ct[wt]);var Et=function(m,S,G){return function(ut){var dt;dt=G?function(Bt){return p[S](p[G](Bt))}:p[S];for(var gt=(ut+"").split(m),bt=0,Dt=gt.length;bt<Dt;bt++)gt[bt]=dt(gt[bt]);return gt.join(m)}};function Lt(m){return function(S,G){return void 0===S?this._parts[m]||"":(this._parts[m]=S||null,this.build(!G),this)}}function Wt(m,S){return function(G,ut){return void 0===G?this._parts[m]||"":(null!==G&&(G+="").charAt(0)===S&&(G=G.substring(1)),this._parts[m]=G,this.build(!ut),this)}}p.decodePath=Et("/","decodePathSegment"),p.decodeUrnPath=Et(":","decodeUrnPathSegment"),p.recodePath=Et("/","encodePathSegment","decode"),p.recodeUrnPath=Et(":","encodeUrnPathSegment","decode"),p.encodeReserved=q("reserved","encode"),p.parse=function(m,S){var G;return S||(S={preventInvalidHostname:p.preventInvalidHostname}),(G=(m=(m=m.replace(p.leading_whitespace_expression,"")).replace(p.ascii_tab_whitespace,"")).indexOf("#"))>-1&&(S.fragment=m.substring(G+1)||null,m=m.substring(0,G)),(G=m.indexOf("?"))>-1&&(S.query=m.substring(G+1)||null,m=m.substring(0,G)),"//"===(m=(m=m.replace(/^(https?|ftp|wss?)?:+[/\\]*/i,"$1://")).replace(/^[/\\]{2,}/i,"//")).substring(0,2)?(S.protocol=null,m=m.substring(2),m=p.parseAuthority(m,S)):(G=m.indexOf(":"))>-1&&(S.protocol=m.substring(0,G)||null,S.protocol&&!S.protocol.match(p.protocol_expression)?S.protocol=void 0:"//"===m.substring(G+1,G+3).replace(/\\/g,"/")?(m=m.substring(G+3),m=p.parseAuthority(m,S)):(m=m.substring(G+1),S.urn=!0)),S.path=m,S},p.parseHost=function(m,S){m||(m="");var ut,dt,G=(m=m.replace(/\\/g,"/")).indexOf("/");if(-1===G&&(G=m.length),"["===m.charAt(0))ut=m.indexOf("]"),S.hostname=m.substring(1,ut)||null,S.port=m.substring(ut+2,G)||null,"/"===S.port&&(S.port=null);else{var gt=m.indexOf(":"),bt=m.indexOf("/"),Dt=m.indexOf(":",gt+1);-1!==Dt&&(-1===bt||Dt<bt)?(S.hostname=m.substring(0,G)||null,S.port=null):(dt=m.substring(0,G).split(":"),S.hostname=dt[0]||null,S.port=dt[1]||null)}return S.hostname&&"/"!==m.substring(G).charAt(0)&&(G++,m="/"+m),S.preventInvalidHostname&&p.ensureValidHostname(S.hostname,S.protocol),S.port&&p.ensureValidPort(S.port),m.substring(G)||"/"},p.parseAuthority=function(m,S){return m=p.parseUserinfo(m,S),p.parseHost(m,S)},p.parseUserinfo=function(m,S){var G=m;-1!==m.indexOf("\\")&&(m=m.replace(/\\/g,"/"));var bt,dt=m.indexOf("/"),gt=m.lastIndexOf("@",dt>-1?dt:m.length-1);return gt>-1&&(-1===dt||gt<dt)?(bt=m.substring(0,gt).split(":"),S.username=bt[0]?p.decode(bt[0]):null,bt.shift(),S.password=bt[0]?p.decode(bt.join(":")):null,m=G.substring(gt+1)):(S.username=null,S.password=null),m},p.parseQuery=function(m,S){if(!m)return{};if(!(m=m.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var gt,bt,Dt,G={},ut=m.split("&"),dt=ut.length,Bt=0;Bt<dt;Bt++)gt=ut[Bt].split("="),bt=p.decodeQuery(gt.shift(),S),Dt=gt.length?p.decodeQuery(gt.join("="),S):null,"__proto__"!==bt&&(U.call(G,bt)?(("string"==typeof G[bt]||null===G[bt])&&(G[bt]=[G[bt]]),G[bt].push(Dt)):G[bt]=Dt);return G},p.build=function(m){var S="",G=!1;return m.protocol&&(S+=m.protocol+":"),!m.urn&&(S||m.hostname)&&(S+="//",G=!0),S+=p.buildAuthority(m)||"","string"==typeof m.path&&("/"!==m.path.charAt(0)&&G&&(S+="/"),S+=m.path),"string"==typeof m.query&&m.query&&(S+="?"+m.query),"string"==typeof m.fragment&&m.fragment&&(S+="#"+m.fragment),S},p.buildHost=function(m){var S="";return m.hostname?(p.ip6_expression.test(m.hostname)?S+="["+m.hostname+"]":S+=m.hostname,m.port&&(S+=":"+m.port),S):""},p.buildAuthority=function(m){return p.buildUserinfo(m)+p.buildHost(m)},p.buildUserinfo=function(m){var S="";return m.username&&(S+=p.encode(m.username)),m.password&&(S+=":"+p.encode(m.password)),S&&(S+="@"),S},p.buildQuery=function(m,S,G){var dt,gt,bt,Dt,ut="";for(gt in m)if("__proto__"!==gt&&U.call(m,gt))if(D(m[gt]))for(dt={},bt=0,Dt=m[gt].length;bt<Dt;bt++)void 0!==m[gt][bt]&&void 0===dt[m[gt][bt]+""]&&(ut+="&"+p.buildQueryParameter(gt,m[gt][bt],G),!0!==S&&(dt[m[gt][bt]+""]=!0));else void 0!==m[gt]&&(ut+="&"+p.buildQueryParameter(gt,m[gt],G));return ut.substring(1)},p.buildQueryParameter=function(m,S,G){return p.encodeQuery(m,G)+(null!==S?"="+p.encodeQuery(S,G):"")},p.addQuery=function(m,S,G){if("object"==typeof S)for(var ut in S)U.call(S,ut)&&p.addQuery(m,ut,S[ut]);else{if("string"!=typeof S)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===m[S])return void(m[S]=G);"string"==typeof m[S]&&(m[S]=[m[S]]),D(G)||(G=[G]),m[S]=(m[S]||[]).concat(G)}},p.setQuery=function(m,S,G){if("object"==typeof S)for(var ut in S)U.call(S,ut)&&p.setQuery(m,ut,S[ut]);else{if("string"!=typeof S)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");m[S]=void 0===G?null:G}},p.removeQuery=function(m,S,G){var ut,dt,gt;if(D(S))for(ut=0,dt=S.length;ut<dt;ut++)m[S[ut]]=void 0;else if("RegExp"===O(S))for(gt in m)S.test(gt)&&(m[gt]=void 0);else if("object"==typeof S)for(gt in S)U.call(S,gt)&&p.removeQuery(m,gt,S[gt]);else{if("string"!=typeof S)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==G?"RegExp"===O(G)?m[S]=!D(m[S])&&G.test(m[S])?void 0:K(m[S],G):m[S]!==String(G)||D(G)&&1!==G.length?D(m[S])&&(m[S]=K(m[S],G)):m[S]=void 0:m[S]=void 0}},p.hasQuery=function(m,S,G,ut){switch(O(S)){case"String":break;case"RegExp":for(var dt in m)if(U.call(m,dt)&&S.test(dt)&&(void 0===G||p.hasQuery(m,dt,G)))return!0;return!1;case"Object":for(var gt in S)if(U.call(S,gt)&&!p.hasQuery(m,gt,S[gt]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(O(G)){case"Undefined":return S in m;case"Boolean":return G===Boolean(D(m[S])?m[S].length:m[S]);case"Function":return!!G(m[S],S,m);case"Array":return!!D(m[S])&&(ut?lt:J)(m[S],G);case"RegExp":return D(m[S])?!!ut&&lt(m[S],G):Boolean(m[S]&&m[S].match(G));case"Number":G=String(G);case"String":return D(m[S])?!!ut&&lt(m[S],G):m[S]===G;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},p.joinPaths=function(){for(var m=[],S=[],G=0,ut=0;ut<arguments.length;ut++){var dt=new p(arguments[ut]);m.push(dt);for(var gt=dt.segment(),bt=0;bt<gt.length;bt++)"string"==typeof gt[bt]&&S.push(gt[bt]),gt[bt]&&G++}if(!S.length||!G)return new p("");var Dt=new p("").segment(S);return(""===m[0].path()||"/"===m[0].path().slice(0,1))&&Dt.path("/"+Dt.path()),Dt.normalize()},p.commonPath=function(m,S){var ut,G=Math.min(m.length,S.length);for(ut=0;ut<G;ut++)if(m.charAt(ut)!==S.charAt(ut)){ut--;break}return ut<1?m.charAt(0)===S.charAt(0)&&"/"===m.charAt(0)?"/":"":(("/"!==m.charAt(ut)||"/"!==S.charAt(ut))&&(ut=m.substring(0,ut).lastIndexOf("/")),m.substring(0,ut+1))},p.withinString=function(m,S,G){G||(G={});var ut=G.start||p.findUri.start,dt=G.end||p.findUri.end,gt=G.trim||p.findUri.trim,bt=G.parens||p.findUri.parens,Dt=/[a-z0-9-]=["']?$/i;for(ut.lastIndex=0;;){var Bt=ut.exec(m);if(!Bt)break;var Kt=Bt.index;if(G.ignoreHtml){var te=m.slice(Math.max(Kt-3,0),Kt);if(te&&Dt.test(te))continue}for(var ee=Kt+m.slice(Kt).search(dt),X=m.slice(Kt,ee),x=-1;;){var w=bt.exec(X);if(!w)break;x=Math.max(x,w.index+w[0].length)}if(!((X=x>-1?X.slice(0,x)+X.slice(x).replace(gt,""):X.replace(gt,"")).length<=Bt[0].length||G.ignore&&G.ignore.test(X))){var ot=S(X,Kt,ee=Kt+X.length,m);if(void 0===ot){ut.lastIndex=ee;continue}ot=String(ot),m=m.slice(0,Kt)+ot+m.slice(ee),ut.lastIndex=Kt+ot.length}}return ut.lastIndex=0,m},p.ensureValidHostname=function(m,S){var G=!!m,dt=!1;if(!!S&&(dt=lt(p.hostProtocols,S)),dt&&!G)throw new TypeError("Hostname cannot be empty, if protocol is "+S);if(m&&m.match(p.invalid_hostname_characters)){if(!z)throw new TypeError('Hostname "'+m+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(z.toASCII(m).match(p.invalid_hostname_characters))throw new TypeError('Hostname "'+m+'" contains characters other than [A-Z0-9.-:_]')}},p.ensureValidPort=function(m){if(m){var S=Number(m);if(!(function V(m){return/^[0-9]+$/.test(m)}(S)&&S>0&&S<65536))throw new TypeError('Port "'+m+'" is not a valid port')}},p.noConflict=function(m){if(m){var S={URI:this.noConflict()};return _.URITemplate&&"function"==typeof _.URITemplate.noConflict&&(S.URITemplate=_.URITemplate.noConflict()),_.IPv6&&"function"==typeof _.IPv6.noConflict&&(S.IPv6=_.IPv6.noConflict()),_.SecondLevelDomains&&"function"==typeof _.SecondLevelDomains.noConflict&&(S.SecondLevelDomains=_.SecondLevelDomains.noConflict()),S}return _.URI===this&&(_.URI=g),this},E.build=function(m){return!0===m?this._deferred_build=!0:(void 0===m||this._deferred_build)&&(this._string=p.build(this._parts),this._deferred_build=!1),this},E.clone=function(){return new p(this)},E.valueOf=E.toString=function(){return this.build(!1)._string},E.protocol=Lt("protocol"),E.username=Lt("username"),E.password=Lt("password"),E.hostname=Lt("hostname"),E.port=Lt("port"),E.query=Wt("query","?"),E.fragment=Wt("fragment","#"),E.search=function(m,S){var G=this.query(m,S);return"string"==typeof G&&G.length?"?"+G:G},E.hash=function(m,S){var G=this.fragment(m,S);return"string"==typeof G&&G.length?"#"+G:G},E.pathname=function(m,S){if(void 0===m||!0===m){var G=this._parts.path||(this._parts.hostname?"/":"");return m?(this._parts.urn?p.decodeUrnPath:p.decodePath)(G):G}return this._parts.path=this._parts.urn?m?p.recodeUrnPath(m):"":m?p.recodePath(m):"/",this.build(!S),this},E.path=E.pathname,E.href=function(m,S){var G;if(void 0===m)return this.toString();this._string="",this._parts=p._parts();var ut=m instanceof p,dt="object"==typeof m&&(m.hostname||m.path||m.pathname);if(m.nodeName&&(m=m[p.getDomAttribute(m)]||"",dt=!1),!ut&&dt&&void 0!==m.pathname&&(m=m.toString()),"string"==typeof m||m instanceof String)this._parts=p.parse(String(m),this._parts);else{if(!ut&&!dt)throw new TypeError("invalid input");var bt=ut?m._parts:m;for(G in bt)"query"!==G&&U.call(this._parts,G)&&(this._parts[G]=bt[G]);bt.query&&this.query(bt.query,!1)}return this.build(!S),this},E.is=function(m){var S=!1,G=!1,ut=!1,dt=!1,gt=!1,bt=!1,Dt=!1,Bt=!this._parts.urn;switch(this._parts.hostname&&(Bt=!1,G=p.ip4_expression.test(this._parts.hostname),ut=p.ip6_expression.test(this._parts.hostname),gt=(dt=!(S=G||ut))&&v&&v.has(this._parts.hostname),bt=dt&&p.idn_expression.test(this._parts.hostname),Dt=dt&&p.punycode_expression.test(this._parts.hostname)),m.toLowerCase()){case"relative":return Bt;case"absolute":return!Bt;case"domain":case"name":return dt;case"sld":return gt;case"ip":return S;case"ip4":case"ipv4":case"inet4":return G;case"ip6":case"ipv6":case"inet6":return ut;case"idn":return bt;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return Dt}return null};var he=E.protocol,ae=E.port,It=E.hostname;E.protocol=function(m,S){if(m&&!(m=m.replace(/:(\/\/)?$/,"")).match(p.protocol_expression))throw new TypeError('Protocol "'+m+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return he.call(this,m,S)},E.scheme=E.protocol,E.port=function(m,S){return this._parts.urn?void 0===m?"":this:(void 0!==m&&(0===m&&(m=null),m&&(":"===(m+="").charAt(0)&&(m=m.substring(1)),p.ensureValidPort(m))),ae.call(this,m,S))},E.hostname=function(m,S){if(this._parts.urn)return void 0===m?"":this;if(void 0!==m){var G={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==p.parseHost(m,G))throw new TypeError('Hostname "'+m+'" contains characters other than [A-Z0-9.-]');m=G.hostname,this._parts.preventInvalidHostname&&p.ensureValidHostname(m,this._parts.protocol)}return It.call(this,m,S)},E.origin=function(m,S){if(this._parts.urn)return void 0===m?"":this;if(void 0===m){var G=this.protocol();return this.authority()?(G?G+"://":"")+this.authority():""}var dt=p(m);return this.protocol(dt.protocol()).authority(dt.authority()).build(!S),this},E.host=function(m,S){if(this._parts.urn)return void 0===m?"":this;if(void 0===m)return this._parts.hostname?p.buildHost(this._parts):"";if("/"!==p.parseHost(m,this._parts))throw new TypeError('Hostname "'+m+'" contains characters other than [A-Z0-9.-]');return this.build(!S),this},E.authority=function(m,S){if(this._parts.urn)return void 0===m?"":this;if(void 0===m)return this._parts.hostname?p.buildAuthority(this._parts):"";if("/"!==p.parseAuthority(m,this._parts))throw new TypeError('Hostname "'+m+'" contains characters other than [A-Z0-9.-]');return this.build(!S),this},E.userinfo=function(m,S){if(this._parts.urn)return void 0===m?"":this;if(void 0===m){var G=p.buildUserinfo(this._parts);return G&&G.substring(0,G.length-1)}return"@"!==m[m.length-1]&&(m+="@"),p.parseUserinfo(m,this._parts),this.build(!S),this},E.resource=function(m,S){var G;return void 0===m?this.path()+this.search()+this.hash():(G=p.parse(m),this._parts.path=G.path,this._parts.query=G.query,this._parts.fragment=G.fragment,this.build(!S),this)},E.subdomain=function(m,S){if(this._parts.urn)return void 0===m?"":this;if(void 0===m){if(!this._parts.hostname||this.is("IP"))return"";var G=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,G)||""}var ut=this._parts.hostname.length-this.domain().length,dt=this._parts.hostname.substring(0,ut),gt=new RegExp("^"+B(dt));if(m&&"."!==m.charAt(m.length-1)&&(m+="."),-1!==m.indexOf(":"))throw new TypeError("Domains cannot contain colons");return m&&p.ensureValidHostname(m,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(gt,m),this.build(!S),this},E.domain=function(m,S){if(this._parts.urn)return void 0===m?"":this;if("boolean"==typeof m&&(S=m,m=void 0),void 0===m){if(!this._parts.hostname||this.is("IP"))return"";var G=this._parts.hostname.match(/\./g);if(G&&G.length<2)return this._parts.hostname;var ut=this._parts.hostname.length-this.tld(S).length-1;return ut=this._parts.hostname.lastIndexOf(".",ut-1)+1,this._parts.hostname.substring(ut)||""}if(!m)throw new TypeError("cannot set domain empty");if(-1!==m.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(p.ensureValidHostname(m,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=m;else{var dt=new RegExp(B(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(dt,m)}return this.build(!S),this},E.tld=function(m,S){if(this._parts.urn)return void 0===m?"":this;if("boolean"==typeof m&&(S=m,m=void 0),void 0===m){if(!this._parts.hostname||this.is("IP"))return"";var G=this._parts.hostname.lastIndexOf("."),ut=this._parts.hostname.substring(G+1);return!0!==S&&v&&v.list[ut.toLowerCase()]&&v.get(this._parts.hostname)||ut}var dt;if(!m)throw new TypeError("cannot set TLD empty");if(m.match(/[^a-zA-Z0-9-]/)){if(!v||!v.is(m))throw new TypeError('TLD "'+m+'" contains characters other than [A-Z0-9]');dt=new RegExp(B(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(dt,m)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");dt=new RegExp(B(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(dt,m)}return this.build(!S),this},E.directory=function(m,S){if(this._parts.urn)return void 0===m?"":this;if(void 0===m||!0===m){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var G=this._parts.path.length-this.filename().length-1,ut=this._parts.path.substring(0,G)||(this._parts.hostname?"/":"");return m?p.decodePath(ut):ut}var dt=this._parts.path.length-this.filename().length,gt=this._parts.path.substring(0,dt),bt=new RegExp("^"+B(gt));return this.is("relative")||(m||(m="/"),"/"!==m.charAt(0)&&(m="/"+m)),m&&"/"!==m.charAt(m.length-1)&&(m+="/"),m=p.recodePath(m),this._parts.path=this._parts.path.replace(bt,m),this.build(!S),this},E.filename=function(m,S){if(this._parts.urn)return void 0===m?"":this;if("string"!=typeof m){if(!this._parts.path||"/"===this._parts.path)return"";var G=this._parts.path.lastIndexOf("/"),ut=this._parts.path.substring(G+1);return m?p.decodePathSegment(ut):ut}var dt=!1;"/"===m.charAt(0)&&(m=m.substring(1)),m.match(/\.?\//)&&(dt=!0);var gt=new RegExp(B(this.filename())+"$");return m=p.recodePath(m),this._parts.path=this._parts.path.replace(gt,m),dt?this.normalizePath(S):this.build(!S),this},E.suffix=function(m,S){if(this._parts.urn)return void 0===m?"":this;if(void 0===m||!0===m){if(!this._parts.path||"/"===this._parts.path)return"";var dt,gt,G=this.filename(),ut=G.lastIndexOf(".");return-1===ut?"":(dt=G.substring(ut+1),gt=/^[a-z0-9%]+$/i.test(dt)?dt:"",m?p.decodePathSegment(gt):gt)}"."===m.charAt(0)&&(m=m.substring(1));var Dt,bt=this.suffix();if(bt)Dt=m?new RegExp(B(bt)+"$"):new RegExp(B("."+bt)+"$");else{if(!m)return this;this._parts.path+="."+p.recodePath(m)}return Dt&&(m=p.recodePath(m),this._parts.path=this._parts.path.replace(Dt,m)),this.build(!S),this},E.segment=function(m,S,G){var ut=this._parts.urn?":":"/",dt=this.path(),gt="/"===dt.substring(0,1),bt=dt.split(ut);if(void 0!==m&&"number"!=typeof m&&(G=S,S=m,m=void 0),void 0!==m&&"number"!=typeof m)throw new Error('Bad segment "'+m+'", must be 0-based integer');if(gt&&bt.shift(),m<0&&(m=Math.max(bt.length+m,0)),void 0===S)return void 0===m?bt:bt[m];if(null===m||void 0===bt[m])if(D(S)){bt=[];for(var Dt=0,Bt=S.length;Dt<Bt;Dt++)!S[Dt].length&&(!bt.length||!bt[bt.length-1].length)||(bt.length&&!bt[bt.length-1].length&&bt.pop(),bt.push(P(S[Dt])))}else(S||"string"==typeof S)&&(S=P(S),""===bt[bt.length-1]?bt[bt.length-1]=S:bt.push(S));else S?bt[m]=P(S):bt.splice(m,1);return gt&&bt.unshift(""),this.path(bt.join(ut),G)},E.segmentCoded=function(m,S,G){var ut,dt,gt;if("number"!=typeof m&&(G=S,S=m,m=void 0),void 0===S){if(D(ut=this.segment(m,S,G)))for(dt=0,gt=ut.length;dt<gt;dt++)ut[dt]=p.decode(ut[dt]);else ut=void 0!==ut?p.decode(ut):void 0;return ut}if(D(S))for(dt=0,gt=S.length;dt<gt;dt++)S[dt]=p.encode(S[dt]);else S="string"==typeof S||S instanceof String?p.encode(S):S;return this.segment(m,S,G)};var ce=E.query;return E.query=function(m,S){if(!0===m)return p.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof m){var G=p.parseQuery(this._parts.query,this._parts.escapeQuerySpace),ut=m.call(this,G);return this._parts.query=p.buildQuery(ut||G,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!S),this}return void 0!==m&&"string"!=typeof m?(this._parts.query=p.buildQuery(m,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!S),this):ce.call(this,m,S)},E.setQuery=function(m,S,G){var ut=p.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof m||m instanceof String)ut[m]=void 0!==S?S:null;else{if("object"!=typeof m)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var dt in m)U.call(m,dt)&&(ut[dt]=m[dt])}return this._parts.query=p.buildQuery(ut,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof m&&(G=S),this.build(!G),this},E.addQuery=function(m,S,G){var ut=p.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return p.addQuery(ut,m,void 0===S?null:S),this._parts.query=p.buildQuery(ut,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof m&&(G=S),this.build(!G),this},E.removeQuery=function(m,S,G){var ut=p.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return p.removeQuery(ut,m,S),this._parts.query=p.buildQuery(ut,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof m&&(G=S),this.build(!G),this},E.hasQuery=function(m,S,G){var ut=p.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return p.hasQuery(ut,m,S,G)},E.setSearch=E.setQuery,E.addSearch=E.addQuery,E.removeSearch=E.removeQuery,E.hasSearch=E.hasQuery,E.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},E.normalizeProtocol=function(m){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!m)),this},E.normalizeHostname=function(m){return this._parts.hostname&&(this.is("IDN")&&z?this._parts.hostname=z.toASCII(this._parts.hostname):this.is("IPv6")&&R&&(this._parts.hostname=R.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!m)),this},E.normalizePort=function(m){return"string"==typeof this._parts.protocol&&this._parts.port===p.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!m)),this},E.normalizePath=function(m){var S=this._parts.path;if(!S)return this;if(this._parts.urn)return this._parts.path=p.recodeUrnPath(this._parts.path),this.build(!m),this;if("/"===this._parts.path)return this;var G,dt,gt,ut="";for("/"!==(S=p.recodePath(S)).charAt(0)&&(G=!0,S="/"+S),("/.."===S.slice(-3)||"/."===S.slice(-2))&&(S+="/"),S=S.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),G&&(ut=S.substring(1).match(/^(\.\.\/)+/)||"")&&(ut=ut[0]);-1!==(dt=S.search(/\/\.\.(\/|$)/));)0!==dt?(-1===(gt=S.substring(0,dt).lastIndexOf("/"))&&(gt=dt),S=S.substring(0,gt)+S.substring(dt+3)):S=S.substring(3);return G&&this.is("relative")&&(S=ut+S.substring(1)),this._parts.path=S,this.build(!m),this},E.normalizePathname=E.normalizePath,E.normalizeQuery=function(m){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(p.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!m)),this},E.normalizeFragment=function(m){return this._parts.fragment||(this._parts.fragment=null,this.build(!m)),this},E.normalizeSearch=E.normalizeQuery,E.normalizeHash=E.normalizeFragment,E.iso8859=function(){var m=p.encode,S=p.decode;p.encode=escape,p.decode=decodeURIComponent;try{this.normalize()}finally{p.encode=m,p.decode=S}return this},E.unicode=function(){var m=p.encode,S=p.decode;p.encode=st,p.decode=unescape;try{this.normalize()}finally{p.encode=m,p.decode=S}return this},E.readable=function(){var m=this.clone();m.username("").password("").normalize();var S="";if(m._parts.protocol&&(S+=m._parts.protocol+"://"),m._parts.hostname&&(m.is("punycode")&&z?(S+=z.toUnicode(m._parts.hostname),m._parts.port&&(S+=":"+m._parts.port)):S+=m.host()),m._parts.hostname&&m._parts.path&&"/"!==m._parts.path.charAt(0)&&(S+="/"),S+=m.path(!0),m._parts.query){for(var G="",ut=0,dt=m._parts.query.split("&"),gt=dt.length;ut<gt;ut++){var bt=(dt[ut]||"").split("=");G+="&"+p.decodeQuery(bt[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==bt[1]&&(G+="="+p.decodeQuery(bt[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}S+="?"+G.substring(1)}return S+p.decodeQuery(m.hash(),!0)},E.absoluteTo=function(m){var ut,dt,gt,S=this.clone(),G=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(m instanceof p||(m=new p(m)),S._parts.protocol||(S._parts.protocol=m._parts.protocol,this._parts.hostname))return S;for(dt=0;gt=G[dt];dt++)S._parts[gt]=m._parts[gt];return S._parts.path?(".."===S._parts.path.substring(-2)&&(S._parts.path+="/"),"/"!==S.path().charAt(0)&&(ut=(ut=m.directory())||(0===m.path().indexOf("/")?"/":""),S._parts.path=(ut?ut+"/":"")+S._parts.path,S.normalizePath())):(S._parts.path=m._parts.path,S._parts.query||(S._parts.query=m._parts.query)),S.build(),S},E.relativeTo=function(m){var G,ut,dt,gt,bt,S=this.clone().normalize();if(S._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(m=new p(m).normalize(),G=S._parts,ut=m._parts,gt=S.path(),bt=m.path(),"/"!==gt.charAt(0))throw new Error("URI is already relative");if("/"!==bt.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(G.protocol===ut.protocol&&(G.protocol=null),G.username!==ut.username||G.password!==ut.password||null!==G.protocol||null!==G.username||null!==G.password)return S.build();if(G.hostname!==ut.hostname||G.port!==ut.port)return S.build();if(G.hostname=null,G.port=null,gt===bt)return G.path="",S.build();if(!(dt=p.commonPath(gt,bt)))return S.build();var Dt=ut.path.substring(dt.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return G.path=Dt+G.path.substring(dt.length)||"./",S.build()},E.equals=function(m){var ut,dt,bt,Dt,Bt,S=this.clone(),G=new p(m),gt={};if(S.normalize(),G.normalize(),S.toString()===G.toString())return!0;if(bt=S.query(),Dt=G.query(),S.query(""),G.query(""),S.toString()!==G.toString()||bt.length!==Dt.length)return!1;for(Bt in ut=p.parseQuery(bt,this._parts.escapeQuerySpace),dt=p.parseQuery(Dt,this._parts.escapeQuerySpace),ut)if(U.call(ut,Bt)){if(D(ut[Bt])){if(!J(ut[Bt],dt[Bt]))return!1}else if(ut[Bt]!==dt[Bt])return!1;gt[Bt]=!0}for(Bt in dt)if(U.call(dt,Bt)&&!gt[Bt])return!1;return!0},E.preventInvalidHostname=function(m){return this._parts.preventInvalidHostname=!!m,this},E.duplicateQueryParameters=function(m){return this._parts.duplicateQueryParameters=!!m,this},E.escapeQuerySpace=function(m){return this._parts.escapeQuerySpace=!!m,this},p})},3920:function(oe,Tt,T){var et,r,C;!function(z,R){"use strict";oe.exports?oe.exports=R(T(6876)):(r=[T(6876)],void 0!==(C="function"==typeof(et=R)?et.apply(Tt,r):et)&&(oe.exports=C))}(0,function(z,R){"use strict";var v=R&&R.URITemplate,_=Object.prototype.hasOwnProperty;function g(U){return g._cache[U]?g._cache[U]:this instanceof g?(this.expression=U,g._cache[U]=this,this):new g(U)}function p(U){this.data=U,this.cache={}}var V=g.prototype,E={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};return g._cache={},g.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g,g.VARIABLE_PATTERN=/^([^*:.](?:\.?[^*:.])*)((\*)|:(\d+))?$/,g.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_.]/,g.LITERAL_PATTERN=/[<>{}"`^| \\]/,g.expand=function(U,B,O){var P,k,st,D=E[U.operator],K=D.named?"Named":"Unnamed",lt=U.variables,J=[];for(st=0;k=lt[st];st++){if(0===(P=B.get(k.name)).type&&O&&O.strict)throw new Error('Missing expansion value for variable "'+k.name+'"');if(P.val.length){if(P.type>1&&k.maxlength)throw new Error('Invalid expression: Prefix modifier not applicable to variable "'+k.name+'"');J.push(g["expand"+K](P,D,k.explode,k.explode&&D.separator||",",k.maxlength,k.name))}else P.type&&J.push("")}return J.length?D.prefix+J.join(D.separator):""},g.expandNamed=function(U,B,O,D,K,lt){var wt,q,Et,J="",P=B.encode,k=B.empty_name_separator,st=!U[P].length,ct=2===U.type?"":z[P](lt);for(q=0,Et=U.val.length;q<Et;q++)K?(wt=z[P](U.val[q][1].substring(0,K)),2===U.type&&(ct=z[P](U.val[q][0].substring(0,K)))):st?(wt=z[P](U.val[q][1]),2===U.type?(ct=z[P](U.val[q][0]),U[P].push([ct,wt])):U[P].push([void 0,wt])):(wt=U[P][q][1],2===U.type&&(ct=U[P][q][0])),J&&(J+=D),O?J+=ct+(k||wt?"=":"")+wt:(q||(J+=z[P](lt)+(k||wt?"=":"")),2===U.type&&(J+=ct+","),J+=wt);return J},g.expandUnnamed=function(U,B,O,D,K){var ct,wt,q,lt="",J=B.encode,P=B.empty_name_separator,k=!U[J].length;for(wt=0,q=U.val.length;wt<q;wt++)K?ct=z[J](U.val[wt][1].substring(0,K)):k?(ct=z[J](U.val[wt][1]),U[J].push([2===U.type?z[J](U.val[wt][0]):void 0,ct])):ct=U[J][wt][1],lt&&(lt+=D),2===U.type&&(lt+=K?z[J](U.val[wt][0].substring(0,K)):U[J][wt][0],lt+=O?P||ct?"=":"":","),lt+=ct;return lt},g.noConflict=function(){return R.URITemplate===g&&(R.URITemplate=v),g},V.expand=function(U,B){var O="";(!this.parts||!this.parts.length)&&this.parse(),U instanceof p||(U=new p(U));for(var D=0,K=this.parts.length;D<K;D++)O+="string"==typeof this.parts[D]?this.parts[D]:g.expand(this.parts[D],U,B);return O},V.parse=function(){var P,k,st,U=this.expression,B=g.EXPRESSION_PATTERN,O=g.VARIABLE_PATTERN,D=g.VARIABLE_NAME_PATTERN,K=g.LITERAL_PATTERN,lt=[],J=0,ct=function(Et){if(Et.match(K))throw new Error('Invalid Literal "'+Et+'"');return Et};for(B.lastIndex=0;;){if(null===(k=B.exec(U))){lt.push(ct(U.substring(J)));break}if(lt.push(ct(U.substring(J,k.index))),J=k.index+k[0].length,!E[k[1]])throw new Error('Unknown Operator "'+k[1]+'" in "'+k[0]+'"');if(!k[3])throw new Error('Unclosed Expression "'+k[0]+'"');for(var wt=0,q=(P=k[2].split(",")).length;wt<q;wt++){if(null===(st=P[wt].match(O)))throw new Error('Invalid Variable "'+P[wt]+'" in "'+k[0]+'"');if(st[1].match(D))throw new Error('Invalid Variable Name "'+st[1]+'" in "'+k[0]+'"');P[wt]={name:st[1],explode:!!st[3],maxlength:st[4]&&parseInt(st[4],10)}}if(!P.length)throw new Error('Expression Missing Variable(s) "'+k[0]+'"');lt.push({expression:k[0],operator:k[1],variables:P})}return lt.length||lt.push(ct(U)),this.parts=lt,this},p.prototype.get=function(U){var D,K,lt,B=this.data,O={type:0,val:[],encode:[],encodeReserved:[]};if(void 0!==this.cache[U])return this.cache[U];if(this.cache[U]=O,null==(lt="[object Function]"===String(Object.prototype.toString.call(B))?B(U):"[object Function]"===String(Object.prototype.toString.call(B[U]))?B[U](U):B[U]))return O;if("[object Array]"===String(Object.prototype.toString.call(lt))){for(D=0,K=lt.length;D<K;D++)null!=lt[D]&&O.val.push([void 0,String(lt[D])]);O.val.length&&(O.type=3)}else if("[object Object]"===String(Object.prototype.toString.call(lt))){for(D in lt)_.call(lt,D)&&null!=lt[D]&&O.val.push([D,String(lt[D])]);O.val.length&&(O.type=2)}else O.type=1,O.val.push([void 0,String(lt)]);return O},z.expand=function(U,B){var D=new g(U).expand(B);return new z(D)},g})},709:function(oe,Tt,T){var et;oe=T.nmd(oe),function(r){"object"==typeof global&&global;var v,_=2147483647,g=36,p=1,V=26,E=38,U=700,B=72,O=128,D="-",K=/^xn--/,lt=/[^\x20-\x7E]/,J=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=g-p,st=Math.floor,ct=String.fromCharCode;function q(dt){throw new RangeError(P[dt])}function Et(dt,gt){for(var bt=dt.length,Dt=[];bt--;)Dt[bt]=gt(dt[bt]);return Dt}function Lt(dt,gt){var bt=dt.split("@"),Dt="";return bt.length>1&&(Dt=bt[0]+"@",dt=bt[1]),Dt+Et((dt=dt.replace(J,".")).split("."),gt).join(".")}function Wt(dt){for(var Bt,Kt,gt=[],bt=0,Dt=dt.length;bt<Dt;)(Bt=dt.charCodeAt(bt++))>=55296&&Bt<=56319&&bt<Dt?56320==(64512&(Kt=dt.charCodeAt(bt++)))?gt.push(((1023&Bt)<<10)+(1023&Kt)+65536):(gt.push(Bt),bt--):gt.push(Bt);return gt}function he(dt){return Et(dt,function(gt){var bt="";return gt>65535&&(bt+=ct((gt-=65536)>>>10&1023|55296),gt=56320|1023&gt),bt+ct(gt)}).join("")}function ae(dt){return dt-48<10?dt-22:dt-65<26?dt-65:dt-97<26?dt-97:g}function It(dt,gt){return dt+22+75*(dt<26)-((0!=gt)<<5)}function ce(dt,gt,bt){var Dt=0;for(dt=bt?st(dt/U):dt>>1,dt+=st(dt/gt);dt>k*V>>1;Dt+=g)dt=st(dt/k);return st(Dt+(k+1)*dt/(dt+E))}function m(dt){var Dt,ee,X,x,w,Q,ot,ht,xt,Rt,gt=[],bt=dt.length,Bt=0,Kt=O,te=B;for((ee=dt.lastIndexOf(D))<0&&(ee=0),X=0;X<ee;++X)dt.charCodeAt(X)>=128&&q("not-basic"),gt.push(dt.charCodeAt(X));for(x=ee>0?ee+1:0;x<bt;){for(w=Bt,Q=1,ot=g;x>=bt&&q("invalid-input"),((ht=ae(dt.charCodeAt(x++)))>=g||ht>st((_-Bt)/Q))&&q("overflow"),Bt+=ht*Q,!(ht<(xt=ot<=te?p:ot>=te+V?V:ot-te));ot+=g)Q>st(_/(Rt=g-xt))&&q("overflow"),Q*=Rt;te=ce(Bt-w,Dt=gt.length+1,0==w),st(Bt/Dt)>_-Kt&&q("overflow"),Kt+=st(Bt/Dt),Bt%=Dt,gt.splice(Bt++,0,Kt)}return he(gt)}function S(dt){var gt,bt,Dt,Bt,Kt,te,ee,X,x,w,Q,ht,xt,Rt,Yt,ot=[];for(ht=(dt=Wt(dt)).length,gt=O,bt=0,Kt=B,te=0;te<ht;++te)(Q=dt[te])<128&&ot.push(ct(Q));for(Dt=Bt=ot.length,Bt&&ot.push(D);Dt<ht;){for(ee=_,te=0;te<ht;++te)(Q=dt[te])>=gt&&Q<ee&&(ee=Q);for(ee-gt>st((_-bt)/(xt=Dt+1))&&q("overflow"),bt+=(ee-gt)*xt,gt=ee,te=0;te<ht;++te)if((Q=dt[te])<gt&&++bt>_&&q("overflow"),Q==gt){for(X=bt,x=g;!(X<(w=x<=Kt?p:x>=Kt+V?V:x-Kt));x+=g)ot.push(ct(It(w+(Yt=X-w)%(Rt=g-w),0))),X=st(Yt/Rt);ot.push(ct(It(X,0))),Kt=ce(bt,xt,Dt==Bt),bt=0,++Dt}++bt,++gt}return ot.join("")}v={version:"1.3.2",ucs2:{decode:Wt,encode:he},decode:m,encode:S,toASCII:function ut(dt){return Lt(dt,function(gt){return lt.test(gt)?"xn--"+S(gt):gt})},toUnicode:function G(dt){return Lt(dt,function(gt){return K.test(gt)?m(gt.slice(4).toLowerCase()):gt})}},void 0!==(et=function(){return v}.call(Tt,T,Tt,oe))&&(oe.exports=et)}()},7629:(oe,Tt,T)=>{"use strict";var et=T(8237),r=T(2858),C=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,z=/[\n\r\t]/g,R=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,v=/:\d+$/,_=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,g=/^[a-zA-Z]:/;function p(P){return(P||"").toString().replace(C,"")}var V=[["#","hash"],["?","query"],function(k,st){return B(st.protocol)?k.replace(/\\/g,"/"):k},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],E={hash:1,query:1};function U(P){var k;k=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var q,ct={},wt=typeof(P=P||k.location||{});if("blob:"===P.protocol)ct=new K(unescape(P.pathname),{});else if("string"===wt)for(q in ct=new K(P,{}),E)delete ct[q];else if("object"===wt){for(q in P)q in E||(ct[q]=P[q]);void 0===ct.slashes&&(ct.slashes=R.test(P.href))}return ct}function B(P){return"file:"===P||"ftp:"===P||"http:"===P||"https:"===P||"ws:"===P||"wss:"===P}function O(P,k){P=(P=p(P)).replace(z,""),k=k||{};var Lt,st=_.exec(P),ct=st[1]?st[1].toLowerCase():"",wt=!!st[2],q=!!st[3],Et=0;return wt?q?(Lt=st[2]+st[3]+st[4],Et=st[2].length+st[3].length):(Lt=st[2]+st[4],Et=st[2].length):q?(Lt=st[3]+st[4],Et=st[3].length):Lt=st[4],"file:"===ct?Et>=2&&(Lt=Lt.slice(2)):B(ct)?Lt=st[4]:ct?wt&&(Lt=Lt.slice(2)):Et>=2&&B(k.protocol)&&(Lt=st[4]),{protocol:ct,slashes:wt||B(ct),slashesCount:Et,rest:Lt}}function K(P,k,st){if(P=(P=p(P)).replace(z,""),!(this instanceof K))return new K(P,k,st);var ct,wt,q,Et,Lt,Wt,he=V.slice(),ae=typeof k,It=this,ce=0;for("object"!==ae&&"string"!==ae&&(st=k,k=null),st&&"function"!=typeof st&&(st=r.parse),ct=!(wt=O(P||"",k=U(k))).protocol&&!wt.slashes,It.slashes=wt.slashes||ct&&k.slashes,It.protocol=wt.protocol||k.protocol||"",P=wt.rest,("file:"===wt.protocol&&(2!==wt.slashesCount||g.test(P))||!wt.slashes&&(wt.protocol||wt.slashesCount<2||!B(It.protocol)))&&(he[3]=[/(.*)/,"pathname"]);ce<he.length;ce++)"function"!=typeof(Et=he[ce])?(Wt=Et[1],(q=Et[0])!=q?It[Wt]=P:"string"==typeof q?~(Lt="@"===q?P.lastIndexOf(q):P.indexOf(q))&&("number"==typeof Et[2]?(It[Wt]=P.slice(0,Lt),P=P.slice(Lt+Et[2])):(It[Wt]=P.slice(Lt),P=P.slice(0,Lt))):(Lt=q.exec(P))&&(It[Wt]=Lt[1],P=P.slice(0,Lt.index)),It[Wt]=It[Wt]||ct&&Et[3]&&k[Wt]||"",Et[4]&&(It[Wt]=It[Wt].toLowerCase())):P=Et(P,It);st&&(It.query=st(It.query)),ct&&k.slashes&&"/"!==It.pathname.charAt(0)&&(""!==It.pathname||""!==k.pathname)&&(It.pathname=function D(P,k){if(""===P)return k;for(var st=(k||"/").split("/").slice(0,-1).concat(P.split("/")),ct=st.length,wt=st[ct-1],q=!1,Et=0;ct--;)"."===st[ct]?st.splice(ct,1):".."===st[ct]?(st.splice(ct,1),Et++):Et&&(0===ct&&(q=!0),st.splice(ct,1),Et--);return q&&st.unshift(""),("."===wt||".."===wt)&&st.push(""),st.join("/")}(It.pathname,k.pathname)),"/"!==It.pathname.charAt(0)&&B(It.protocol)&&(It.pathname="/"+It.pathname),et(It.port,It.protocol)||(It.host=It.hostname,It.port=""),It.username=It.password="",It.auth&&(~(Lt=It.auth.indexOf(":"))?(It.username=It.auth.slice(0,Lt),It.username=encodeURIComponent(decodeURIComponent(It.username)),It.password=It.auth.slice(Lt+1),It.password=encodeURIComponent(decodeURIComponent(It.password))):It.username=encodeURIComponent(decodeURIComponent(It.auth)),It.auth=It.password?It.username+":"+It.password:It.username),It.origin="file:"!==It.protocol&&B(It.protocol)&&It.host?It.protocol+"//"+It.host:"null",It.href=It.toString()}K.prototype={set:function lt(P,k,st){var ct=this;switch(P){case"query":"string"==typeof k&&k.length&&(k=(st||r.parse)(k)),ct[P]=k;break;case"port":ct[P]=k,et(k,ct.protocol)?k&&(ct.host=ct.hostname+":"+k):(ct.host=ct.hostname,ct[P]="");break;case"hostname":ct[P]=k,ct.port&&(k+=":"+ct.port),ct.host=k;break;case"host":ct[P]=k,v.test(k)?(k=k.split(":"),ct.port=k.pop(),ct.hostname=k.join(":")):(ct.hostname=k,ct.port="");break;case"protocol":ct.protocol=k.toLowerCase(),ct.slashes=!st;break;case"pathname":case"hash":if(k){var wt="pathname"===P?"/":"#";ct[P]=k.charAt(0)!==wt?wt+k:k}else ct[P]=k;break;case"username":case"password":ct[P]=encodeURIComponent(k);break;case"auth":var q=k.indexOf(":");~q?(ct.username=k.slice(0,q),ct.username=encodeURIComponent(decodeURIComponent(ct.username)),ct.password=k.slice(q+1),ct.password=encodeURIComponent(decodeURIComponent(ct.password))):ct.username=encodeURIComponent(decodeURIComponent(k))}for(var Et=0;Et<V.length;Et++){var Lt=V[Et];Lt[4]&&(ct[Lt[1]]=ct[Lt[1]].toLowerCase())}return ct.auth=ct.password?ct.username+":"+ct.password:ct.username,ct.origin="file:"!==ct.protocol&&B(ct.protocol)&&ct.host?ct.protocol+"//"+ct.host:"null",ct.href=ct.toString(),ct},toString:function J(P){(!P||"function"!=typeof P)&&(P=r.stringify);var k,st=this,ct=st.host,wt=st.protocol;wt&&":"!==wt.charAt(wt.length-1)&&(wt+=":");var q=wt+(st.protocol&&st.slashes||B(st.protocol)?"//":"");return st.username?(q+=st.username,st.password&&(q+=":"+st.password),q+="@"):st.password?(q+=":"+st.password,q+="@"):"file:"!==st.protocol&&B(st.protocol)&&!ct&&"/"!==st.pathname&&(q+="@"),(":"===ct[ct.length-1]||v.test(st.hostname)&&!st.port)&&(ct+=":"),q+=ct+st.pathname,(k="object"==typeof st.query?P(st.query):st.query)&&(q+="?"!==k.charAt(0)?"?"+k:k),st.hash&&(q+=st.hash),q}},K.extractProtocol=O,K.location=U,K.trimLeft=p,K.qs=r,oe.exports=K}}]);